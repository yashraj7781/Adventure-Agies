var Xy=Object.create;var ud=Object.defineProperty;var Zy=Object.getOwnPropertyDescriptor;var Qy=Object.getOwnPropertyNames;var eb=Object.getPrototypeOf,tb=Object.prototype.hasOwnProperty;var cd=(r=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(r,{get:(e,t)=>(typeof require!="undefined"?require:e)[t]}):r)(function(r){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var rb=(r,e)=>()=>(r&&(e=r(r=0)),e);var S=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var nb=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Qy(e))!tb.call(r,i)&&i!==t&&ud(r,i,{get:()=>e[i],enumerable:!(n=Zy(e,i))||n.enumerable});return r};var Qt=(r,e,t)=>(t=r!=null?Xy(eb(r)):{},nb(e||!r||!r.__esModule?ud(t,"default",{value:r,enumerable:!0}):t,r));var process,h=rb(()=>{"use strict";process={env:{NODE_ENV:"production"}}});var qn=S(ea=>{"use strict";h();Object.defineProperty(ea,"__esModule",{value:!0});function ib(r){return typeof r=="function"}ea.isFunction=ib});var Un=S(ra=>{"use strict";h();Object.defineProperty(ra,"__esModule",{value:!0});var ta=!1;ra.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else ta&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ta=r},get useDeprecatedSynchronousErrorHandling(){return ta}}});var ss=S(na=>{"use strict";h();Object.defineProperty(na,"__esModule",{value:!0});function sb(r){setTimeout(function(){throw r},0)}na.hostReportError=sb});var sa=S(ia=>{"use strict";h();Object.defineProperty(ia,"__esModule",{value:!0});var ob=Un(),ab=ss();ia.empty={closed:!0,next:function(r){},error:function(r){if(ob.config.useDeprecatedSynchronousErrorHandling)throw r;ab.hostReportError(r)},complete:function(){}}});var ut=S(oa=>{"use strict";h();Object.defineProperty(oa,"__esModule",{value:!0});oa.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var os=S(aa=>{"use strict";h();Object.defineProperty(aa,"__esModule",{value:!0});function ub(r){return r!==null&&typeof r=="object"}aa.isObject=ub});var ca=S(ua=>{"use strict";h();Object.defineProperty(ua,"__esModule",{value:!0});var cb=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();ua.UnsubscriptionError=cb});var Be=S(la=>{"use strict";h();Object.defineProperty(la,"__esModule",{value:!0});var lb=ut(),db=os(),fb=qn(),as=ca(),hb=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,u=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var l=0;l<n.length;++l){var f=n[l];f.remove(this)}if(fb.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(g){e=g instanceof as.UnsubscriptionError?ld(g.errors):[g]}}if(lb.isArray(u))for(var l=-1,_=u.length;++l<_;){var v=u[l];if(db.isObject(v))try{v.unsubscribe()}catch(M){e=e||[],M instanceof as.UnsubscriptionError?e=e.concat(ld(M.errors)):e.push(M)}}if(e)throw new as.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();la.Subscription=hb;function ld(r){return r.reduce(function(e,t){return e.concat(t instanceof as.UnsubscriptionError?t.errors:t)},[])}});var us=S(Wn=>{"use strict";h();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();Wn.$$rxSubscriber=Wn.rxSubscriber});var He=S(Jr=>{"use strict";h();var fd=Jr&&Jr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jr,"__esModule",{value:!0});var dd=qn(),da=sa(),pb=Be(),_b=us(),$r=Un(),cs=ss(),hd=function(r){fd(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=da.empty;break;case 1:if(!t){o.destination=da.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new fa(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new fa(o,t,n,i);break}return o}return e.prototype[_b.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(pb.Subscription);Jr.Subscriber=hd;var fa=function(r){fd(e,r);function e(t,n,i,o){var u=r.call(this)||this;u._parentSubscriber=t;var l,f=u;return dd.isFunction(n)?l=n:n&&(l=n.next,i=n.error,o=n.complete,n!==da.empty&&(f=Object.create(n),dd.isFunction(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind(u))),u._context=f,u._next=l,u._error=i,u._complete=o,u}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!$r.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=$r.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):cs.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;cs.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!$r.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),$r.config.useDeprecatedSynchronousErrorHandling)throw i;cs.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!$r.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return $r.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(cs.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(hd);Jr.SafeSubscriber=fa});var ls=S(ha=>{"use strict";h();Object.defineProperty(ha,"__esModule",{value:!0});var gb=He();function vb(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof gb.Subscriber?r=n:r=null}return!0}ha.canReportError=vb});var _d=S(_a=>{"use strict";h();Object.defineProperty(_a,"__esModule",{value:!0});var pa=He(),pd=us(),mb=sa();function yb(r,e,t){if(r){if(r instanceof pa.Subscriber)return r;if(r[pd.rxSubscriber])return r[pd.rxSubscriber]()}return!r&&!e&&!t?new pa.Subscriber(mb.empty):new pa.Subscriber(r,e,t)}_a.toSubscriber=yb});var yr=S(ga=>{"use strict";h();Object.defineProperty(ga,"__esModule",{value:!0});ga.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var Vn=S(va=>{"use strict";h();Object.defineProperty(va,"__esModule",{value:!0});function bb(r){return r}va.identity=bb});var ma=S(ds=>{"use strict";h();Object.defineProperty(ds,"__esModule",{value:!0});var Sb=Vn();function wb(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return gd(r)}ds.pipe=wb;function gd(r){return r.length===0?Sb.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}ds.pipeFromArray=gd});var _e=S(ya=>{"use strict";h();Object.defineProperty(ya,"__esModule",{value:!0});var Eb=ls(),Ob=_d(),Ib=yr(),Mb=ma(),fs=Un(),Cb=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=Ob.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||fs.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),fs.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){fs.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Eb.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=vd(t),new t(function(i,o){var u;u=n.subscribe(function(l){try{e(l)}catch(f){o(f),u&&u.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[Ib.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:Mb.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=vd(e),new e(function(n,i){var o;t.subscribe(function(u){return o=u},function(u){return i(u)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();ya.Observable=Cb;function vd(r){if(r||(r=fs.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var Kn=S(ba=>{"use strict";h();Object.defineProperty(ba,"__esModule",{value:!0});var Ab=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();ba.ObjectUnsubscribedError=Ab});var Sa=S(Yn=>{"use strict";h();var Pb=Yn&&Yn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Yn,"__esModule",{value:!0});var Rb=Be(),Db=function(r){Pb(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Rb.Subscription);Yn.SubjectSubscription=Db});var Sr=S(br=>{"use strict";h();var Oa=br&&br.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(br,"__esModule",{value:!0});var md=_e(),Tb=He(),wa=Be(),Bn=Kn(),Nb=Sa(),kb=us(),yd=function(r){Oa(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(Tb.Subscriber);br.SubjectSubscriber=yd;var bd=function(r){Oa(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[kb.rxSubscriber]=function(){return new yd(this)},e.prototype.lift=function(t){var n=new Ea(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new Bn.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),u=0;u<i;u++)o[u].next(t)},e.prototype.error=function(t){if(this.closed)throw new Bn.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),u=0;u<i;u++)o[u].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Bn.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new Bn.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new Bn.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),wa.Subscription.EMPTY):this.isStopped?(t.complete(),wa.Subscription.EMPTY):(this.observers.push(t),new Nb.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new md.Observable;return t.source=this,t},e.create=function(t,n){return new Ea(t,n)},e}(md.Observable);br.Subject=bd;var Ea=function(r){Oa(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):wa.Subscription.EMPTY},e}(bd);br.AnonymousSubject=Ea});var Sd=S(Hn=>{"use strict";h();var xb=Hn&&Hn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hn,"__esModule",{value:!0});var jb=He();function Lb(){return function(e){return e.lift(new Fb(e))}}Hn.refCount=Lb;var Fb=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new qb(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),qb=function(r){xb(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(jb.Subscriber)});var Od=S(zr=>{"use strict";h();var Ia=zr&&zr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zr,"__esModule",{value:!0});var Ub=Sr(),Wb=_e(),Vb=He(),wd=Be(),Kb=Sd(),Ed=function(r){Ia(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new wd.Subscription,t.add(this.source.subscribe(new Yb(this.getSubject(),this))),t.closed&&(this._connection=null,t=wd.Subscription.EMPTY)),t},e.prototype.refCount=function(){return Kb.refCount()(this)},e}(Wb.Observable);zr.ConnectableObservable=Ed;zr.connectableObservableDescriptor=function(){var r=Ed.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var Yb=function(r){Ia(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(Ub.SubjectSubscriber),UR=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new Bb(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),Bb=function(r){Ia(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(Vb.Subscriber)});var Cd=S(Xr=>{"use strict";h();var hs=Xr&&Xr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xr,"__esModule",{value:!0});var Id=He(),Md=Be(),Hb=_e(),Gb=Sr();function $b(r,e,t,n){return function(i){return i.lift(new Jb(r,e,t,n))}}Xr.groupBy=$b;var Jb=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new zb(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),zb=function(r){hs(e,r);function e(t,n,i,o,u){var l=r.call(this,t)||this;return l.keySelector=n,l.elementSelector=i,l.durationSelector=o,l.subjectSelector=u,l.groups=null,l.attemptedToUnsubscribe=!1,l.count=0,l}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),u;if(this.elementSelector)try{u=this.elementSelector(t)}catch(_){this.error(_)}else u=t;if(!o){o=this.subjectSelector?this.subjectSelector():new Gb.Subject,i.set(n,o);var l=new Ma(n,o,this);if(this.destination.next(l),this.durationSelector){var f=void 0;try{f=this.durationSelector(new Ma(n,o))}catch(_){this.error(_);return}this.add(f.subscribe(new Xb(n,o,this)))}}o.closed||o.next(u)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(Id.Subscriber),Xb=function(r){hs(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Id.Subscriber),Ma=function(r){hs(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new Md.Subscription,i=this,o=i.refCountSubscription,u=i.groupSubject;return o&&!o.closed&&n.add(new Zb(o)),n.add(u.subscribe(t)),n},e}(Hb.Observable);Xr.GroupedObservable=Ma;var Zb=function(r){hs(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(Md.Subscription)});var Ad=S(Gn=>{"use strict";h();var Qb=Gn&&Gn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Gn,"__esModule",{value:!0});var e0=Sr(),t0=Kn(),r0=function(r){Qb(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new t0.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(e0.Subject);Gn.BehaviorSubject=r0});var Pd=S($n=>{"use strict";h();var n0=$n&&$n.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($n,"__esModule",{value:!0});var i0=Be(),s0=function(r){n0(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(i0.Subscription);$n.Action=s0});var Zr=S(Jn=>{"use strict";h();var o0=Jn&&Jn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Jn,"__esModule",{value:!0});var a0=Pd(),u0=function(r){o0(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(u){i=!0,o=!!u&&u||new Error(u)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(a0.Action);Jn.AsyncAction=u0});var Rd=S(zn=>{"use strict";h();var c0=zn&&zn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zn,"__esModule",{value:!0});var l0=Zr(),d0=function(r){c0(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(l0.AsyncAction);zn.QueueAction=d0});var Aa=S(Ca=>{"use strict";h();Object.defineProperty(Ca,"__esModule",{value:!0});var f0=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();Ca.Scheduler=f0});var Qr=S(Xn=>{"use strict";h();var h0=Xn&&Xn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xn,"__esModule",{value:!0});var Dd=Aa(),p0=function(r){h0(e,r);function e(t,n){n===void 0&&(n=Dd.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(Dd.Scheduler);Xn.AsyncScheduler=p0});var Td=S(Zn=>{"use strict";h();var _0=Zn&&Zn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Zn,"__esModule",{value:!0});var g0=Qr(),v0=function(r){_0(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(g0.AsyncScheduler);Zn.QueueScheduler=v0});var Pa=S(Qn=>{"use strict";h();Object.defineProperty(Qn,"__esModule",{value:!0});var m0=Rd(),y0=Td();Qn.queueScheduler=new y0.QueueScheduler(m0.QueueAction);Qn.queue=Qn.queueScheduler});var er=S(ei=>{"use strict";h();Object.defineProperty(ei,"__esModule",{value:!0});var Nd=_e();ei.EMPTY=new Nd.Observable(function(r){return r.complete()});function b0(r){return r?S0(r):ei.EMPTY}ei.empty=b0;function S0(r){return new Nd.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var tr=S(Ra=>{"use strict";h();Object.defineProperty(Ra,"__esModule",{value:!0});function w0(r){return r&&typeof r.schedule=="function"}Ra.isScheduler=w0});var Ta=S(Da=>{"use strict";h();Object.defineProperty(Da,"__esModule",{value:!0});Da.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var ps=S(Na=>{"use strict";h();Object.defineProperty(Na,"__esModule",{value:!0});var E0=_e(),O0=Be();function I0(r,e){return new E0.Observable(function(t){var n=new O0.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}Na.scheduleArray=I0});var en=S(ka=>{"use strict";h();Object.defineProperty(ka,"__esModule",{value:!0});var M0=_e(),C0=Ta(),A0=ps();function P0(r,e){return e?A0.scheduleArray(r,e):new M0.Observable(C0.subscribeToArray(r))}ka.fromArray=P0});var _s=S(xa=>{"use strict";h();Object.defineProperty(xa,"__esModule",{value:!0});var R0=tr(),D0=en(),T0=ps();function N0(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return R0.isScheduler(t)?(r.pop(),T0.scheduleArray(r,t)):D0.fromArray(r)}xa.of=N0});var La=S(ja=>{"use strict";h();Object.defineProperty(ja,"__esModule",{value:!0});var kd=_e();function k0(r,e){return e?new kd.Observable(function(t){return e.schedule(x0,0,{error:r,subscriber:t})}):new kd.Observable(function(t){return t.error(r)})}ja.throwError=k0;function x0(r){var e=r.error,t=r.subscriber;t.error(e)}});var Fa=S(ti=>{"use strict";h();Object.defineProperty(ti,"__esModule",{value:!0});var j0=er(),L0=_s(),F0=La(),q0;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(q0=ti.NotificationKind||(ti.NotificationKind={}));var U0=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return L0.of(this.value);case"E":return F0.throwError(this.error);case"C":return j0.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e!="undefined"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();ti.Notification=U0});var Fd=S(rr=>{"use strict";h();var W0=rr&&rr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rr,"__esModule",{value:!0});var V0=He(),qa=Fa();function K0(r,e){return e===void 0&&(e=0),function(n){return n.lift(new xd(r,e))}}rr.observeOn=K0;var xd=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new jd(e,this.scheduler,this.delay))},r}();rr.ObserveOnOperator=xd;var jd=function(r){W0(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Ld(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(qa.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(qa.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(qa.Notification.createComplete()),this.unsubscribe()},e}(V0.Subscriber);rr.ObserveOnSubscriber=jd;var Ld=function(){function r(e,t){this.notification=e,this.destination=t}return r}();rr.ObserveOnMessage=Ld});var qd=S(ri=>{"use strict";h();var Y0=ri&&ri.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ri,"__esModule",{value:!0});var B0=Sr(),H0=Pa(),G0=Be(),$0=Fd(),J0=Kn(),z0=Sa(),X0=function(r){Y0(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new Z0(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=i.length,l;if(this.closed)throw new J0.ObjectUnsubscribedError;if(this.isStopped||this.hasError?l=G0.Subscription.EMPTY:(this.observers.push(t),l=new z0.SubjectSubscription(this,t)),o&&t.add(t=new $0.ObserveOnSubscriber(t,o)),n)for(var f=0;f<u&&!t.closed;f++)t.next(i[f]);else for(var f=0;f<u&&!t.closed;f++)t.next(i[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l},e.prototype._getNow=function(){return(this.scheduler||H0.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,u=o.length,l=0;l<u&&!(t-o[l].time<i);)l++;return u>n&&(l=Math.max(l,u-n)),l>0&&o.splice(0,l),o},e}(B0.Subject);ri.ReplaySubject=X0;var Z0=function(){function r(e,t){this.time=e,this.value=t}return r}()});var gs=S(ni=>{"use strict";h();var Q0=ni&&ni.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ni,"__esModule",{value:!0});var eS=Sr(),Ud=Be(),tS=function(r){Q0(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),Ud.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),Ud.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(eS.Subject);ni.AsyncSubject=tS});var Vd=S(ms=>{"use strict";h();Object.defineProperty(ms,"__esModule",{value:!0});var rS=1,nS=function(){return Promise.resolve()}(),vs={};function Wd(r){return r in vs?(delete vs[r],!0):!1}ms.Immediate={setImmediate:function(r){var e=rS++;return vs[e]=!0,nS.then(function(){return Wd(e)&&r()}),e},clearImmediate:function(r){Wd(r)}};ms.TestTools={pending:function(){return Object.keys(vs).length}}});var Yd=S(ii=>{"use strict";h();var iS=ii&&ii.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ii,"__esModule",{value:!0});var Kd=Vd(),sS=Zr(),oS=function(r){iS(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=Kd.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(Kd.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(sS.AsyncAction);ii.AsapAction=oS});var Bd=S(si=>{"use strict";h();var aS=si&&si.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(si,"__esModule",{value:!0});var uS=Qr(),cS=function(r){aS(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,u=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<u&&(t=n.shift()));if(this.active=!1,i){for(;++o<u&&(t=n.shift());)t.unsubscribe();throw i}},e}(uS.AsyncScheduler);si.AsapScheduler=cS});var Hd=S(oi=>{"use strict";h();Object.defineProperty(oi,"__esModule",{value:!0});var lS=Yd(),dS=Bd();oi.asapScheduler=new dS.AsapScheduler(lS.AsapAction);oi.asap=oi.asapScheduler});var ys=S(ai=>{"use strict";h();Object.defineProperty(ai,"__esModule",{value:!0});var fS=Zr(),hS=Qr();ai.asyncScheduler=new hS.AsyncScheduler(fS.AsyncAction);ai.async=ai.asyncScheduler});var Gd=S(ui=>{"use strict";h();var pS=ui&&ui.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ui,"__esModule",{value:!0});var _S=Zr(),gS=function(r){pS(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(_S.AsyncAction);ui.AnimationFrameAction=gS});var $d=S(ci=>{"use strict";h();var vS=ci&&ci.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ci,"__esModule",{value:!0});var mS=Qr(),yS=function(r){vS(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,u=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<u&&(t=n.shift()));if(this.active=!1,i){for(;++o<u&&(t=n.shift());)t.unsubscribe();throw i}},e}(mS.AsyncScheduler);ci.AnimationFrameScheduler=yS});var Jd=S(li=>{"use strict";h();Object.defineProperty(li,"__esModule",{value:!0});var bS=Gd(),SS=$d();li.animationFrameScheduler=new SS.AnimationFrameScheduler(bS.AnimationFrameAction);li.animationFrame=li.animationFrameScheduler});var Zd=S(tn=>{"use strict";h();var zd=tn&&tn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(tn,"__esModule",{value:!0});var wS=Zr(),ES=Qr(),OS=function(r){zd(e,r);function e(t,n){t===void 0&&(t=Xd),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,u;(u=n[0])&&u.delay<=i&&(n.shift(),this.frame=u.delay,!(o=u.execute(u.state,u.delay))););if(o){for(;u=n.shift();)u.unsubscribe();throw o}},e.frameTimeFactor=10,e}(ES.AsyncScheduler);tn.VirtualTimeScheduler=OS;var Xd=function(r){zd(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(wS.AsyncAction);tn.VirtualAction=Xd});var Wa=S(Ua=>{"use strict";h();Object.defineProperty(Ua,"__esModule",{value:!0});function IS(){}Ua.noop=IS});var Qd=S(Va=>{"use strict";h();Object.defineProperty(Va,"__esModule",{value:!0});var MS=_e();function CS(r){return!!r&&(r instanceof MS.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}Va.isObservable=CS});var ef=S(Ka=>{"use strict";h();Object.defineProperty(Ka,"__esModule",{value:!0});var AS=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();Ka.ArgumentOutOfRangeError=AS});var tf=S(Ya=>{"use strict";h();Object.defineProperty(Ya,"__esModule",{value:!0});var PS=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();Ya.EmptyError=PS});var rf=S(Ba=>{"use strict";h();Object.defineProperty(Ba,"__esModule",{value:!0});var RS=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();Ba.TimeoutError=RS});var wr=S(rn=>{"use strict";h();var DS=rn&&rn.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rn,"__esModule",{value:!0});var TS=He();function NS(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new nf(r,e))}}rn.map=NS;var nf=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new kS(e,this.project,this.thisArg))},r}();rn.MapOperator=nf;var kS=function(r){DS(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(TS.Subscriber)});var af=S(Ha=>{"use strict";h();Object.defineProperty(Ha,"__esModule",{value:!0});var xS=_e(),sf=gs(),jS=wr(),LS=ls(),FS=ut(),qS=tr();function of(r,e,t){if(e)if(qS.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return of(r,t).apply(void 0,n).pipe(jS.map(function(o){return FS.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,u,l={context:o,subject:u,callbackFunc:r,scheduler:t};return new xS.Observable(function(f){if(t){var v={args:n,subscriber:f,params:l};return t.schedule(US,0,v)}else{if(!u){u=new sf.AsyncSubject;var _=function(){for(var g=[],M=0;M<arguments.length;M++)g[M]=arguments[M];u.next(g.length<=1?g[0]:g),u.complete()};try{r.apply(o,n.concat([_]))}catch(g){LS.canReportError(u)?u.error(g):console.warn(g)}}return u.subscribe(f)}})}}Ha.bindCallback=of;function US(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,u=o.callbackFunc,l=o.context,f=o.scheduler,_=o.subject;if(!_){_=o.subject=new sf.AsyncSubject;var v=function(){for(var g=[],M=0;M<arguments.length;M++)g[M]=arguments[M];var W=g.length<=1?g[0]:g;e.add(f.schedule(WS,0,{value:W,subject:_}))};try{u.apply(l,n.concat([v]))}catch(g){_.error(g)}}this.add(_.subscribe(i))}function WS(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var df=S(Ga=>{"use strict";h();Object.defineProperty(Ga,"__esModule",{value:!0});var VS=_e(),cf=gs(),KS=wr(),YS=ls(),BS=tr(),HS=ut();function lf(r,e,t){if(e)if(BS.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return lf(r,t).apply(void 0,n).pipe(KS.map(function(o){return HS.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new VS.Observable(function(u){var l=o.context,f=o.subject;if(t)return t.schedule(GS,0,{params:o,subscriber:u,context:l});if(!f){f=o.subject=new cf.AsyncSubject;var _=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var M=v.shift();if(M){f.error(M);return}f.next(v.length<=1?v[0]:v),f.complete()};try{r.apply(l,n.concat([_]))}catch(v){YS.canReportError(f)?f.error(v):console.warn(v)}}return f.subscribe(u)})}}Ga.bindNodeCallback=lf;function GS(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,u=t.args,l=t.scheduler,f=t.subject;if(!f){f=t.subject=new cf.AsyncSubject;var _=function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var M=v.shift();if(M)e.add(l.schedule(uf,0,{err:M,subject:f}));else{var W=v.length<=1?v[0]:v;e.add(l.schedule($S,0,{value:W,subject:f}))}};try{o.apply(i,u.concat([_]))}catch(v){this.add(l.schedule(uf,0,{err:v,subject:f}))}}this.add(f.subscribe(n))}function $S(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function uf(r){var e=r.err,t=r.subject;t.error(e)}});var $a=S(di=>{"use strict";h();var JS=di&&di.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(di,"__esModule",{value:!0});var zS=He(),XS=function(r){JS(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,u){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(zS.Subscriber);di.OuterSubscriber=XS});var ff=S(fi=>{"use strict";h();var ZS=fi&&fi.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fi,"__esModule",{value:!0});var QS=He(),ew=function(r){ZS(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(QS.Subscriber);fi.InnerSubscriber=ew});var hf=S(Ja=>{"use strict";h();Object.defineProperty(Ja,"__esModule",{value:!0});var tw=ss();Ja.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,tw.hostReportError),e}}});var sn=S(nn=>{"use strict";h();Object.defineProperty(nn,"__esModule",{value:!0});function pf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}nn.getSymbolIterator=pf;nn.iterator=pf();nn.$$iterator=nn.iterator});var _f=S(za=>{"use strict";h();Object.defineProperty(za,"__esModule",{value:!0});var rw=sn();za.subscribeToIterable=function(r){return function(e){var t=r[rw.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var gf=S(Xa=>{"use strict";h();Object.defineProperty(Xa,"__esModule",{value:!0});var nw=yr();Xa.subscribeToObservable=function(r){return function(e){var t=r[nw.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var Qa=S(Za=>{"use strict";h();Object.defineProperty(Za,"__esModule",{value:!0});Za.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var tu=S(eu=>{"use strict";h();Object.defineProperty(eu,"__esModule",{value:!0});function iw(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}eu.isPromise=iw});var hi=S(ru=>{"use strict";h();Object.defineProperty(ru,"__esModule",{value:!0});var sw=Ta(),ow=hf(),aw=_f(),uw=gf(),cw=Qa(),lw=tu(),dw=os(),fw=sn(),hw=yr();ru.subscribeTo=function(r){if(r&&typeof r[hw.observable]=="function")return uw.subscribeToObservable(r);if(cw.isArrayLike(r))return sw.subscribeToArray(r);if(lw.isPromise(r))return ow.subscribeToPromise(r);if(r&&typeof r[fw.iterator]=="function")return aw.subscribeToIterable(r);var e=dw.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var iu=S(nu=>{"use strict";h();Object.defineProperty(nu,"__esModule",{value:!0});var pw=ff(),_w=hi(),gw=_e();function vw(r,e,t,n,i){if(i===void 0&&(i=new pw.InnerSubscriber(r,t,n)),!i.closed)return e instanceof gw.Observable?e.subscribe(i):_w.subscribeTo(e)(i)}nu.subscribeToResult=vw});var bf=S(Er=>{"use strict";h();var mw=Er&&Er.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Er,"__esModule",{value:!0});var yw=tr(),bw=ut(),Sw=$a(),ww=iu(),Ew=en(),vf={};function Ow(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return yw.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&bw.isArray(r[0])&&(r=r[0]),Ew.fromArray(r,n).lift(new mf(t))}Er.combineLatest=Ow;var mf=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new yf(e,this.resultSelector))},r}();Er.CombineLatestOperator=mf;var yf=function(r){mw(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(vf),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(ww.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,u=o[i],l=this.toRespond?u===vf?--this.toRespond:this.toRespond:0;o[i]=n,l===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Sw.OuterSubscriber);Er.CombineLatestSubscriber=yf});var Sf=S(su=>{"use strict";h();Object.defineProperty(su,"__esModule",{value:!0});var Iw=_e(),Mw=Be(),Cw=yr();function Aw(r,e){return new Iw.Observable(function(t){var n=new Mw.Subscription;return n.add(e.schedule(function(){var i=r[Cw.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}su.scheduleObservable=Aw});var wf=S(ou=>{"use strict";h();Object.defineProperty(ou,"__esModule",{value:!0});var Pw=_e(),Rw=Be();function Dw(r,e){return new Pw.Observable(function(t){var n=new Rw.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}ou.schedulePromise=Dw});var Ef=S(au=>{"use strict";h();Object.defineProperty(au,"__esModule",{value:!0});var Tw=_e(),Nw=Be(),kw=sn();function xw(r,e){if(!r)throw new Error("Iterable cannot be null");return new Tw.Observable(function(t){var n=new Nw.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[kw.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,u;try{var l=i.next();o=l.value,u=l.done}catch(f){t.error(f);return}u?t.complete():(t.next(o),this.schedule())}}))})),n})}au.scheduleIterable=xw});var Of=S(uu=>{"use strict";h();Object.defineProperty(uu,"__esModule",{value:!0});var jw=yr();function Lw(r){return r&&typeof r[jw.observable]=="function"}uu.isInteropObservable=Lw});var If=S(cu=>{"use strict";h();Object.defineProperty(cu,"__esModule",{value:!0});var Fw=sn();function qw(r){return r&&typeof r[Fw.iterator]=="function"}cu.isIterable=qw});var du=S(lu=>{"use strict";h();Object.defineProperty(lu,"__esModule",{value:!0});var Uw=Sf(),Ww=wf(),Vw=ps(),Kw=Ef(),Yw=Of(),Bw=tu(),Hw=Qa(),Gw=If();function $w(r,e){if(r!=null){if(Yw.isInteropObservable(r))return Uw.scheduleObservable(r,e);if(Bw.isPromise(r))return Ww.schedulePromise(r,e);if(Hw.isArrayLike(r))return Vw.scheduleArray(r,e);if(Gw.isIterable(r)||typeof r=="string")return Kw.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}lu.scheduled=$w});var Or=S(fu=>{"use strict";h();Object.defineProperty(fu,"__esModule",{value:!0});var Mf=_e(),Jw=hi(),zw=du();function Xw(r,e){return e?zw.scheduled(r,e):r instanceof Mf.Observable?r:new Mf.Observable(Jw.subscribeTo(r))}fu.from=Xw});var hu=S(Kt=>{"use strict";h();var bs=Kt&&Kt.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Kt,"__esModule",{value:!0});var Ss=He(),Zw=_e(),Qw=hi(),eE=function(r){bs(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Ss.Subscriber);Kt.SimpleInnerSubscriber=eE;var tE=function(r){bs(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Ss.Subscriber);Kt.ComplexInnerSubscriber=tE;var rE=function(r){bs(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Ss.Subscriber);Kt.SimpleOuterSubscriber=rE;var nE=function(r){bs(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Ss.Subscriber);Kt.ComplexOuterSubscriber=nE;function iE(r,e){if(!e.closed){if(r instanceof Zw.Observable)return r.subscribe(e);var t;try{t=Qw.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}Kt.innerSubscribe=iE});var Pf=S(nr=>{"use strict";h();var sE=nr&&nr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nr,"__esModule",{value:!0});var oE=wr(),aE=Or(),pu=hu();function _u(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(_u(function(i,o){return aE.from(r(i,o)).pipe(oE.map(function(u,l){return e(i,u,o,l)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new Cf(r,t))})}nr.mergeMap=_u;var Cf=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new Af(e,this.project,this.concurrent))},r}();nr.MergeMapOperator=Cf;var Af=function(r){sE(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new pu.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=pu.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(pu.SimpleOuterSubscriber);nr.MergeMapSubscriber=Af;nr.flatMap=_u});var vu=S(gu=>{"use strict";h();Object.defineProperty(gu,"__esModule",{value:!0});var uE=Pf(),cE=Vn();function lE(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),uE.mergeMap(cE.identity,r)}gu.mergeAll=lE});var Rf=S(mu=>{"use strict";h();Object.defineProperty(mu,"__esModule",{value:!0});var dE=vu();function fE(){return dE.mergeAll(1)}mu.concatAll=fE});var Df=S(yu=>{"use strict";h();Object.defineProperty(yu,"__esModule",{value:!0});var hE=_s(),pE=Rf();function _E(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return pE.concatAll()(hE.of.apply(void 0,r))}yu.concat=_E});var Su=S(bu=>{"use strict";h();Object.defineProperty(bu,"__esModule",{value:!0});var gE=_e(),vE=Or(),mE=er();function yE(r){return new gE.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?vE.from(t):mE.empty();return n.subscribe(e)})}bu.defer=yE});var Nf=S(wu=>{"use strict";h();Object.defineProperty(wu,"__esModule",{value:!0});var bE=_e(),Tf=ut(),SE=wr(),wE=os(),EE=Or();function OE(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Tf.isArray(t))return ws(t,null);if(wE.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return ws(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Tf.isArray(r[0])?r[0]:r,ws(r,null).pipe(SE.map(function(o){return i.apply(void 0,o)}))}return ws(r,null)}wu.forkJoin=OE;function ws(r,e){return new bE.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,u=0,l=function(_){var v=EE.from(r[_]),g=!1;t.add(v.subscribe({next:function(M){g||(g=!0,u++),i[_]=M},error:function(M){return t.error(M)},complete:function(){o++,(o===n||!g)&&(u===n&&t.next(e?e.reduce(function(M,W,I){return M[W]=i[I],M},{}):i),t.complete())}}))},f=0;f<n;f++)l(f)})}});var jf=S(Eu=>{"use strict";h();Object.defineProperty(Eu,"__esModule",{value:!0});var IE=_e(),ME=ut(),CE=qn(),AE=wr(),sT=function(){return Object.prototype.toString}();function kf(r,e,t,n){return CE.isFunction(t)&&(n=t,t=void 0),n?kf(r,e,t).pipe(AE.map(function(i){return ME.isArray(i)?n.apply(void 0,i):n(i)})):new IE.Observable(function(i){function o(u){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(u)}xf(r,e,o,i,t)})}Eu.fromEvent=kf;function xf(r,e,t,n,i){var o;if(DE(r)){var u=r;r.addEventListener(e,t,i),o=function(){return u.removeEventListener(e,t,i)}}else if(RE(r)){var l=r;r.on(e,t),o=function(){return l.off(e,t)}}else if(PE(r)){var f=r;r.addListener(e,t),o=function(){return f.removeListener(e,t)}}else if(r&&r.length)for(var _=0,v=r.length;_<v;_++)xf(r[_],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function PE(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function RE(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function DE(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var Ff=S(Ou=>{"use strict";h();Object.defineProperty(Ou,"__esModule",{value:!0});var TE=_e(),NE=ut(),kE=qn(),xE=wr();function Lf(r,e,t){return t?Lf(r,e).pipe(xE.map(function(n){return NE.isArray(n)?t.apply(void 0,n):t(n)})):new TE.Observable(function(n){var i=function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return n.next(u.length===1?u[0]:u)},o;try{o=r(i)}catch(u){n.error(u);return}if(kE.isFunction(e))return function(){return e(i,o)}})}Ou.fromEventPattern=Lf});var Uf=S(Iu=>{"use strict";h();Object.defineProperty(Iu,"__esModule",{value:!0});var jE=_e(),qf=Vn(),LE=tr();function FE(r,e,t,n,i){var o,u;if(arguments.length==1){var l=r;u=l.initialState,e=l.condition,t=l.iterate,o=l.resultSelector||qf.identity,i=l.scheduler}else n===void 0||LE.isScheduler(n)?(u=r,o=qf.identity,i=n):(u=r,o=n);return new jE.Observable(function(f){var _=u;if(i)return i.schedule(qE,0,{subscriber:f,iterate:t,condition:e,resultSelector:o,state:_});do{if(e){var v=void 0;try{v=e(_)}catch(M){f.error(M);return}if(!v){f.complete();break}}var g=void 0;try{g=o(_)}catch(M){f.error(M);return}if(f.next(g),f.closed)break;try{_=t(_)}catch(M){f.error(M);return}}while(!0)})}Iu.generate=FE;function qE(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var Vf=S(Mu=>{"use strict";h();Object.defineProperty(Mu,"__esModule",{value:!0});var UE=Su(),Wf=er();function WE(r,e,t){return e===void 0&&(e=Wf.EMPTY),t===void 0&&(t=Wf.EMPTY),UE.defer(function(){return r()?e:t})}Mu.iif=WE});var Au=S(Cu=>{"use strict";h();Object.defineProperty(Cu,"__esModule",{value:!0});var VE=ut();function KE(r){return!VE.isArray(r)&&r-parseFloat(r)+1>=0}Cu.isNumeric=KE});var Yf=S(Pu=>{"use strict";h();Object.defineProperty(Pu,"__esModule",{value:!0});var YE=_e(),Kf=ys(),BE=Au();function HE(r,e){return r===void 0&&(r=0),e===void 0&&(e=Kf.async),(!BE.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=Kf.async),new YE.Observable(function(t){return t.add(e.schedule(GE,r,{subscriber:t,counter:0,period:r})),t})}Pu.interval=HE;function GE(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var Bf=S(Ru=>{"use strict";h();Object.defineProperty(Ru,"__esModule",{value:!0});var $E=_e(),JE=tr(),zE=vu(),XE=en();function ZE(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return JE.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof $E.Observable?r[0]:zE.mergeAll(t)(XE.fromArray(r,n))}Ru.merge=ZE});var Du=S(pi=>{"use strict";h();Object.defineProperty(pi,"__esModule",{value:!0});var QE=_e(),eO=Wa();pi.NEVER=new QE.Observable(eO.noop);function tO(){return pi.NEVER}pi.never=tO});var Hf=S(Nu=>{"use strict";h();Object.defineProperty(Nu,"__esModule",{value:!0});var rO=_e(),nO=Or(),iO=ut(),sO=er();function Tu(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return sO.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&iO.isArray(t)?Tu.apply(void 0,t):new rO.Observable(function(i){var o=function(){return i.add(Tu.apply(void 0,n).subscribe(i))};return nO.from(t).subscribe({next:function(u){i.next(u)},error:o,complete:o})})}Nu.onErrorResumeNext=Tu});var Jf=S(Es=>{"use strict";h();Object.defineProperty(Es,"__esModule",{value:!0});var Gf=_e(),oO=Be();function aO(r,e){return e?new Gf.Observable(function(t){var n=Object.keys(r),i=new oO.Subscription;return i.add(e.schedule($f,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new Gf.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}Es.pairs=aO;function $f(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var u=e[t];n.next([u,o[u]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}Es.dispatch=$f});var zf=S(ku=>{"use strict";h();Object.defineProperty(ku,"__esModule",{value:!0});function uO(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}ku.not=uO});var Xf=S(_i=>{"use strict";h();var cO=_i&&_i.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_i,"__esModule",{value:!0});var lO=He();function dO(r,e){return function(n){return n.lift(new fO(r,e))}}_i.filter=dO;var fO=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new hO(e,this.predicate,this.thisArg))},r}(),hO=function(r){cO(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(lO.Subscriber)});var th=S(xu=>{"use strict";h();Object.defineProperty(xu,"__esModule",{value:!0});var pO=zf(),Zf=hi(),Qf=Xf(),eh=_e();function _O(r,e,t){return[Qf.filter(e,t)(new eh.Observable(Zf.subscribeTo(r))),Qf.filter(pO.not(e,t))(new eh.Observable(Zf.subscribeTo(r)))]}xu.partition=_O});var ih=S(Ir=>{"use strict";h();var gO=Ir&&Ir.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ir,"__esModule",{value:!0});var vO=ut(),mO=en(),yO=$a(),bO=iu();function SO(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(vO.isArray(r[0]))r=r[0];else return r[0];return mO.fromArray(r,void 0).lift(new rh)}Ir.race=SO;var rh=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new nh(e))},r}();Ir.RaceOperator=rh;var nh=function(r){gO(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],u=bO.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(u),this.add(u)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var u=this.subscriptions[o];u.unsubscribe(),this.remove(u)}this.subscriptions=null}this.destination.next(n)},e}(yO.OuterSubscriber);Ir.RaceSubscriber=nh});var oh=S(Os=>{"use strict";h();Object.defineProperty(Os,"__esModule",{value:!0});var wO=_e();function EO(r,e,t){return r===void 0&&(r=0),new wO.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(sh,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}Os.range=EO;function sh(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}Os.dispatch=sh});var ch=S(ju=>{"use strict";h();Object.defineProperty(ju,"__esModule",{value:!0});var OO=_e(),IO=ys(),ah=Au(),uh=tr();function MO(r,e,t){r===void 0&&(r=0);var n=-1;return ah.isNumeric(e)?n=Number(e)<1&&1||Number(e):uh.isScheduler(e)&&(t=e),uh.isScheduler(t)||(t=IO.async),new OO.Observable(function(i){var o=ah.isNumeric(r)?r:+r-t.now();return t.schedule(CO,o,{index:0,period:n,subscriber:i})})}ju.timer=MO;function CO(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var lh=S(Lu=>{"use strict";h();Object.defineProperty(Lu,"__esModule",{value:!0});var AO=_e(),PO=Or(),RO=er();function DO(r,e){return new AO.Observable(function(t){var n;try{n=r()}catch(l){t.error(l);return}var i;try{i=e(n)}catch(l){t.error(l);return}var o=i?PO.from(i):RO.EMPTY,u=o.subscribe(t);return function(){u.unsubscribe(),n&&n.unsubscribe()}})}Lu.using=DO});var ph=S(Mr=>{"use strict";h();var dh=Mr&&Mr.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Mr,"__esModule",{value:!0});var TO=en(),NO=ut(),kO=He(),Is=sn(),Fu=hu();function xO(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),TO.fromArray(r,void 0).lift(new fh(t))}Mr.zip=xO;var fh=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new hh(e,this.resultSelector))},r}();Mr.ZipOperator=fh;var hh=function(r){dh(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;NO.isArray(t)?n.push(new LO(t)):typeof t[Is.iterator]=="function"?n.push(new jO(t[Is.iterator]())):n.push(new FO(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var u=this.destination;u.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var u=t[o];if(typeof u.hasValue=="function"&&!u.hasValue())return}for(var l=!1,f=[],o=0;o<n;o++){var u=t[o],_=u.next();if(u.hasCompleted()&&(l=!0),_.done){i.complete();return}f.push(_.value)}this.resultSelector?this._tryresultSelector(f):i.next(f),l&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(kO.Subscriber);Mr.ZipSubscriber=hh;var jO=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),LO=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[Is.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),FO=function(r){dh(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[Is.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return Fu.innerSubscribe(this.observable,new Fu.SimpleInnerSubscriber(this))},e}(Fu.SimpleOuterSubscriber)});var qu=S($=>{"use strict";h();Object.defineProperty($,"__esModule",{value:!0});var qO=_e();$.Observable=qO.Observable;var UO=Od();$.ConnectableObservable=UO.ConnectableObservable;var WO=Cd();$.GroupedObservable=WO.GroupedObservable;var VO=yr();$.observable=VO.observable;var KO=Sr();$.Subject=KO.Subject;var YO=Ad();$.BehaviorSubject=YO.BehaviorSubject;var BO=qd();$.ReplaySubject=BO.ReplaySubject;var HO=gs();$.AsyncSubject=HO.AsyncSubject;var _h=Hd();$.asap=_h.asap;$.asapScheduler=_h.asapScheduler;var gh=ys();$.async=gh.async;$.asyncScheduler=gh.asyncScheduler;var vh=Pa();$.queue=vh.queue;$.queueScheduler=vh.queueScheduler;var mh=Jd();$.animationFrame=mh.animationFrame;$.animationFrameScheduler=mh.animationFrameScheduler;var yh=Zd();$.VirtualTimeScheduler=yh.VirtualTimeScheduler;$.VirtualAction=yh.VirtualAction;var GO=Aa();$.Scheduler=GO.Scheduler;var $O=Be();$.Subscription=$O.Subscription;var JO=He();$.Subscriber=JO.Subscriber;var bh=Fa();$.Notification=bh.Notification;$.NotificationKind=bh.NotificationKind;var zO=ma();$.pipe=zO.pipe;var XO=Wa();$.noop=XO.noop;var ZO=Vn();$.identity=ZO.identity;var QO=Qd();$.isObservable=QO.isObservable;var eI=ef();$.ArgumentOutOfRangeError=eI.ArgumentOutOfRangeError;var tI=tf();$.EmptyError=tI.EmptyError;var rI=Kn();$.ObjectUnsubscribedError=rI.ObjectUnsubscribedError;var nI=ca();$.UnsubscriptionError=nI.UnsubscriptionError;var iI=rf();$.TimeoutError=iI.TimeoutError;var sI=af();$.bindCallback=sI.bindCallback;var oI=df();$.bindNodeCallback=oI.bindNodeCallback;var aI=bf();$.combineLatest=aI.combineLatest;var uI=Df();$.concat=uI.concat;var cI=Su();$.defer=cI.defer;var lI=er();$.empty=lI.empty;var dI=Nf();$.forkJoin=dI.forkJoin;var fI=Or();$.from=fI.from;var hI=jf();$.fromEvent=hI.fromEvent;var pI=Ff();$.fromEventPattern=pI.fromEventPattern;var _I=Uf();$.generate=_I.generate;var gI=Vf();$.iif=gI.iif;var vI=Yf();$.interval=vI.interval;var mI=Bf();$.merge=mI.merge;var yI=Du();$.never=yI.never;var bI=_s();$.of=bI.of;var SI=Hf();$.onErrorResumeNext=SI.onErrorResumeNext;var wI=Jf();$.pairs=wI.pairs;var EI=th();$.partition=EI.partition;var OI=ih();$.race=OI.race;var II=oh();$.range=II.range;var MI=La();$.throwError=MI.throwError;var CI=ch();$.timer=CI.timer;var AI=lh();$.using=AI.using;var PI=ph();$.zip=PI.zip;var RI=du();$.scheduled=RI.scheduled;var DI=er();$.EMPTY=DI.EMPTY;var TI=Du();$.NEVER=TI.NEVER;var NI=Un();$.config=NI.config});var Sh=S(Uu=>{"use strict";h();Object.defineProperty(Uu,"__esModule",{value:!0});var kI=qu();Uu.Subject=kI.Subject});var wh=S(Ms=>{"use strict";h();function xI(r){for(var e in r)Ms.hasOwnProperty(e)||(Ms[e]=r[e])}Object.defineProperty(Ms,"__esModule",{value:!0});xI(Sh())});var Ku=S((aN,Ph)=>{"use strict";h();var Ch=Array.isArray,Ah=Object.keys,LI=Object.prototype.hasOwnProperty;Ph.exports=function r(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Ch(e),i=Ch(t),o,u,l;if(n&&i){if(u=e.length,u!=t.length)return!1;for(o=u;o--!==0;)if(!r(e[o],t[o]))return!1;return!0}if(n!=i)return!1;var f=e instanceof Date,_=t instanceof Date;if(f!=_)return!1;if(f&&_)return e.getTime()==t.getTime();var v=e instanceof RegExp,g=t instanceof RegExp;if(v!=g)return!1;if(v&&g)return e.toString()==t.toString();var M=Ah(e);if(u=M.length,u!==Ah(t).length)return!1;for(o=u;o--!==0;)if(!LI.call(t,M[o]))return!1;for(o=u;o--!==0;)if(l=M[o],!r(e[l],t[l]))return!1;return!0}return e!==e&&t!==t}});var Rh=S(Yu=>{"use strict";h();Object.defineProperty(Yu,"__esModule",{value:!0});var FI=qu();Yu.ReplaySubject=FI.ReplaySubject});var Dh=S(As=>{"use strict";h();function qI(r){for(var e in r)As.hasOwnProperty(e)||(As[e]=r[e])}Object.defineProperty(As,"__esModule",{value:!0});qI(Rh())});var Cr=S((Ps,Th)=>{h();(function(r,e){typeof Ps=="object"&&typeof Th!="undefined"?e(Ps):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.lumino_algorithm={}))})(Ps,function(r){"use strict";r.ArrayExt=void 0,function(y){function E(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=R.length;if(O===0)return-1;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);var V;b<w?V=b+1+(O-w):V=b-w+1;for(var H=0;H<V;++H){var he=(w+H)%O;if(R[he]===q)return he}return-1}y.firstIndexOf=E;function F(R,q,w,b){w===void 0&&(w=-1),b===void 0&&(b=0);var O=R.length;if(O===0)return-1;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);var V;w<b?V=w+1+(O-b):V=w-b+1;for(var H=0;H<V;++H){var he=(w-H+O)%O;if(R[he]===q)return he}return-1}y.lastIndexOf=F;function B(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=R.length;if(O===0)return-1;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);var V;b<w?V=b+1+(O-w):V=b-w+1;for(var H=0;H<V;++H){var he=(w+H)%O;if(q(R[he],he))return he}return-1}y.findFirstIndex=B;function X(R,q,w,b){w===void 0&&(w=-1),b===void 0&&(b=0);var O=R.length;if(O===0)return-1;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);var V;w<b?V=w+1+(O-b):V=w-b+1;for(var H=0;H<V;++H){var he=(w-H+O)%O;if(q(R[he],he))return he}return-1}y.findLastIndex=X;function De(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=B(R,q,w,b);return O!==-1?R[O]:void 0}y.findFirstValue=De;function fe(R,q,w,b){w===void 0&&(w=-1),b===void 0&&(b=0);var O=X(R,q,w,b);return O!==-1?R[O]:void 0}y.findLastValue=fe;function se(R,q,w,b,O){b===void 0&&(b=0),O===void 0&&(O=-1);var V=R.length;if(V===0)return 0;b<0?b=Math.max(0,b+V):b=Math.min(b,V-1),O<0?O=Math.max(0,O+V):O=Math.min(O,V-1);for(var H=b,he=O-b+1;he>0;){var xe=he>>1,lt=H+xe;w(R[lt],q)<0?(H=lt+1,he-=xe+1):he=xe}return H}y.lowerBound=se;function re(R,q,w,b,O){b===void 0&&(b=0),O===void 0&&(O=-1);var V=R.length;if(V===0)return 0;b<0?b=Math.max(0,b+V):b=Math.min(b,V-1),O<0?O=Math.max(0,O+V):O=Math.min(O,V-1);for(var H=b,he=O-b+1;he>0;){var xe=he>>1,lt=H+xe;w(R[lt],q)>0?he=xe:(H=lt+1,he-=xe+1)}return H}y.upperBound=re;function oe(R,q,w){if(R===q)return!0;if(R.length!==q.length)return!1;for(var b=0,O=R.length;b<O;++b)if(w?!w(R[b],q[b]):R[b]!==q[b])return!1;return!0}y.shallowEqual=oe;function Me(R,q){q===void 0&&(q={});var w=q.start,b=q.stop,O=q.step;if(O===void 0&&(O=1),O===0)throw new Error("Slice `step` cannot be zero.");var V=R.length;w===void 0?w=O<0?V-1:0:w<0?w=Math.max(w+V,O<0?-1:0):w>=V&&(w=O<0?V-1:V),b===void 0?b=O<0?-1:V:b<0?b=Math.max(b+V,O<0?-1:0):b>=V&&(b=O<0?V-1:V);var H;O<0&&b>=w||O>0&&w>=b?H=0:O<0?H=Math.floor((b-w+1)/O+1):H=Math.floor((b-w-1)/O+1);for(var he=[],xe=0;xe<H;++xe)he[xe]=R[w+xe*O];return he}y.slice=Me;function Oe(R,q,w){var b=R.length;if(!(b<=1)&&(q<0?q=Math.max(0,q+b):q=Math.min(q,b-1),w<0?w=Math.max(0,w+b):w=Math.min(w,b-1),q!==w)){for(var O=R[q],V=q<w?1:-1,H=q;H!==w;H+=V)R[H]=R[H+V];R[w]=O}}y.move=Oe;function de(R,q,w){q===void 0&&(q=0),w===void 0&&(w=-1);var b=R.length;if(!(b<=1))for(q<0?q=Math.max(0,q+b):q=Math.min(q,b-1),w<0?w=Math.max(0,w+b):w=Math.min(w,b-1);q<w;){var O=R[q],V=R[w];R[q++]=V,R[w--]=O}}y.reverse=de;function Qe(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=R.length;if(!(O<=1)&&(w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1),!(w>=b))){var V=b-w+1;if(q>0?q=q%V:q<0&&(q=(q%V+V)%V),q!==0){var H=w+q;de(R,w,H-1),de(R,H,b),de(R,w,b)}}}y.rotate=Qe;function Ue(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=R.length;if(O!==0){w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);var V;b<w?V=b+1+(O-w):V=b-w+1;for(var H=0;H<V;++H)R[(w+H)%O]=q}}y.fill=Ue;function Ke(R,q,w){var b=R.length;q<0?q=Math.max(0,q+b):q=Math.min(q,b);for(var O=b;O>q;--O)R[O]=R[O-1];R[q]=w}y.insert=Ke;function ee(R,q){var w=R.length;if(q<0&&(q+=w),!(q<0||q>=w)){for(var b=R[q],O=q+1;O<w;++O)R[O-1]=R[O];return R.length=w-1,b}}y.removeAt=ee;function kt(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=E(R,q,w,b);return O!==-1&&ee(R,O),O}y.removeFirstOf=kt;function pr(R,q,w,b){w===void 0&&(w=-1),b===void 0&&(b=0);var O=F(R,q,w,b);return O!==-1&&ee(R,O),O}y.removeLastOf=pr;function An(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=R.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);for(var V=0,H=0;H<O;++H)w<=b&&H>=w&&H<=b&&R[H]===q||b<w&&(H<=b||H>=w)&&R[H]===q?V++:V>0&&(R[H-V]=R[H]);return V>0&&(R.length=O-V),V}y.removeAllOf=An;function Yi(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O,V=B(R,q,w,b);return V!==-1&&(O=ee(R,V)),{index:V,value:O}}y.removeFirstWhere=Yi;function Bi(R,q,w,b){w===void 0&&(w=-1),b===void 0&&(b=0);var O,V=X(R,q,w,b);return V!==-1&&(O=ee(R,V)),{index:V,value:O}}y.removeLastWhere=Bi;function Pn(R,q,w,b){w===void 0&&(w=0),b===void 0&&(b=-1);var O=R.length;if(O===0)return 0;w<0?w=Math.max(0,w+O):w=Math.min(w,O-1),b<0?b=Math.max(0,b+O):b=Math.min(b,O-1);for(var V=0,H=0;H<O;++H)w<=b&&H>=w&&H<=b&&q(R[H],H)||b<w&&(H<=b||H>=w)&&q(R[H],H)?V++:V>0&&(R[H-V]=R[H]);return V>0&&(R.length=O-V),V}y.removeAllWhere=Pn}(r.ArrayExt||(r.ArrayExt={}));function e(y){var E;return typeof y.iter=="function"?E=y.iter():E=new g(y),E}function t(y){return new M(y)}function n(y){return new W(y)}function i(y){return new I(y)}function o(y){return new x(y)}function u(y,E){for(var F=0,B=e(y),X;(X=B.next())!==void 0;)if(E(X,F++)===!1)return}function l(y,E){for(var F=0,B=e(y),X;(X=B.next())!==void 0;)if(!E(X,F++))return!1;return!0}function f(y,E){for(var F=0,B=e(y),X;(X=B.next())!==void 0;)if(E(X,F++))return!0;return!1}function _(y){for(var E=0,F=[],B=e(y),X;(X=B.next())!==void 0;)F[E++]=X;return F}function v(y){for(var E=e(y),F,B={};(F=E.next())!==void 0;)B[F[0]]=F[1];return B}var g=function(){function y(E){this._index=0,this._source=E}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source);return E._index=this._index,E},y.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},y}(),M=function(){function y(E,F){F===void 0&&(F=Object.keys(E)),this._index=0,this._source=E,this._keys=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source,this._keys);return E._index=this._index,E},y.prototype.next=function(){if(!(this._index>=this._keys.length)){var E=this._keys[this._index++];return E in this._source?E:this.next()}},y}(),W=function(){function y(E,F){F===void 0&&(F=Object.keys(E)),this._index=0,this._source=E,this._keys=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source,this._keys);return E._index=this._index,E},y.prototype.next=function(){if(!(this._index>=this._keys.length)){var E=this._keys[this._index++];return E in this._source?this._source[E]:this.next()}},y}(),I=function(){function y(E,F){F===void 0&&(F=Object.keys(E)),this._index=0,this._source=E,this._keys=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source,this._keys);return E._index=this._index,E},y.prototype.next=function(){if(!(this._index>=this._keys.length)){var E=this._keys[this._index++];return E in this._source?[E,this._source[E]]:this.next()}},y}(),x=function(){function y(E){this._fn=E}return y.prototype.iter=function(){return this},y.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},y.prototype.next=function(){return this._fn.call(void 0)},y}();function C(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];return new P(e(y.map(e)))}var P=function(){function y(E){this._cloned=!1,this._source=E,this._active=void 0}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source.clone());return E._active=this._active&&this._active.clone(),E._cloned=!0,this._cloned=!0,E},y.prototype.next=function(){if(this._active===void 0){var E=this._source.next();if(E===void 0)return;this._active=this._cloned?E.clone():E}var F=this._active.next();return F!==void 0?F:(this._active=void 0,this.next())},y}();function k(){return new T}var T=function(){function y(){}return y.prototype.iter=function(){return this},y.prototype.clone=function(){return new y},y.prototype.next=function(){},y}();function Y(y,E){return E===void 0&&(E=0),new Q(e(y),E)}var Q=function(){function y(E,F){this._source=E,this._index=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){return new y(this._source.clone(),this._index)},y.prototype.next=function(){var E=this._source.next();if(E!==void 0)return[this._index++,E]},y}();function K(y,E){return new N(e(y),E)}var N=function(){function y(E,F){this._index=0,this._source=E,this._fn=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source.clone(),this._fn);return E._index=this._index,E},y.prototype.next=function(){for(var E=this._fn,F=this._source,B;(B=F.next())!==void 0;)if(E(B,this._index++))return B},y}();function L(y,E){for(var F=0,B=e(y),X;(X=B.next())!==void 0;)if(E(X,F++))return X}function Z(y,E){for(var F=0,B=e(y),X;(X=B.next())!==void 0;)if(E(X,F++))return F-1;return-1}function le(y,E){var F=e(y),B=F.next();if(B!==void 0){for(var X=B;(B=F.next())!==void 0;)E(B,X)<0&&(X=B);return X}}function we(y,E){var F=e(y),B=F.next();if(B!==void 0){for(var X=B;(B=F.next())!==void 0;)E(B,X)>0&&(X=B);return X}}function Tt(y,E){var F=e(y),B=F.next();if(B!==void 0){for(var X=B,De=B;(B=F.next())!==void 0;)E(B,X)<0?X=B:E(B,De)>0&&(De=B);return[X,De]}}function qr(y,E){return new dr(e(y),E)}var dr=function(){function y(E,F){this._index=0,this._source=E,this._fn=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source.clone(),this._fn);return E._index=this._index,E},y.prototype.next=function(){var E=this._source.next();if(E!==void 0)return this._fn.call(void 0,E,this._index++)},y}();function Ur(y,E,F){return E===void 0?new fr(0,y,1):F===void 0?new fr(y,E,1):new fr(y,E,F)}var fr=function(){function y(E,F,B){this._index=0,this._start=E,this._stop=F,this._step=B,this._length=Wr.rangeLength(E,F,B)}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._start,this._stop,this._step);return E._index=this._index,E},y.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},y}(),Wr;(function(y){function E(F,B,X){return X===0?1/0:F>B&&X>0||F<B&&X<0?0:Math.ceil((B-F)/X)}y.rangeLength=E})(Wr||(Wr={}));function nt(y,E,F){var B=0,X=e(y),De=X.next();if(De===void 0&&F===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(De===void 0)return F;var fe=X.next();if(fe===void 0&&F===void 0)return De;if(fe===void 0)return E(F,De,B++);var se;F===void 0?se=E(De,fe,B++):se=E(E(F,De,B++),fe,B++);for(var re;(re=X.next())!==void 0;)se=E(se,re,B++);return se}function Vr(y,E){return new $t(y,E)}function hr(y){return new $t(y,1)}var $t=function(){function y(E,F){this._value=E,this._count=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){return new y(this._value,this._count)},y.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},y}();function Nt(y){var E;return typeof y.retro=="function"?E=y.retro():E=new J(y),E}var J=function(){function y(E){this._source=E,this._index=E.length-1}return y.prototype.iter=function(){return this},y.prototype.clone=function(){var E=new y(this._source);return E._index=this._index,E},y.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},y}();function Wi(y){var E=[],F=new Set,B=new Map;return u(y,X),B.forEach(function(fe,se){De(se)}),E;function X(fe){var se=fe[0],re=fe[1],oe=B.get(re);oe?oe.push(se):B.set(re,[se])}function De(fe){if(!F.has(fe)){F.add(fe);var se=B.get(fe);se&&se.forEach(De),E.push(fe)}}}function Vi(y,E){return new Jt(e(y),E)}var Jt=function(){function y(E,F){this._source=E,this._step=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){return new y(this._source.clone(),this._step)},y.prototype.next=function(){for(var E=this._source.next(),F=this._step-1;F>0;--F)this._source.next();return E},y}();r.StringExt=void 0,function(y){function E(fe,se,re){re===void 0&&(re=0);for(var oe=new Array(se.length),Me=0,Oe=re,de=se.length;Me<de;++Me,++Oe){if(Oe=fe.indexOf(se[Me],Oe),Oe===-1)return null;oe[Me]=Oe}return oe}y.findIndices=E;function F(fe,se,re){re===void 0&&(re=0);var oe=E(fe,se,re);if(!oe)return null;for(var Me=0,Oe=0,de=oe.length;Oe<de;++Oe){var Qe=oe[Oe]-re;Me+=Qe*Qe}return{score:Me,indices:oe}}y.matchSumOfSquares=F;function B(fe,se,re){re===void 0&&(re=0);var oe=E(fe,se,re);if(!oe)return null;for(var Me=0,Oe=re-1,de=0,Qe=oe.length;de<Qe;++de){var Ue=oe[de];Me+=Ue-Oe-1,Oe=Ue}return{score:Me,indices:oe}}y.matchSumOfDeltas=B;function X(fe,se,re){for(var oe=[],Me=0,Oe=0,de=se.length;Me<de;){for(var Qe=se[Me],Ue=se[Me];++Me<de&&se[Me]===Ue+1;)Ue++;Oe<Qe&&oe.push(fe.slice(Oe,Qe)),Qe<Ue+1&&oe.push(re(fe.slice(Qe,Ue+1))),Oe=Ue+1}return Oe<fe.length&&oe.push(fe.slice(Oe)),oe}y.highlight=X;function De(fe,se){return fe<se?-1:fe>se?1:0}y.cmp=De}(r.StringExt||(r.StringExt={}));function In(y,E){return new Mn(e(y),E)}var Mn=function(){function y(E,F){this._source=E,this._count=F}return y.prototype.iter=function(){return this},y.prototype.clone=function(){return new y(this._source.clone(),this._count)},y.prototype.next=function(){if(!(this._count<=0)){var E=this._source.next();if(E!==void 0)return this._count--,E}},y}();function Ki(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];return new Cn(y.map(e))}var Cn=function(){function y(E){this._source=E}return y.prototype.iter=function(){return this},y.prototype.clone=function(){return new y(this._source.map(function(E){return E.clone()}))},y.prototype.next=function(){for(var E=new Array(this._source.length),F=0,B=this._source.length;F<B;++F){var X=this._source[F].next();if(X===void 0)return;E[F]=X}return E},y}();r.ArrayIterator=g,r.ChainIterator=P,r.EmptyIterator=T,r.EnumerateIterator=Q,r.FilterIterator=N,r.FnIterator=x,r.ItemIterator=I,r.KeyIterator=M,r.MapIterator=dr,r.RangeIterator=fr,r.RepeatIterator=$t,r.RetroArrayIterator=J,r.StrideIterator=Jt,r.TakeIterator=Mn,r.ValueIterator=W,r.ZipIterator=Cn,r.chain=C,r.each=u,r.empty=k,r.enumerate=Y,r.every=l,r.filter=K,r.find=L,r.findIndex=Z,r.iter=e,r.iterFn=o,r.iterItems=i,r.iterKeys=t,r.iterValues=n,r.map=qr,r.max=we,r.min=le,r.minmax=Tt,r.once=hr,r.range=Ur,r.reduce=nt,r.repeat=Vr,r.retro=Nt,r.some=f,r.stride=Vi,r.take=In,r.toArray=_,r.toObject=v,r.topologicSort=Wi,r.zip=Ki,Object.defineProperty(r,"__esModule",{value:!0})})});var Bu=S((Rs,Nh)=>{h();(function(r,e){typeof Rs=="object"&&typeof Nh!="undefined"?e(Rs):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.lumino_properties={}))})(Rs,function(r){"use strict";r.AttachedProperty=function(){function t(n){this._pid=e.nextPID(),this.name=n.name,this._create=n.create,this._coerce=n.coerce||null,this._compare=n.compare||null,this._changed=n.changed||null}return t.prototype.get=function(n){var i,o=e.ensureMap(n);return this._pid in o?i=o[this._pid]:i=o[this._pid]=this._createValue(n),i},t.prototype.set=function(n,i){var o,u=e.ensureMap(n);this._pid in u?o=u[this._pid]:o=u[this._pid]=this._createValue(n);var l=this._coerceValue(n,i);this._maybeNotify(n,o,u[this._pid]=l)},t.prototype.coerce=function(n){var i,o=e.ensureMap(n);this._pid in o?i=o[this._pid]:i=o[this._pid]=this._createValue(n);var u=this._coerceValue(n,i);this._maybeNotify(n,i,o[this._pid]=u)},t.prototype._createValue=function(n){var i=this._create;return i(n)},t.prototype._coerceValue=function(n,i){var o=this._coerce;return o?o(n,i):i},t.prototype._compareValue=function(n,i){var o=this._compare;return o?o(n,i):n===i},t.prototype._maybeNotify=function(n,i,o){var u=this._changed;u&&!this._compareValue(i,o)&&u(n,i,o)},t}(),function(t){function n(i){e.ownerData.delete(i)}t.clearData=n}(r.AttachedProperty||(r.AttachedProperty={}));var e;(function(t){t.ownerData=new WeakMap,t.nextPID=function(){var i=0;return function(){var o=Math.random(),u=(""+o).slice(2);return"pid-"+u+"-"+i++}}();function n(i){var o=t.ownerData.get(i);return o||(o=Object.create(null),t.ownerData.set(i,o),o)}t.ensureMap=n})(e||(e={})),Object.defineProperty(r,"__esModule",{value:!0})})});var je=S((Ds,kh)=>{h();(function(r,e){typeof Ds=="object"&&typeof kh!="undefined"?e(Ds,Cr(),Bu()):typeof define=="function"&&define.amd?define(["exports","@lumino/algorithm","@lumino/properties"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.lumino_signaling={},r.lumino_algorithm,r.lumino_properties))})(Ds,function(r,e,t){"use strict";r.Signal=function(){function i(o){this._blockedCount=0,this.sender=o}return i.prototype.block=function(o){this._blockedCount++;try{o()}finally{this._blockedCount--}},i.prototype.connect=function(o,u){return n.connect(this,o,u)},i.prototype.disconnect=function(o,u){return n.disconnect(this,o,u)},i.prototype.emit=function(o){this._blockedCount||n.emit(this,o)},i}(),function(i){function o(W,I){var x=n.blockedProperty;x.set(W,x.get(W)+1);try{I()}finally{x.set(W,x.get(W)-1)}}i.blockAll=o;function u(W,I){n.disconnectBetween(W,I)}i.disconnectBetween=u;function l(W){n.disconnectSender(W)}i.disconnectSender=l;function f(W){n.disconnectReceiver(W)}i.disconnectReceiver=f;function _(W){n.disconnectAll(W)}i.disconnectAll=_;function v(W){n.disconnectAll(W)}i.clearData=v;function g(){return n.exceptionHandler}i.getExceptionHandler=g;function M(W){var I=n.exceptionHandler;return n.exceptionHandler=W,I}i.setExceptionHandler=M}(r.Signal||(r.Signal={}));var n;(function(i){i.exceptionHandler=function(K){console.error(K)};function o(K,N,L){L=L||void 0;var Z=M.get(K.sender);if(Z||(Z=[],M.set(K.sender,Z)),C(Z,K,N,L))return!1;var le=L||N,we=W.get(le);we||(we=[],W.set(le,we));var Tt={signal:K,slot:N,thisArg:L};return Z.push(Tt),we.push(Tt),!0}i.connect=o;function u(K,N,L){L=L||void 0;var Z=M.get(K.sender);if(!Z||Z.length===0)return!1;var le=C(Z,K,N,L);if(!le)return!1;var we=L||N,Tt=W.get(we);return le.signal=null,k(Z),k(Tt),!0}i.disconnect=u;function l(K,N){var L=M.get(K);if(!(!L||L.length===0)){var Z=W.get(N);!Z||Z.length===0||(e.each(Z,function(le){le.signal&&le.signal.sender===K&&(le.signal=null)}),k(L),k(Z))}}i.disconnectBetween=l;function f(K){var N=M.get(K);!N||N.length===0||(e.each(N,function(L){if(L.signal){var Z=L.thisArg||L.slot;L.signal=null,k(W.get(Z))}}),k(N))}i.disconnectSender=f;function _(K){var N=W.get(K);!N||N.length===0||(e.each(N,function(L){if(L.signal){var Z=L.signal.sender;L.signal=null,k(M.get(Z))}}),k(N))}i.disconnectReceiver=_;function v(K){f(K),_(K)}i.disconnectAll=v;function g(K,N){if(!(i.blockedProperty.get(K.sender)>0)){var L=M.get(K.sender);if(!(!L||L.length===0))for(var Z=0,le=L.length;Z<le;++Z){var we=L[Z];we.signal===K&&P(we,N)}}}i.emit=g;var M=new WeakMap,W=new WeakMap,I=new Set,x=function(){var K=typeof requestAnimationFrame=="function";return K?requestAnimationFrame:setImmediate}();function C(K,N,L,Z){return e.find(K,function(le){return le.signal===N&&le.slot===L&&le.thisArg===Z})}function P(K,N){var L=K.signal,Z=K.slot,le=K.thisArg;try{Z.call(le,L.sender,N)}catch(we){i.exceptionHandler(we)}}function k(K){I.size===0&&x(T),I.add(K)}function T(){I.forEach(Y),I.clear()}function Y(K){e.ArrayExt.removeAllWhere(K,Q)}function Q(K){return K.signal===null}i.blockedProperty=new t.AttachedProperty({name:"blocked",create:function(){return 0}})})(n||(n={})),Object.defineProperty(r,"__esModule",{value:!0})})});var jh=S(Ts=>{"use strict";h();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.ActivityMonitor=void 0;var xh=je(),Hu=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new xh.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,xh.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}};Ts.ActivityMonitor=Hu});var Fh=S(Lh=>{"use strict";h();Object.defineProperty(Lh,"__esModule",{value:!0})});var qh=S(vi=>{"use strict";h();Object.defineProperty(vi,"__esModule",{value:!0});vi.MarkdownCodeBlocks=void 0;var UI;(function(r){r.CODE_BLOCK_MARKER="```";let e=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class t{constructor(u){this.startLine=u,this.code="",this.endLine=-1}}r.MarkdownCodeBlock=t;function n(o){return e.indexOf(o)>-1}r.isMarkdown=n;function i(o){if(!o||o==="")return[];let u=o.split(`
`),l=[],f=null;for(let _=0;_<u.length;_++){let v=u[_],g=v.indexOf(r.CODE_BLOCK_MARKER)===0,M=f!=null;if(!(!g&&!M))if(M)f&&(g?(f.endLine=_-1,l.push(f),f=null):f.code+=v+`
`);else{f=new t(_);let W=v.indexOf(r.CODE_BLOCK_MARKER),I=v.lastIndexOf(r.CODE_BLOCK_MARKER);W!==I&&(f.code=v.substring(W+r.CODE_BLOCK_MARKER.length,I),f.endLine=_,l.push(f),f=null)}}return l}r.findMarkdownCodeBlocks=i})(UI=vi.MarkdownCodeBlocks||(vi.MarkdownCodeBlocks={}))});var ht=S((Ns,Uh)=>{h();(function(r,e){typeof Ns=="object"&&typeof Uh!="undefined"?e(Ns):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.lumino_coreutils={}))})(Ns,function(r){"use strict";r.JSONExt=void 0,function(u){u.emptyObject=Object.freeze({}),u.emptyArray=Object.freeze([]);function l(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"}u.isPrimitive=l;function f(C){return Array.isArray(C)}u.isArray=f;function _(C){return!l(C)&&!f(C)}u.isObject=_;function v(C,P){if(C===P)return!0;if(l(C)||l(P))return!1;var k=f(C),T=f(P);return k!==T?!1:k&&T?M(C,P):W(C,P)}u.deepEqual=v;function g(C){return l(C)?C:f(C)?I(C):x(C)}u.deepCopy=g;function M(C,P){if(C===P)return!0;if(C.length!==P.length)return!1;for(var k=0,T=C.length;k<T;++k)if(!v(C[k],P[k]))return!1;return!0}function W(C,P){if(C===P)return!0;for(var k in C)if(C[k]!==void 0&&!(k in P))return!1;for(var k in P)if(P[k]!==void 0&&!(k in C))return!1;for(var k in C){var T=C[k],Y=P[k];if(!(T===void 0&&Y===void 0)&&(T===void 0||Y===void 0||!v(T,Y)))return!1}return!0}function I(C){for(var P=new Array(C.length),k=0,T=C.length;k<T;++k)P[k]=g(C[k]);return P}function x(C){var P={};for(var k in C){var T=C[k];T!==void 0&&(P[k]=g(T))}return P}}(r.JSONExt||(r.JSONExt={}));var e=function(){function u(){this._types=[],this._values=[]}return u.prototype.types=function(){return this._types.slice()},u.prototype.hasData=function(l){return this._types.indexOf(l)!==-1},u.prototype.getData=function(l){var f=this._types.indexOf(l);return f!==-1?this._values[f]:void 0},u.prototype.setData=function(l,f){this.clearData(l),this._types.push(l),this._values.push(f)},u.prototype.clearData=function(l){var f=this._types.indexOf(l);f!==-1&&(this._types.splice(f,1),this._values.splice(f,1))},u.prototype.clear=function(){this._types.length=0,this._values.length=0},u}(),t=function(){function u(){var l=this;this.promise=new Promise(function(f,_){l._resolve=f,l._reject=_})}return u.prototype.resolve=function(l){var f=this._resolve;f(l)},u.prototype.reject=function(l){var f=this._reject;f(l)},u}(),n=function(){function u(l){this.name=l,this._tokenStructuralPropertyT=null}return u}();function i(u){for(var l=0,f=0,_=u.length;f<_;++f)f%4===0&&(l=Math.random()*4294967295>>>0),u[f]=l&255,l>>>=8}r.Random=void 0,function(u){u.getRandomValues=function(){var l=typeof window!="undefined"&&(window.crypto||window.msCrypto)||null;return l&&typeof l.getRandomValues=="function"?function(_){return l.getRandomValues(_)}:i}()}(r.Random||(r.Random={}));function o(u){for(var l=new Uint8Array(16),f=new Array(256),_=0;_<16;++_)f[_]="0"+_.toString(16);for(var _=16;_<256;++_)f[_]=_.toString(16);return function(){return u(l),l[6]=64|l[6]&15,l[8]=128|l[8]&63,f[l[0]]+f[l[1]]+f[l[2]]+f[l[3]]+"-"+f[l[4]]+f[l[5]]+"-"+f[l[6]]+f[l[7]]+"-"+f[l[8]]+f[l[9]]+"-"+f[l[10]]+f[l[11]]+f[l[12]]+f[l[13]]+f[l[14]]+f[l[15]]}}r.UUID=void 0,function(u){u.uuid4=o(r.Random.getRandomValues)}(r.UUID||(r.UUID={})),r.MimeData=e,r.PromiseDelegate=t,r.Token=n,Object.defineProperty(r,"__esModule",{value:!0})})});var Yh=S((EN,Kh)=>{"use strict";h();function WI(r,e){var t=r;e.slice(0,-1).forEach(function(i){t=t[i]||{}});var n=e[e.length-1];return n in t}function Wh(r){return typeof r=="number"||/^0x[0-9a-f]+$/i.test(r)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(r)}function Vh(r,e){return e==="constructor"&&typeof r[e]=="function"||e==="__proto__"}Kh.exports=function(r,e){e||(e={});var t={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(t.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?t.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(Y){t.bools[Y]=!0});var n={};function i(Y){return n[Y].some(function(Q){return t.bools[Q]})}Object.keys(e.alias||{}).forEach(function(Y){n[Y]=[].concat(e.alias[Y]),n[Y].forEach(function(Q){n[Q]=[Y].concat(n[Y].filter(function(K){return Q!==K}))})}),[].concat(e.string).filter(Boolean).forEach(function(Y){t.strings[Y]=!0,n[Y]&&[].concat(n[Y]).forEach(function(Q){t.strings[Q]=!0})});var o=e.default||{},u={_:[]};function l(Y,Q){return t.allBools&&/^--[^=]+$/.test(Q)||t.strings[Y]||t.bools[Y]||n[Y]}function f(Y,Q,K){for(var N=Y,L=0;L<Q.length-1;L++){var Z=Q[L];if(Vh(N,Z))return;N[Z]===void 0&&(N[Z]={}),(N[Z]===Object.prototype||N[Z]===Number.prototype||N[Z]===String.prototype)&&(N[Z]={}),N[Z]===Array.prototype&&(N[Z]=[]),N=N[Z]}var le=Q[Q.length-1];Vh(N,le)||((N===Object.prototype||N===Number.prototype||N===String.prototype)&&(N={}),N===Array.prototype&&(N=[]),N[le]===void 0||t.bools[le]||typeof N[le]=="boolean"?N[le]=K:Array.isArray(N[le])?N[le].push(K):N[le]=[N[le],K])}function _(Y,Q,K){if(!(K&&t.unknownFn&&!l(Y,K)&&t.unknownFn(K)===!1)){var N=!t.strings[Y]&&Wh(Q)?Number(Q):Q;f(u,Y.split("."),N),(n[Y]||[]).forEach(function(L){f(u,L.split("."),N)})}}Object.keys(t.bools).forEach(function(Y){_(Y,o[Y]===void 0?!1:o[Y])});var v=[];r.indexOf("--")!==-1&&(v=r.slice(r.indexOf("--")+1),r=r.slice(0,r.indexOf("--")));for(var g=0;g<r.length;g++){var M=r[g],W,I;if(/^--.+=/.test(M)){var x=M.match(/^--([^=]+)=([\s\S]*)$/);W=x[1];var C=x[2];t.bools[W]&&(C=C!=="false"),_(W,C,M)}else if(/^--no-.+/.test(M))W=M.match(/^--no-(.+)/)[1],_(W,!1,M);else if(/^--.+/.test(M))W=M.match(/^--(.+)/)[1],I=r[g+1],I!==void 0&&!/^(-|--)[^-]/.test(I)&&!t.bools[W]&&!t.allBools&&(!n[W]||!i(W))?(_(W,I,M),g+=1):/^(true|false)$/.test(I)?(_(W,I==="true",M),g+=1):_(W,t.strings[W]?"":!0,M);else if(/^-[^-]+/.test(M)){for(var P=M.slice(1,-1).split(""),k=!1,T=0;T<P.length;T++){if(I=M.slice(T+2),I==="-"){_(P[T],I,M);continue}if(/[A-Za-z]/.test(P[T])&&I[0]==="="){_(P[T],I.slice(1),M),k=!0;break}if(/[A-Za-z]/.test(P[T])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(I)){_(P[T],I,M),k=!0;break}if(P[T+1]&&P[T+1].match(/\W/)){_(P[T],M.slice(T+2),M),k=!0;break}else _(P[T],t.strings[P[T]]?"":!0,M)}W=M.slice(-1)[0],!k&&W!=="-"&&(r[g+1]&&!/^(-|--)[^-]/.test(r[g+1])&&!t.bools[W]&&(!n[W]||!i(W))?(_(W,r[g+1],M),g+=1):r[g+1]&&/^(true|false)$/.test(r[g+1])?(_(W,r[g+1]==="true",M),g+=1):_(W,t.strings[W]?"":!0,M))}else if((!t.unknownFn||t.unknownFn(M)!==!1)&&u._.push(t.strings._||!Wh(M)?M:Number(M)),e.stopEarly){u._.push.apply(u._,r.slice(g+1));break}}return Object.keys(o).forEach(function(Y){WI(u,Y.split("."))||(f(u,Y.split("."),o[Y]),(n[Y]||[]).forEach(function(Q){f(u,Q.split("."),o[Y])}))}),e["--"]?u["--"]=v.slice():v.forEach(function(Y){u._.push(Y)}),u}});var ks=S((IN,Hh)=>{"use strict";h();function St(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function Bh(r,e){for(var t="",n=0,i=-1,o=0,u,l=0;l<=r.length;++l){if(l<r.length)u=r.charCodeAt(l);else{if(u===47)break;u=47}if(u===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var f=t.lastIndexOf("/");if(f!==t.length-1){f===-1?(t="",n=0):(t=t.slice(0,f),n=t.length-1-t.lastIndexOf("/")),i=l,o=0;continue}}else if(t.length===2||t.length===1){t="",n=0,i=l,o=0;continue}}e&&(t.length>0?t+="/..":t="..",n=2)}else t.length>0?t+="/"+r.slice(i+1,l):t=r.slice(i+1,l),n=l-i-1;i=l,o=0}else u===46&&o!==-1?++o:o=-1}return t}function VI(r,e){var t=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+n:t+r+n:n}var on={resolve:function(){for(var e="",t=!1,n,i=arguments.length-1;i>=-1&&!t;i--){var o;i>=0?o=arguments[i]:(n===void 0&&(n=process.cwd()),o=n),St(o),o.length!==0&&(e=o+"/"+e,t=o.charCodeAt(0)===47)}return e=Bh(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(St(e),e.length===0)return".";var t=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=Bh(e,!t),e.length===0&&!t&&(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return St(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];St(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":on.normalize(e)},relative:function(e,t){if(St(e),St(t),e===t||(e=on.resolve(e),t=on.resolve(t),e===t))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var i=e.length,o=i-n,u=1;u<t.length&&t.charCodeAt(u)===47;++u);for(var l=t.length,f=l-u,_=o<f?o:f,v=-1,g=0;g<=_;++g){if(g===_){if(f>_){if(t.charCodeAt(u+g)===47)return t.slice(u+g+1);if(g===0)return t.slice(u+g)}else o>_&&(e.charCodeAt(n+g)===47?v=g:g===0&&(v=0));break}var M=e.charCodeAt(n+g),W=t.charCodeAt(u+g);if(M!==W)break;M===47&&(v=g)}var I="";for(g=n+v+1;g<=i;++g)(g===i||e.charCodeAt(g)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+t.slice(u+v):(u+=v,t.charCodeAt(u)===47&&++u,t.slice(u))},_makeLong:function(e){return e},dirname:function(e){if(St(e),e.length===0)return".";for(var t=e.charCodeAt(0),n=t===47,i=-1,o=!0,u=e.length-1;u>=1;--u)if(t=e.charCodeAt(u),t===47){if(!o){i=u;break}}else o=!1;return i===-1?n?"/":".":n&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');St(e);var n=0,i=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,f=-1;for(u=e.length-1;u>=0;--u){var _=e.charCodeAt(u);if(_===47){if(!o){n=u+1;break}}else f===-1&&(o=!1,f=u+1),l>=0&&(_===t.charCodeAt(l)?--l===-1&&(i=u):(l=-1,i=f))}return n===i?i=f:i===-1&&(i=e.length),e.slice(n,i)}else{for(u=e.length-1;u>=0;--u)if(e.charCodeAt(u)===47){if(!o){n=u+1;break}}else i===-1&&(o=!1,i=u+1);return i===-1?"":e.slice(n,i)}},extname:function(e){St(e);for(var t=-1,n=0,i=-1,o=!0,u=0,l=e.length-1;l>=0;--l){var f=e.charCodeAt(l);if(f===47){if(!o){n=l+1;break}continue}i===-1&&(o=!1,i=l+1),f===46?t===-1?t=l:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||i===-1||u===0||u===1&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return VI("/",e)},parse:function(e){St(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var n=e.charCodeAt(0),i=n===47,o;i?(t.root="/",o=1):o=0;for(var u=-1,l=0,f=-1,_=!0,v=e.length-1,g=0;v>=o;--v){if(n=e.charCodeAt(v),n===47){if(!_){l=v+1;break}continue}f===-1&&(_=!1,f=v+1),n===46?u===-1?u=v:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===l+1?f!==-1&&(l===0&&i?t.base=t.name=e.slice(1,f):t.base=t.name=e.slice(l,f)):(l===0&&i?(t.name=e.slice(1,u),t.base=e.slice(1,f)):(t.name=e.slice(l,u),t.base=e.slice(l,f)),t.ext=e.slice(u,f)),l>0?t.dir=e.slice(0,l-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};on.posix=on;Hh.exports=on});var $h=S((CN,Gh)=>{"use strict";h();Gh.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var Xh=S(Gu=>{"use strict";h();var KI=Object.prototype.hasOwnProperty,YI;function Jh(r){try{return decodeURIComponent(r.replace(/\+/g," "))}catch(e){return null}}function zh(r){try{return encodeURIComponent(r)}catch(e){return null}}function BI(r){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},n;n=e.exec(r);){var i=Jh(n[1]),o=Jh(n[2]);i===null||o===null||i in t||(t[i]=o)}return t}function HI(r,e){e=e||"";var t=[],n,i;typeof e!="string"&&(e="?");for(i in r)if(KI.call(r,i)){if(n=r[i],!n&&(n===null||n===YI||isNaN(n))&&(n=""),i=zh(i),n=zh(n),i===null||n===null)continue;t.push(i+"="+n)}return t.length?e+t.join("&"):""}Gu.stringify=HI;Gu.parse=BI});var sp=S((DN,ip)=>{"use strict";h();var Qh=$h(),xs=Xh(),GI=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ep=/[\n\r\t]/g,$I=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,tp=/:\d+$/,JI=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,zI=/^[a-zA-Z]:/;function Ju(r){return(r||"").toString().replace(GI,"")}var $u=[["#","hash"],["?","query"],function(e,t){return wt(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Zh={hash:1,query:1};function rp(r){var e;typeof window!="undefined"?e=window:typeof this!="undefined"?e=this:typeof self!="undefined"?e=self:e={};var t=e.location||{};r=r||t;var n={},i=typeof r,o;if(r.protocol==="blob:")n=new Et(unescape(r.pathname),{});else if(i==="string"){n=new Et(r,{});for(o in Zh)delete n[o]}else if(i==="object"){for(o in r)o in Zh||(n[o]=r[o]);n.slashes===void 0&&(n.slashes=$I.test(r.href))}return n}function wt(r){return r==="file:"||r==="ftp:"||r==="http:"||r==="https:"||r==="ws:"||r==="wss:"}function np(r,e){r=Ju(r),r=r.replace(ep,""),e=e||{};var t=JI.exec(r),n=t[1]?t[1].toLowerCase():"",i=!!t[2],o=!!t[3],u=0,l;return i?o?(l=t[2]+t[3]+t[4],u=t[2].length+t[3].length):(l=t[2]+t[4],u=t[2].length):o?(l=t[3]+t[4],u=t[3].length):l=t[4],n==="file:"?u>=2&&(l=l.slice(2)):wt(n)?l=t[4]:n?i&&(l=l.slice(2)):u>=2&&wt(e.protocol)&&(l=t[4]),{protocol:n,slashes:i||wt(n),slashesCount:u,rest:l}}function XI(r,e){if(r==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(r.split("/")),n=t.length,i=t[n-1],o=!1,u=0;n--;)t[n]==="."?t.splice(n,1):t[n]===".."?(t.splice(n,1),u++):u&&(n===0&&(o=!0),t.splice(n,1),u--);return o&&t.unshift(""),(i==="."||i==="..")&&t.push(""),t.join("/")}function Et(r,e,t){if(r=Ju(r),r=r.replace(ep,""),!(this instanceof Et))return new Et(r,e,t);var n,i,o,u,l,f,_=$u.slice(),v=typeof e,g=this,M=0;for(v!=="object"&&v!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=xs.parse),e=rp(e),i=np(r||"",e),n=!i.protocol&&!i.slashes,g.slashes=i.slashes||n&&e.slashes,g.protocol=i.protocol||e.protocol||"",r=i.rest,(i.protocol==="file:"&&(i.slashesCount!==2||zI.test(r))||!i.slashes&&(i.protocol||i.slashesCount<2||!wt(g.protocol)))&&(_[3]=[/(.*)/,"pathname"]);M<_.length;M++){if(u=_[M],typeof u=="function"){r=u(r,g);continue}o=u[0],f=u[1],o!==o?g[f]=r:typeof o=="string"?(l=o==="@"?r.lastIndexOf(o):r.indexOf(o),~l&&(typeof u[2]=="number"?(g[f]=r.slice(0,l),r=r.slice(l+u[2])):(g[f]=r.slice(l),r=r.slice(0,l)))):(l=o.exec(r))&&(g[f]=l[1],r=r.slice(0,l.index)),g[f]=g[f]||n&&u[3]&&e[f]||"",u[4]&&(g[f]=g[f].toLowerCase())}t&&(g.query=t(g.query)),n&&e.slashes&&g.pathname.charAt(0)!=="/"&&(g.pathname!==""||e.pathname!=="")&&(g.pathname=XI(g.pathname,e.pathname)),g.pathname.charAt(0)!=="/"&&wt(g.protocol)&&(g.pathname="/"+g.pathname),Qh(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(l=g.auth.indexOf(":"),~l?(g.username=g.auth.slice(0,l),g.username=encodeURIComponent(decodeURIComponent(g.username)),g.password=g.auth.slice(l+1),g.password=encodeURIComponent(decodeURIComponent(g.password))):g.username=encodeURIComponent(decodeURIComponent(g.auth)),g.auth=g.password?g.username+":"+g.password:g.username),g.origin=g.protocol!=="file:"&&wt(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString()}function ZI(r,e,t){var n=this;switch(r){case"query":typeof e=="string"&&e.length&&(e=(t||xs.parse)(e)),n[r]=e;break;case"port":n[r]=e,Qh(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[r]="");break;case"hostname":n[r]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[r]=e,tp.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!t;break;case"pathname":case"hash":if(e){var i=r==="pathname"?"/":"#";n[r]=e.charAt(0)!==i?i+e:e}else n[r]=e;break;case"username":case"password":n[r]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(n.username=e.slice(0,o),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(o+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<$u.length;u++){var l=$u[u];l[4]&&(n[l[1]]=n[l[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&wt(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function QI(r){(!r||typeof r!="function")&&(r=xs.stringify);var e,t=this,n=t.host,i=t.protocol;i&&i.charAt(i.length-1)!==":"&&(i+=":");var o=i+(t.protocol&&t.slashes||wt(t.protocol)?"//":"");return t.username?(o+=t.username,t.password&&(o+=":"+t.password),o+="@"):t.password?(o+=":"+t.password,o+="@"):t.protocol!=="file:"&&wt(t.protocol)&&!n&&t.pathname!=="/"&&(o+="@"),(n[n.length-1]===":"||tp.test(t.hostname)&&!t.port)&&(n+=":"),o+=n+t.pathname,e=typeof t.query=="object"?r(t.query):t.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(o+=t.hash),o}Et.prototype={set:ZI,toString:QI};Et.extractProtocol=np;Et.location=rp;Et.trimLeft=Ju;Et.qs=xs;ip.exports=Et});var Xu=S(Ar=>{"use strict";h();var eM=Ar&&Ar.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.URLExt=void 0;var tM=ks(),zu=eM(sp()),rM;(function(r){function e(_){if(typeof document!="undefined"&&document){let v=document.createElement("a");return v.href=_,v}return zu.default(_)}r.parse=e;function t(_){return zu.default(_).hostname}r.getHostName=t;function n(_){return _&&e(_).toString()}r.normalize=n;function i(..._){let v=zu.default(_[0],{}),g=`${v.protocol}${v.slashes?"//":""}${v.auth}${v.auth?"@":""}${v.host}`,M=tM.posix.join(`${g&&v.pathname[0]!=="/"?"/":""}${v.pathname}`,..._.slice(1));return`${g}${M==="."?"":M}`}r.join=i;function o(_){return i(..._.split("/").map(encodeURIComponent))}r.encodeParts=o;function u(_){let v=Object.keys(_).filter(g=>g.length>0);return v.length?"?"+v.map(g=>{let M=encodeURIComponent(String(_[g]));return g+(M?"="+M:"")}).join("&"):""}r.objectToQueryString=u;function l(_){return _.replace(/^\?/,"").split("&").reduce((v,g)=>{let[M,W]=g.split("=");return M.length>0&&(v[M]=decodeURIComponent(W||"")),v},{})}r.queryStringToObject=l;function f(_){let{protocol:v}=e(_);return(!v||_.toLowerCase().indexOf(v)!==0)&&_.indexOf("/")!==0}r.isLocal=f})(rM=Ar.URLExt||(Ar.URLExt={}))});var op=S((exports,module)=>{"use strict";h();var __importDefault=exports&&exports.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0});exports.PageConfig=void 0;var coreutils_1=ht(),minimist_1=__importDefault(Yh()),url_1=Xu(),PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if(typeof document!="undefined"&&document){let r=document.getElementById("jupyter-config-data");r&&(configData=JSON.parse(r.textContent||""),found=!0)}if(!found&&typeof process!="undefined"&&process.argv)try{let cli=minimist_1.default(process.argv.slice(2)),path=ks(),fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(r){console.error(r)}if(!coreutils_1.JSONExt.isObject(configData))configData=Object.create(null);else for(let r in configData)typeof configData[r]!="string"&&(configData[r]=JSON.stringify(configData[r]));return configData[name]||getBodyData(name)}PageConfig.getOption=getOption;function setOption(r,e){let t=getOption(r);return configData[r]=e,t}PageConfig.setOption=setOption;function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}PageConfig.getBaseUrl=getBaseUrl;function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}PageConfig.getTreeUrl=getTreeUrl;function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}PageConfig.getShareUrl=getShareUrl;function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}PageConfig.getTreeShareUrl=getTreeShareUrl;function getUrl(r){var e,t,n;let i=getOption("baseUrl")||"/",o=(e=r.mode)!==null&&e!==void 0?e:getOption("mode"),u=(t=r.workspace)!==null&&t!==void 0?t:getOption("workspace"),l=o==="multiple-document"?"lab":"doc";i=url_1.URLExt.join(i,l),u!==PageConfig.defaultWorkspace&&(i=url_1.URLExt.join(i,"workspaces",encodeURIComponent(getOption("workspace"))));let f=(n=r.treePath)!==null&&n!==void 0?n:getOption("treePath");return f&&(i=url_1.URLExt.join(i,"tree",url_1.URLExt.encodeParts(f))),i}PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default";function getWsUrl(r){let e=getOption("wsUrl");if(!e){if(r=r?url_1.URLExt.normalize(r):getBaseUrl(),r.indexOf("http")!==0)return"";e="ws"+r.slice(4)}return url_1.URLExt.normalize(e)}PageConfig.getWsUrl=getWsUrl;function getNBConvertURL({path:r,format:e,download:t}){let n=url_1.URLExt.encodeParts(r),i=url_1.URLExt.join(getBaseUrl(),"nbconvert",e,n);return t?i+"?download=true":i}PageConfig.getNBConvertURL=getNBConvertURL;function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}PageConfig.getToken=getToken;function getNotebookVersion(){let r=getOption("notebookVersion");return r===""?[0,0,0]:JSON.parse(r)}PageConfig.getNotebookVersion=getNotebookVersion;let configData=null;function getBodyData(r){if(typeof document=="undefined"||!document.body)return"";let e=document.body.dataset[r];return typeof e=="undefined"?"":decodeURIComponent(e)}let Extension;(function(r){function e(i){try{let o=getOption(i);if(o)return JSON.parse(o)}catch(o){console.warn(`Unable to parse ${i}.`,o)}return[]}r.deferred=e("deferredExtensions"),r.disabled=e("disabledExtensions");function t(i){let o=i.indexOf(":"),u="";return o!==-1&&(u=i.slice(0,o)),r.deferred.some(l=>l===i||u&&l===u)}r.isDeferred=t;function n(i){let o=i.indexOf(":"),u="";return o!==-1&&(u=i.slice(0,o)),r.disabled.some(l=>l===i||u&&l===u)}r.isDisabled=n})(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig=exports.PageConfig||(exports.PageConfig={}))});var ap=S(mi=>{"use strict";h();Object.defineProperty(mi,"__esModule",{value:!0});mi.PathExt=void 0;var Pr=ks(),nM;(function(r){function e(...v){let g=Pr.posix.join(...v);return g==="."?"":_(g)}r.join=e;function t(v,g){return Pr.posix.basename(v,g)}r.basename=t;function n(v){let g=_(Pr.posix.dirname(v));return g==="."?"":g}r.dirname=n;function i(v){return Pr.posix.extname(v)}r.extname=i;function o(v){return v===""?"":_(Pr.posix.normalize(v))}r.normalize=o;function u(...v){return _(Pr.posix.resolve(...v))}r.resolve=u;function l(v,g){return _(Pr.posix.relative(v,g))}r.relative=l;function f(v){return v.length>0&&v.indexOf(".")!==0&&(v=`.${v}`),v}r.normalizeExtension=f;function _(v){return v.indexOf("/")===0&&(v=v.slice(1)),v}r.removeSlash=_})(nM=mi.PathExt||(mi.PathExt={}))});var up=S(yi=>{"use strict";h();Object.defineProperty(yi,"__esModule",{value:!0});yi.Text=void 0;var iM;(function(r){let e=2>1;function t(u,l){if(e)return u;let f=u;for(let _=0;_+1<l.length&&_<u;_++){let v=l.charCodeAt(_);if(v>=55296&&v<=56319){let g=l.charCodeAt(_+1);g>=56320&&g<=57343&&(f--,_++)}}return f}r.jsIndexToCharIndex=t;function n(u,l){if(e)return u;let f=u;for(let _=0;_+1<l.length&&_<f;_++){let v=l.charCodeAt(_);if(v>=55296&&v<=56319){let g=l.charCodeAt(_+1);g>=56320&&g<=57343&&(f++,_++)}}return f}r.charIndexToJsIndex=n;function i(u,l=!1){return u.replace(/^(\w)|[\s-_:]+(\w)/g,function(f,_,v){return v?v.toUpperCase():l?_.toUpperCase():_.toLowerCase()})}r.camelCase=i;function o(u){return(u||"").toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ")}r.titleCase=o})(iM=yi.Text||(yi.Text={}))});var cp=S((Zu,an)=>{h();(function(r,e){typeof Zu=="object"&&typeof an!="undefined"?an.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(Zu,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(s){r=s}function n(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}function i(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}function o(s,a){return Object.prototype.hasOwnProperty.call(s,a)}function u(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var a;for(a in s)if(o(s,a))return!1;return!0}function l(s){return s===void 0}function f(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}function _(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}function v(s,a){var c=[],d,p=s.length;for(d=0;d<p;++d)c.push(a(s[d],d));return c}function g(s,a){for(var c in a)o(a,c)&&(s[c]=a[c]);return o(a,"toString")&&(s.toString=a.toString),o(a,"valueOf")&&(s.valueOf=a.valueOf),s}function M(s,a,c,d){return Ul(s,a,c,d,!0).utc()}function W(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function I(s){return s._pf==null&&(s._pf=W()),s._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(s){var a=Object(this),c=a.length>>>0,d;for(d=0;d<c;d++)if(d in a&&s.call(this,a[d],d,a))return!0;return!1};function C(s){if(s._isValid==null){var a=I(s),c=x.call(a.parsedDateParts,function(p){return p!=null}),d=!isNaN(s._d.getTime())&&a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c);if(s._strict&&(d=d&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=d;else return d}return s._isValid}function P(s){var a=M(NaN);return s!=null?g(I(a),s):I(a).userInvalidated=!0,a}var k=e.momentProperties=[],T=!1;function Y(s,a){var c,d,p,m=k.length;if(l(a._isAMomentObject)||(s._isAMomentObject=a._isAMomentObject),l(a._i)||(s._i=a._i),l(a._f)||(s._f=a._f),l(a._l)||(s._l=a._l),l(a._strict)||(s._strict=a._strict),l(a._tzm)||(s._tzm=a._tzm),l(a._isUTC)||(s._isUTC=a._isUTC),l(a._offset)||(s._offset=a._offset),l(a._pf)||(s._pf=I(a)),l(a._locale)||(s._locale=a._locale),m>0)for(c=0;c<m;c++)d=k[c],p=a[d],l(p)||(s[d]=p);return s}function Q(s){Y(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T===!1&&(T=!0,e.updateOffset(this),T=!1)}function K(s){return s instanceof Q||s!=null&&s._isAMomentObject!=null}function N(s){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+s)}function L(s,a){var c=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,s),c){var d=[],p,m,A,z=arguments.length;for(m=0;m<z;m++){if(p="",typeof arguments[m]=="object"){p+=`
[`+m+"] ";for(A in arguments[0])o(arguments[0],A)&&(p+=A+": "+arguments[0][A]+", ");p=p.slice(0,-2)}else p=arguments[m];d.push(p)}N(s+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var Z={};function le(s,a){e.deprecationHandler!=null&&e.deprecationHandler(s,a),Z[s]||(N(a),Z[s]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function we(s){return typeof Function!="undefined"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}function Tt(s){var a,c;for(c in s)o(s,c)&&(a=s[c],we(a)?this[c]=a:this["_"+c]=a);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function qr(s,a){var c=g({},s),d;for(d in a)o(a,d)&&(i(s[d])&&i(a[d])?(c[d]={},g(c[d],s[d]),g(c[d],a[d])):a[d]!=null?c[d]=a[d]:delete c[d]);for(d in s)o(s,d)&&!o(a,d)&&i(s[d])&&(c[d]=g({},c[d]));return c}function dr(s){s!=null&&this.set(s)}var Ur;Object.keys?Ur=Object.keys:Ur=function(s){var a,c=[];for(a in s)o(s,a)&&c.push(a);return c};var fr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Wr(s,a,c){var d=this._calendar[s]||this._calendar.sameElse;return we(d)?d.call(a,c):d}function nt(s,a,c){var d=""+Math.abs(s),p=a-d.length,m=s>=0;return(m?c?"+":"":"-")+Math.pow(10,Math.max(0,p)).toString().substr(1)+d}var Vr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,hr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$t={},Nt={};function J(s,a,c,d){var p=d;typeof d=="string"&&(p=function(){return this[d]()}),s&&(Nt[s]=p),a&&(Nt[a[0]]=function(){return nt(p.apply(this,arguments),a[1],a[2])}),c&&(Nt[c]=function(){return this.localeData().ordinal(p.apply(this,arguments),s)})}function Wi(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}function Vi(s){var a=s.match(Vr),c,d;for(c=0,d=a.length;c<d;c++)Nt[a[c]]?a[c]=Nt[a[c]]:a[c]=Wi(a[c]);return function(p){var m="",A;for(A=0;A<d;A++)m+=we(a[A])?a[A].call(p,s):a[A];return m}}function Jt(s,a){return s.isValid()?(a=In(a,s.localeData()),$t[a]=$t[a]||Vi(a),$t[a](s)):s.localeData().invalidDate()}function In(s,a){var c=5;function d(p){return a.longDateFormat(p)||p}for(hr.lastIndex=0;c>=0&&hr.test(s);)s=s.replace(hr,d),hr.lastIndex=0,c-=1;return s}var Mn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ki(s){var a=this._longDateFormat[s],c=this._longDateFormat[s.toUpperCase()];return a||!c?a:(this._longDateFormat[s]=c.match(Vr).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[s])}var Cn="Invalid date";function y(){return this._invalidDate}var E="%d",F=/\d{1,2}/;function B(s){return this._ordinal.replace("%d",s)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function De(s,a,c,d){var p=this._relativeTime[c];return we(p)?p(s,a,c,d):p.replace(/%d/i,s)}function fe(s,a){var c=this._relativeTime[s>0?"future":"past"];return we(c)?c(a):c.replace(/%s/i,a)}var se={};function re(s,a){var c=s.toLowerCase();se[c]=se[c+"s"]=se[a]=s}function oe(s){return typeof s=="string"?se[s]||se[s.toLowerCase()]:void 0}function Me(s){var a={},c,d;for(d in s)o(s,d)&&(c=oe(d),c&&(a[c]=s[d]));return a}var Oe={};function de(s,a){Oe[s]=a}function Qe(s){var a=[],c;for(c in s)o(s,c)&&a.push({unit:c,priority:Oe[c]});return a.sort(function(d,p){return d.priority-p.priority}),a}function Ue(s){return s%4===0&&s%100!==0||s%400===0}function Ke(s){return s<0?Math.ceil(s)||0:Math.floor(s)}function ee(s){var a=+s,c=0;return a!==0&&isFinite(a)&&(c=Ke(a)),c}function kt(s,a){return function(c){return c!=null?(An(this,s,c),e.updateOffset(this,a),this):pr(this,s)}}function pr(s,a){return s.isValid()?s._d["get"+(s._isUTC?"UTC":"")+a]():NaN}function An(s,a,c){s.isValid()&&!isNaN(c)&&(a==="FullYear"&&Ue(s.year())&&s.month()===1&&s.date()===29?(c=ee(c),s._d["set"+(s._isUTC?"UTC":"")+a](c,s.month(),Gi(c,s.month()))):s._d["set"+(s._isUTC?"UTC":"")+a](c))}function Yi(s){return s=oe(s),we(this[s])?this[s]():this}function Bi(s,a){if(typeof s=="object"){s=Me(s);var c=Qe(s),d,p=c.length;for(d=0;d<p;d++)this[c[d].unit](s[c[d].unit])}else if(s=oe(s),we(this[s]))return this[s](a);return this}var Pn=/\d/,R=/\d\d/,q=/\d{3}/,w=/\d{4}/,b=/[+-]?\d{6}/,O=/\d\d?/,V=/\d\d\d\d?/,H=/\d\d\d\d\d\d?/,he=/\d{1,3}/,xe=/\d{1,4}/,lt=/[+-]?\d{1,6}/,_r=/\d+/,Rn=/[+-]?\d+/,Ol=/Z|[+-]\d\d:?\d\d/gi,U=/Z|[+-]\d\d(?::?\d\d)?/gi,mg=/[+-]?\d+(\.\d{1,3})?/,Dn=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Hi;Hi={};function G(s,a,c){Hi[s]=we(a)?a:function(d,p){return d&&c?c:a}}function yg(s,a){return o(Hi,s)?Hi[s](a._strict,a._locale):new RegExp(bg(s))}function bg(s){return it(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,p,m){return c||d||p||m}))}function it(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var jo={};function me(s,a){var c,d=a,p;for(typeof s=="string"&&(s=[s]),f(a)&&(d=function(m,A){A[a]=ee(m)}),p=s.length,c=0;c<p;c++)jo[s[c]]=d}function Tn(s,a){me(s,function(c,d,p,m){p._w=p._w||{},a(c,p._w,p,m)})}function Sg(s,a,c){a!=null&&o(jo,s)&&jo[s](a,c._a,c,s)}var We=0,xt=1,yt=2,Te=3,dt=4,jt=5,gr=6,wg=7,Eg=8;function Og(s,a){return(s%a+a)%a}var Re;Array.prototype.indexOf?Re=Array.prototype.indexOf:Re=function(s){var a;for(a=0;a<this.length;++a)if(this[a]===s)return a;return-1};function Gi(s,a){if(isNaN(s)||isNaN(a))return NaN;var c=Og(a,12);return s+=(a-c)/12,c===1?Ue(s)?29:28:31-c%7%2}J("M",["MM",2],"Mo",function(){return this.month()+1}),J("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)}),J("MMMM",0,0,function(s){return this.localeData().months(this,s)}),re("month","M"),de("month",8),G("M",O),G("MM",O,R),G("MMM",function(s,a){return a.monthsShortRegex(s)}),G("MMMM",function(s,a){return a.monthsRegex(s)}),me(["M","MM"],function(s,a){a[xt]=ee(s)-1}),me(["MMM","MMMM"],function(s,a,c,d){var p=c._locale.monthsParse(s,d,c._strict);p!=null?a[xt]=p:I(c).invalidMonth=s});var Ig="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Il="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ml=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mg=Dn,Cg=Dn;function Ag(s,a){return s?n(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||Ml).test(a)?"format":"standalone"][s.month()]:n(this._months)?this._months:this._months.standalone}function Pg(s,a){return s?n(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[Ml.test(a)?"format":"standalone"][s.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Rg(s,a,c){var d,p,m,A=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)m=M([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(m,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(m,"").toLocaleLowerCase();return c?a==="MMM"?(p=Re.call(this._shortMonthsParse,A),p!==-1?p:null):(p=Re.call(this._longMonthsParse,A),p!==-1?p:null):a==="MMM"?(p=Re.call(this._shortMonthsParse,A),p!==-1?p:(p=Re.call(this._longMonthsParse,A),p!==-1?p:null)):(p=Re.call(this._longMonthsParse,A),p!==-1?p:(p=Re.call(this._shortMonthsParse,A),p!==-1?p:null))}function Dg(s,a,c){var d,p,m;if(this._monthsParseExact)return Rg.call(this,s,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(p=M([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(p,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(p,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(m="^"+this.months(p,"")+"|^"+this.monthsShort(p,""),this._monthsParse[d]=new RegExp(m.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[d].test(s))return d;if(c&&a==="MMM"&&this._shortMonthsParse[d].test(s))return d;if(!c&&this._monthsParse[d].test(s))return d}}function Cl(s,a){var c;if(!s.isValid())return s;if(typeof a=="string"){if(/^\d+$/.test(a))a=ee(a);else if(a=s.localeData().monthsParse(a),!f(a))return s}return c=Math.min(s.date(),Gi(s.year(),a)),s._d["set"+(s._isUTC?"UTC":"")+"Month"](a,c),s}function Al(s){return s!=null?(Cl(this,s),e.updateOffset(this,!0),this):pr(this,"Month")}function Tg(){return Gi(this.year(),this.month())}function Ng(s){return this._monthsParseExact?(o(this,"_monthsRegex")||Pl.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Mg),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}function kg(s){return this._monthsParseExact?(o(this,"_monthsRegex")||Pl.call(this),s?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=Cg),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}function Pl(){function s(A,z){return z.length-A.length}var a=[],c=[],d=[],p,m;for(p=0;p<12;p++)m=M([2e3,p]),a.push(this.monthsShort(m,"")),c.push(this.months(m,"")),d.push(this.months(m,"")),d.push(this.monthsShort(m,""));for(a.sort(s),c.sort(s),d.sort(s),p=0;p<12;p++)a[p]=it(a[p]),c[p]=it(c[p]);for(p=0;p<24;p++)d[p]=it(d[p]);this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}J("Y",0,0,function(){var s=this.year();return s<=9999?nt(s,4):"+"+s}),J(0,["YY",2],0,function(){return this.year()%100}),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),re("year","y"),de("year",1),G("Y",Rn),G("YY",O,R),G("YYYY",xe,w),G("YYYYY",lt,b),G("YYYYYY",lt,b),me(["YYYYY","YYYYYY"],We),me("YYYY",function(s,a){a[We]=s.length===2?e.parseTwoDigitYear(s):ee(s)}),me("YY",function(s,a){a[We]=e.parseTwoDigitYear(s)}),me("Y",function(s,a){a[We]=parseInt(s,10)});function Nn(s){return Ue(s)?366:365}e.parseTwoDigitYear=function(s){return ee(s)+(ee(s)>68?1900:2e3)};var Rl=kt("FullYear",!0);function xg(){return Ue(this.year())}function jg(s,a,c,d,p,m,A){var z;return s<100&&s>=0?(z=new Date(s+400,a,c,d,p,m,A),isFinite(z.getFullYear())&&z.setFullYear(s)):z=new Date(s,a,c,d,p,m,A),z}function kn(s){var a,c;return s<100&&s>=0?(c=Array.prototype.slice.call(arguments),c[0]=s+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(s)):a=new Date(Date.UTC.apply(null,arguments)),a}function $i(s,a,c){var d=7+a-c,p=(7+kn(s,0,d).getUTCDay()-a)%7;return-p+d-1}function Dl(s,a,c,d,p){var m=(7+c-d)%7,A=$i(s,d,p),z=1+7*(a-1)+m+A,ne,ye;return z<=0?(ne=s-1,ye=Nn(ne)+z):z>Nn(s)?(ne=s+1,ye=z-Nn(s)):(ne=s,ye=z),{year:ne,dayOfYear:ye}}function xn(s,a,c){var d=$i(s.year(),a,c),p=Math.floor((s.dayOfYear()-d-1)/7)+1,m,A;return p<1?(A=s.year()-1,m=p+Lt(A,a,c)):p>Lt(s.year(),a,c)?(m=p-Lt(s.year(),a,c),A=s.year()+1):(A=s.year(),m=p),{week:m,year:A}}function Lt(s,a,c){var d=$i(s,a,c),p=$i(s+1,a,c);return(Nn(s)-d+p)/7}J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),re("week","w"),re("isoWeek","W"),de("week",5),de("isoWeek",5),G("w",O),G("ww",O,R),G("W",O),G("WW",O,R),Tn(["w","ww","W","WW"],function(s,a,c,d){a[d.substr(0,1)]=ee(s)});function Lg(s){return xn(s,this._week.dow,this._week.doy).week}var Fg={dow:0,doy:6};function qg(){return this._week.dow}function Ug(){return this._week.doy}function Wg(s){var a=this.localeData().week(this);return s==null?a:this.add((s-a)*7,"d")}function Vg(s){var a=xn(this,1,4).week;return s==null?a:this.add((s-a)*7,"d")}J("d",0,"do","day"),J("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)}),J("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)}),J("dddd",0,0,function(s){return this.localeData().weekdays(this,s)}),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),re("day","d"),re("weekday","e"),re("isoWeekday","E"),de("day",11),de("weekday",11),de("isoWeekday",11),G("d",O),G("e",O),G("E",O),G("dd",function(s,a){return a.weekdaysMinRegex(s)}),G("ddd",function(s,a){return a.weekdaysShortRegex(s)}),G("dddd",function(s,a){return a.weekdaysRegex(s)}),Tn(["dd","ddd","dddd"],function(s,a,c,d){var p=c._locale.weekdaysParse(s,d,c._strict);p!=null?a.d=p:I(c).invalidWeekday=s}),Tn(["d","e","E"],function(s,a,c,d){a[d]=ee(s)});function Kg(s,a){return typeof s!="string"?s:isNaN(s)?(s=a.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}function Yg(s,a){return typeof s=="string"?a.weekdaysParse(s)%7||7:isNaN(s)?null:s}function Lo(s,a){return s.slice(a,7).concat(s.slice(0,a))}var Bg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Tl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hg="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gg=Dn,$g=Dn,Jg=Dn;function zg(s,a){var c=n(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return s===!0?Lo(c,this._week.dow):s?c[s.day()]:c}function Xg(s){return s===!0?Lo(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}function Zg(s){return s===!0?Lo(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}function Qg(s,a,c){var d,p,m,A=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)m=M([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(m,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(m,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(m,"").toLocaleLowerCase();return c?a==="dddd"?(p=Re.call(this._weekdaysParse,A),p!==-1?p:null):a==="ddd"?(p=Re.call(this._shortWeekdaysParse,A),p!==-1?p:null):(p=Re.call(this._minWeekdaysParse,A),p!==-1?p:null):a==="dddd"?(p=Re.call(this._weekdaysParse,A),p!==-1||(p=Re.call(this._shortWeekdaysParse,A),p!==-1)?p:(p=Re.call(this._minWeekdaysParse,A),p!==-1?p:null)):a==="ddd"?(p=Re.call(this._shortWeekdaysParse,A),p!==-1||(p=Re.call(this._weekdaysParse,A),p!==-1)?p:(p=Re.call(this._minWeekdaysParse,A),p!==-1?p:null)):(p=Re.call(this._minWeekdaysParse,A),p!==-1||(p=Re.call(this._weekdaysParse,A),p!==-1)?p:(p=Re.call(this._shortWeekdaysParse,A),p!==-1?p:null))}function ev(s,a,c){var d,p,m;if(this._weekdaysParseExact)return Qg.call(this,s,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(p=M([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(p,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(p,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(p,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(m="^"+this.weekdays(p,"")+"|^"+this.weekdaysShort(p,"")+"|^"+this.weekdaysMin(p,""),this._weekdaysParse[d]=new RegExp(m.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[d].test(s))return d;if(c&&a==="ddd"&&this._shortWeekdaysParse[d].test(s))return d;if(c&&a==="dd"&&this._minWeekdaysParse[d].test(s))return d;if(!c&&this._weekdaysParse[d].test(s))return d}}function tv(s){if(!this.isValid())return s!=null?this:NaN;var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return s!=null?(s=Kg(s,this.localeData()),this.add(s-a,"d")):a}function rv(s){if(!this.isValid())return s!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return s==null?a:this.add(s-a,"d")}function nv(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var a=Yg(s,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function iv(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Fo.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Gg),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}function sv(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Fo.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$g),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ov(s){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Fo.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jg),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Fo(){function s(Ye,Vt){return Vt.length-Ye.length}var a=[],c=[],d=[],p=[],m,A,z,ne,ye;for(m=0;m<7;m++)A=M([2e3,1]).day(m),z=it(this.weekdaysMin(A,"")),ne=it(this.weekdaysShort(A,"")),ye=it(this.weekdays(A,"")),a.push(z),c.push(ne),d.push(ye),p.push(z),p.push(ne),p.push(ye);a.sort(s),c.sort(s),d.sort(s),p.sort(s),this._weekdaysRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qo(){return this.hours()%12||12}function av(){return this.hours()||24}J("H",["HH",2],0,"hour"),J("h",["hh",2],0,qo),J("k",["kk",2],0,av),J("hmm",0,0,function(){return""+qo.apply(this)+nt(this.minutes(),2)}),J("hmmss",0,0,function(){return""+qo.apply(this)+nt(this.minutes(),2)+nt(this.seconds(),2)}),J("Hmm",0,0,function(){return""+this.hours()+nt(this.minutes(),2)}),J("Hmmss",0,0,function(){return""+this.hours()+nt(this.minutes(),2)+nt(this.seconds(),2)});function Nl(s,a){J(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}Nl("a",!0),Nl("A",!1),re("hour","h"),de("hour",13);function kl(s,a){return a._meridiemParse}G("a",kl),G("A",kl),G("H",O),G("h",O),G("k",O),G("HH",O,R),G("hh",O,R),G("kk",O,R),G("hmm",V),G("hmmss",H),G("Hmm",V),G("Hmmss",H),me(["H","HH"],Te),me(["k","kk"],function(s,a,c){var d=ee(s);a[Te]=d===24?0:d}),me(["a","A"],function(s,a,c){c._isPm=c._locale.isPM(s),c._meridiem=s}),me(["h","hh"],function(s,a,c){a[Te]=ee(s),I(c).bigHour=!0}),me("hmm",function(s,a,c){var d=s.length-2;a[Te]=ee(s.substr(0,d)),a[dt]=ee(s.substr(d)),I(c).bigHour=!0}),me("hmmss",function(s,a,c){var d=s.length-4,p=s.length-2;a[Te]=ee(s.substr(0,d)),a[dt]=ee(s.substr(d,2)),a[jt]=ee(s.substr(p)),I(c).bigHour=!0}),me("Hmm",function(s,a,c){var d=s.length-2;a[Te]=ee(s.substr(0,d)),a[dt]=ee(s.substr(d))}),me("Hmmss",function(s,a,c){var d=s.length-4,p=s.length-2;a[Te]=ee(s.substr(0,d)),a[dt]=ee(s.substr(d,2)),a[jt]=ee(s.substr(p))});function uv(s){return(s+"").toLowerCase().charAt(0)==="p"}var cv=/[ap]\.?m?\.?/i,lv=kt("Hours",!0);function dv(s,a,c){return s>11?c?"pm":"PM":c?"am":"AM"}var xl={calendar:fr,longDateFormat:Mn,invalidDate:Cn,ordinal:E,dayOfMonthOrdinalParse:F,relativeTime:X,months:Ig,monthsShort:Il,week:Fg,weekdays:Bg,weekdaysMin:Hg,weekdaysShort:Tl,meridiemParse:cv},Ie={},jn={},Ln;function fv(s,a){var c,d=Math.min(s.length,a.length);for(c=0;c<d;c+=1)if(s[c]!==a[c])return c;return d}function jl(s){return s&&s.toLowerCase().replace("_","-")}function hv(s){for(var a=0,c,d,p,m;a<s.length;){for(m=jl(s[a]).split("-"),c=m.length,d=jl(s[a+1]),d=d?d.split("-"):null;c>0;){if(p=Ji(m.slice(0,c).join("-")),p)return p;if(d&&d.length>=c&&fv(m,d)>=c-1)break;c--}a++}return Ln}function pv(s){return s.match("^[^/\\\\]*$")!=null}function Ji(s){var a=null,c;if(Ie[s]===void 0&&typeof an!="undefined"&&an&&an.exports&&pv(s))try{a=Ln._abbr,c=cd,c("./locale/"+s),zt(a)}catch(d){Ie[s]=null}return Ie[s]}function zt(s,a){var c;return s&&(l(a)?c=Ft(s):c=Uo(s,a),c?Ln=c:typeof console!="undefined"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),Ln._abbr}function Uo(s,a){if(a!==null){var c,d=xl;if(a.abbr=s,Ie[s]!=null)le("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=Ie[s]._config;else if(a.parentLocale!=null)if(Ie[a.parentLocale]!=null)d=Ie[a.parentLocale]._config;else if(c=Ji(a.parentLocale),c!=null)d=c._config;else return jn[a.parentLocale]||(jn[a.parentLocale]=[]),jn[a.parentLocale].push({name:s,config:a}),null;return Ie[s]=new dr(qr(d,a)),jn[s]&&jn[s].forEach(function(p){Uo(p.name,p.config)}),zt(s),Ie[s]}else return delete Ie[s],null}function _v(s,a){if(a!=null){var c,d,p=xl;Ie[s]!=null&&Ie[s].parentLocale!=null?Ie[s].set(qr(Ie[s]._config,a)):(d=Ji(s),d!=null&&(p=d._config),a=qr(p,a),d==null&&(a.abbr=s),c=new dr(a),c.parentLocale=Ie[s],Ie[s]=c),zt(s)}else Ie[s]!=null&&(Ie[s].parentLocale!=null?(Ie[s]=Ie[s].parentLocale,s===zt()&&zt(s)):Ie[s]!=null&&delete Ie[s]);return Ie[s]}function Ft(s){var a;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return Ln;if(!n(s)){if(a=Ji(s),a)return a;s=[s]}return hv(s)}function gv(){return Ur(Ie)}function Wo(s){var a,c=s._a;return c&&I(s).overflow===-2&&(a=c[xt]<0||c[xt]>11?xt:c[yt]<1||c[yt]>Gi(c[We],c[xt])?yt:c[Te]<0||c[Te]>24||c[Te]===24&&(c[dt]!==0||c[jt]!==0||c[gr]!==0)?Te:c[dt]<0||c[dt]>59?dt:c[jt]<0||c[jt]>59?jt:c[gr]<0||c[gr]>999?gr:-1,I(s)._overflowDayOfYear&&(a<We||a>yt)&&(a=yt),I(s)._overflowWeeks&&a===-1&&(a=wg),I(s)._overflowWeekday&&a===-1&&(a=Eg),I(s).overflow=a),s}var vv=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mv=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yv=/Z|[+-]\d\d(?::?\d\d)?/,zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Vo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bv=/^\/?Date\((-?\d+)/i,Sv=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,wv={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ll(s){var a,c,d=s._i,p=vv.exec(d)||mv.exec(d),m,A,z,ne,ye=zi.length,Ye=Vo.length;if(p){for(I(s).iso=!0,a=0,c=ye;a<c;a++)if(zi[a][1].exec(p[1])){A=zi[a][0],m=zi[a][2]!==!1;break}if(A==null){s._isValid=!1;return}if(p[3]){for(a=0,c=Ye;a<c;a++)if(Vo[a][1].exec(p[3])){z=(p[2]||" ")+Vo[a][0];break}if(z==null){s._isValid=!1;return}}if(!m&&z!=null){s._isValid=!1;return}if(p[4])if(yv.exec(p[4]))ne="Z";else{s._isValid=!1;return}s._f=A+(z||"")+(ne||""),Yo(s)}else s._isValid=!1}function Ev(s,a,c,d,p,m){var A=[Ov(s),Il.indexOf(a),parseInt(c,10),parseInt(d,10),parseInt(p,10)];return m&&A.push(parseInt(m,10)),A}function Ov(s){var a=parseInt(s,10);return a<=49?2e3+a:a<=999?1900+a:a}function Iv(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mv(s,a,c){if(s){var d=Tl.indexOf(s),p=new Date(a[0],a[1],a[2]).getDay();if(d!==p)return I(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function Cv(s,a,c){if(s)return wv[s];if(a)return 0;var d=parseInt(c,10),p=d%100,m=(d-p)/100;return m*60+p}function Fl(s){var a=Sv.exec(Iv(s._i)),c;if(a){if(c=Ev(a[4],a[3],a[2],a[5],a[6],a[7]),!Mv(a[1],c,s))return;s._a=c,s._tzm=Cv(a[8],a[9],a[10]),s._d=kn.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),I(s).rfc2822=!0}else s._isValid=!1}function Av(s){var a=bv.exec(s._i);if(a!==null){s._d=new Date(+a[1]);return}if(Ll(s),s._isValid===!1)delete s._isValid;else return;if(Fl(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:e.createFromInputFallback(s)}e.createFromInputFallback=L("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function Kr(s,a,c){return s!=null?s:a!=null?a:c}function Pv(s){var a=new Date(e.now());return s._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function Ko(s){var a,c,d=[],p,m,A;if(!s._d){for(p=Pv(s),s._w&&s._a[yt]==null&&s._a[xt]==null&&Rv(s),s._dayOfYear!=null&&(A=Kr(s._a[We],p[We]),(s._dayOfYear>Nn(A)||s._dayOfYear===0)&&(I(s)._overflowDayOfYear=!0),c=kn(A,0,s._dayOfYear),s._a[xt]=c.getUTCMonth(),s._a[yt]=c.getUTCDate()),a=0;a<3&&s._a[a]==null;++a)s._a[a]=d[a]=p[a];for(;a<7;a++)s._a[a]=d[a]=s._a[a]==null?a===2?1:0:s._a[a];s._a[Te]===24&&s._a[dt]===0&&s._a[jt]===0&&s._a[gr]===0&&(s._nextDay=!0,s._a[Te]=0),s._d=(s._useUTC?kn:jg).apply(null,d),m=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[Te]=24),s._w&&typeof s._w.d!="undefined"&&s._w.d!==m&&(I(s).weekdayMismatch=!0)}}function Rv(s){var a,c,d,p,m,A,z,ne,ye;a=s._w,a.GG!=null||a.W!=null||a.E!=null?(m=1,A=4,c=Kr(a.GG,s._a[We],xn(Ee(),1,4).year),d=Kr(a.W,1),p=Kr(a.E,1),(p<1||p>7)&&(ne=!0)):(m=s._locale._week.dow,A=s._locale._week.doy,ye=xn(Ee(),m,A),c=Kr(a.gg,s._a[We],ye.year),d=Kr(a.w,ye.week),a.d!=null?(p=a.d,(p<0||p>6)&&(ne=!0)):a.e!=null?(p=a.e+m,(a.e<0||a.e>6)&&(ne=!0)):p=m),d<1||d>Lt(c,m,A)?I(s)._overflowWeeks=!0:ne!=null?I(s)._overflowWeekday=!0:(z=Dl(c,d,p,m,A),s._a[We]=z.year,s._dayOfYear=z.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Yo(s){if(s._f===e.ISO_8601){Ll(s);return}if(s._f===e.RFC_2822){Fl(s);return}s._a=[],I(s).empty=!0;var a=""+s._i,c,d,p,m,A,z=a.length,ne=0,ye,Ye;for(p=In(s._f,s._locale).match(Vr)||[],Ye=p.length,c=0;c<Ye;c++)m=p[c],d=(a.match(yg(m,s))||[])[0],d&&(A=a.substr(0,a.indexOf(d)),A.length>0&&I(s).unusedInput.push(A),a=a.slice(a.indexOf(d)+d.length),ne+=d.length),Nt[m]?(d?I(s).empty=!1:I(s).unusedTokens.push(m),Sg(m,d,s)):s._strict&&!d&&I(s).unusedTokens.push(m);I(s).charsLeftOver=z-ne,a.length>0&&I(s).unusedInput.push(a),s._a[Te]<=12&&I(s).bigHour===!0&&s._a[Te]>0&&(I(s).bigHour=void 0),I(s).parsedDateParts=s._a.slice(0),I(s).meridiem=s._meridiem,s._a[Te]=Dv(s._locale,s._a[Te],s._meridiem),ye=I(s).era,ye!==null&&(s._a[We]=s._locale.erasConvertYear(ye,s._a[We])),Ko(s),Wo(s)}function Dv(s,a,c){var d;return c==null?a:s.meridiemHour!=null?s.meridiemHour(a,c):(s.isPM!=null&&(d=s.isPM(c),d&&a<12&&(a+=12),!d&&a===12&&(a=0)),a)}function Tv(s){var a,c,d,p,m,A,z=!1,ne=s._f.length;if(ne===0){I(s).invalidFormat=!0,s._d=new Date(NaN);return}for(p=0;p<ne;p++)m=0,A=!1,a=Y({},s),s._useUTC!=null&&(a._useUTC=s._useUTC),a._f=s._f[p],Yo(a),C(a)&&(A=!0),m+=I(a).charsLeftOver,m+=I(a).unusedTokens.length*10,I(a).score=m,z?m<d&&(d=m,c=a):(d==null||m<d||A)&&(d=m,c=a,A&&(z=!0));g(s,c||a)}function Nv(s){if(!s._d){var a=Me(s._i),c=a.day===void 0?a.date:a.day;s._a=v([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(d){return d&&parseInt(d,10)}),Ko(s)}}function kv(s){var a=new Q(Wo(ql(s)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function ql(s){var a=s._i,c=s._f;return s._locale=s._locale||Ft(s._l),a===null||c===void 0&&a===""?P({nullInput:!0}):(typeof a=="string"&&(s._i=a=s._locale.preparse(a)),K(a)?new Q(Wo(a)):(_(a)?s._d=a:n(c)?Tv(s):c?Yo(s):xv(s),C(s)||(s._d=null),s))}function xv(s){var a=s._i;l(a)?s._d=new Date(e.now()):_(a)?s._d=new Date(a.valueOf()):typeof a=="string"?Av(s):n(a)?(s._a=v(a.slice(0),function(c){return parseInt(c,10)}),Ko(s)):i(a)?Nv(s):f(a)?s._d=new Date(a):e.createFromInputFallback(s)}function Ul(s,a,c,d,p){var m={};return(a===!0||a===!1)&&(d=a,a=void 0),(c===!0||c===!1)&&(d=c,c=void 0),(i(s)&&u(s)||n(s)&&s.length===0)&&(s=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=p,m._l=c,m._i=s,m._f=a,m._strict=d,kv(m)}function Ee(s,a,c,d){return Ul(s,a,c,d,!1)}var jv=L("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=Ee.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:P()}),Lv=L("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=Ee.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:P()});function Wl(s,a){var c,d;if(a.length===1&&n(a[0])&&(a=a[0]),!a.length)return Ee();for(c=a[0],d=1;d<a.length;++d)(!a[d].isValid()||a[d][s](c))&&(c=a[d]);return c}function Fv(){var s=[].slice.call(arguments,0);return Wl("isBefore",s)}function qv(){var s=[].slice.call(arguments,0);return Wl("isAfter",s)}var Uv=function(){return Date.now?Date.now():+new Date},Fn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Wv(s){var a,c=!1,d,p=Fn.length;for(a in s)if(o(s,a)&&!(Re.call(Fn,a)!==-1&&(s[a]==null||!isNaN(s[a]))))return!1;for(d=0;d<p;++d)if(s[Fn[d]]){if(c)return!1;parseFloat(s[Fn[d]])!==ee(s[Fn[d]])&&(c=!0)}return!0}function Vv(){return this._isValid}function Kv(){return ft(NaN)}function Xi(s){var a=Me(s),c=a.year||0,d=a.quarter||0,p=a.month||0,m=a.week||a.isoWeek||0,A=a.day||0,z=a.hour||0,ne=a.minute||0,ye=a.second||0,Ye=a.millisecond||0;this._isValid=Wv(a),this._milliseconds=+Ye+ye*1e3+ne*6e4+z*1e3*60*60,this._days=+A+m*7,this._months=+p+d*3+c*12,this._data={},this._locale=Ft(),this._bubble()}function Zi(s){return s instanceof Xi}function Bo(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}function Yv(s,a,c){var d=Math.min(s.length,a.length),p=Math.abs(s.length-a.length),m=0,A;for(A=0;A<d;A++)(c&&s[A]!==a[A]||!c&&ee(s[A])!==ee(a[A]))&&m++;return m+p}function Vl(s,a){J(s,0,0,function(){var c=this.utcOffset(),d="+";return c<0&&(c=-c,d="-"),d+nt(~~(c/60),2)+a+nt(~~c%60,2)})}Vl("Z",":"),Vl("ZZ",""),G("Z",U),G("ZZ",U),me(["Z","ZZ"],function(s,a,c){c._useUTC=!0,c._tzm=Ho(U,s)});var Bv=/([\+\-]|\d\d)/gi;function Ho(s,a){var c=(a||"").match(s),d,p,m;return c===null?null:(d=c[c.length-1]||[],p=(d+"").match(Bv)||["-",0,0],m=+(p[1]*60)+ee(p[2]),m===0?0:p[0]==="+"?m:-m)}function Go(s,a){var c,d;return a._isUTC?(c=a.clone(),d=(K(s)||_(s)?s.valueOf():Ee(s).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+d),e.updateOffset(c,!1),c):Ee(s).local()}function $o(s){return-Math.round(s._d.getTimezoneOffset())}e.updateOffset=function(){};function Hv(s,a,c){var d=this._offset||0,p;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=Ho(U,s),s===null)return this}else Math.abs(s)<16&&!c&&(s=s*60);return!this._isUTC&&a&&(p=$o(this)),this._offset=s,this._isUTC=!0,p!=null&&this.add(p,"m"),d!==s&&(!a||this._changeInProgress?Hl(this,ft(s-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:$o(this)}function Gv(s,a){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,a),this):-this.utcOffset()}function $v(s){return this.utcOffset(0,s)}function Jv(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract($o(this),"m")),this}function zv(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=Ho(Ol,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}function Xv(s){return this.isValid()?(s=s?Ee(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}function Zv(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qv(){if(!l(this._isDSTShifted))return this._isDSTShifted;var s={},a;return Y(s,this),s=ql(s),s._a?(a=s._isUTC?M(s._a):Ee(s._a),this._isDSTShifted=this.isValid()&&Yv(s._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function em(){return this.isValid()?!this._isUTC:!1}function tm(){return this.isValid()?this._isUTC:!1}function Kl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var rm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,nm=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ft(s,a){var c=s,d=null,p,m,A;return Zi(s)?c={ms:s._milliseconds,d:s._days,M:s._months}:f(s)||!isNaN(+s)?(c={},a?c[a]=+s:c.milliseconds=+s):(d=rm.exec(s))?(p=d[1]==="-"?-1:1,c={y:0,d:ee(d[yt])*p,h:ee(d[Te])*p,m:ee(d[dt])*p,s:ee(d[jt])*p,ms:ee(Bo(d[gr]*1e3))*p}):(d=nm.exec(s))?(p=d[1]==="-"?-1:1,c={y:vr(d[2],p),M:vr(d[3],p),w:vr(d[4],p),d:vr(d[5],p),h:vr(d[6],p),m:vr(d[7],p),s:vr(d[8],p)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(A=im(Ee(c.from),Ee(c.to)),c={},c.ms=A.milliseconds,c.M=A.months),m=new Xi(c),Zi(s)&&o(s,"_locale")&&(m._locale=s._locale),Zi(s)&&o(s,"_isValid")&&(m._isValid=s._isValid),m}ft.fn=Xi.prototype,ft.invalid=Kv;function vr(s,a){var c=s&&parseFloat(s.replace(",","."));return(isNaN(c)?0:c)*a}function Yl(s,a){var c={};return c.months=a.month()-s.month()+(a.year()-s.year())*12,s.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+s.clone().add(c.months,"M"),c}function im(s,a){var c;return s.isValid()&&a.isValid()?(a=Go(a,s),s.isBefore(a)?c=Yl(s,a):(c=Yl(a,s),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Bl(s,a){return function(c,d){var p,m;return d!==null&&!isNaN(+d)&&(le(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),m=c,c=d,d=m),p=ft(c,d),Hl(this,p,s),this}}function Hl(s,a,c,d){var p=a._milliseconds,m=Bo(a._days),A=Bo(a._months);s.isValid()&&(d=d==null?!0:d,A&&Cl(s,pr(s,"Month")+A*c),m&&An(s,"Date",pr(s,"Date")+m*c),p&&s._d.setTime(s._d.valueOf()+p*c),d&&e.updateOffset(s,m||A))}var sm=Bl(1,"add"),om=Bl(-1,"subtract");function Gl(s){return typeof s=="string"||s instanceof String}function am(s){return K(s)||_(s)||Gl(s)||f(s)||cm(s)||um(s)||s===null||s===void 0}function um(s){var a=i(s)&&!u(s),c=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],p,m,A=d.length;for(p=0;p<A;p+=1)m=d[p],c=c||o(s,m);return a&&c}function cm(s){var a=n(s),c=!1;return a&&(c=s.filter(function(d){return!f(d)&&Gl(s)}).length===0),a&&c}function lm(s){var a=i(s)&&!u(s),c=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],p,m;for(p=0;p<d.length;p+=1)m=d[p],c=c||o(s,m);return a&&c}function dm(s,a){var c=s.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function fm(s,a){arguments.length===1&&(arguments[0]?am(arguments[0])?(s=arguments[0],a=void 0):lm(arguments[0])&&(a=arguments[0],s=void 0):(s=void 0,a=void 0));var c=s||Ee(),d=Go(c,this).startOf("day"),p=e.calendarFormat(this,d)||"sameElse",m=a&&(we(a[p])?a[p].call(this,c):a[p]);return this.format(m||this.localeData().calendar(p,this,Ee(c)))}function hm(){return new Q(this)}function pm(s,a){var c=K(s)?s:Ee(s);return this.isValid()&&c.isValid()?(a=oe(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function _m(s,a){var c=K(s)?s:Ee(s);return this.isValid()&&c.isValid()?(a=oe(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function gm(s,a,c,d){var p=K(s)?s:Ee(s),m=K(a)?a:Ee(a);return this.isValid()&&p.isValid()&&m.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(p,c):!this.isBefore(p,c))&&(d[1]===")"?this.isBefore(m,c):!this.isAfter(m,c))):!1}function vm(s,a){var c=K(s)?s:Ee(s),d;return this.isValid()&&c.isValid()?(a=oe(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(d=c.valueOf(),this.clone().startOf(a).valueOf()<=d&&d<=this.clone().endOf(a).valueOf())):!1}function mm(s,a){return this.isSame(s,a)||this.isAfter(s,a)}function ym(s,a){return this.isSame(s,a)||this.isBefore(s,a)}function bm(s,a,c){var d,p,m;if(!this.isValid())return NaN;if(d=Go(s,this),!d.isValid())return NaN;switch(p=(d.utcOffset()-this.utcOffset())*6e4,a=oe(a),a){case"year":m=Qi(this,d)/12;break;case"month":m=Qi(this,d);break;case"quarter":m=Qi(this,d)/3;break;case"second":m=(this-d)/1e3;break;case"minute":m=(this-d)/6e4;break;case"hour":m=(this-d)/36e5;break;case"day":m=(this-d-p)/864e5;break;case"week":m=(this-d-p)/6048e5;break;default:m=this-d}return c?m:Ke(m)}function Qi(s,a){if(s.date()<a.date())return-Qi(a,s);var c=(a.year()-s.year())*12+(a.month()-s.month()),d=s.clone().add(c,"months"),p,m;return a-d<0?(p=s.clone().add(c-1,"months"),m=(a-d)/(d-p)):(p=s.clone().add(c+1,"months"),m=(a-d)/(p-d)),-(c+m)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Sm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function wm(s){if(!this.isValid())return null;var a=s!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?Jt(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):we(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Jt(c,"Z")):Jt(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Em(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",a="",c,d,p,m;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+s+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",p="-MM-DD[T]HH:mm:ss.SSS",m=a+'[")]',this.format(c+d+p+m)}function Om(s){s||(s=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=Jt(this,s);return this.localeData().postformat(a)}function Im(s,a){return this.isValid()&&(K(s)&&s.isValid()||Ee(s).isValid())?ft({to:this,from:s}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Mm(s){return this.from(Ee(),s)}function Cm(s,a){return this.isValid()&&(K(s)&&s.isValid()||Ee(s).isValid())?ft({from:this,to:s}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Am(s){return this.to(Ee(),s)}function $l(s){var a;return s===void 0?this._locale._abbr:(a=Ft(s),a!=null&&(this._locale=a),this)}var Jl=L("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function zl(){return this._locale}var es=1e3,Yr=60*es,ts=60*Yr,Xl=(365*400+97)*24*ts;function Br(s,a){return(s%a+a)%a}function Zl(s,a,c){return s<100&&s>=0?new Date(s+400,a,c)-Xl:new Date(s,a,c).valueOf()}function Ql(s,a,c){return s<100&&s>=0?Date.UTC(s+400,a,c)-Xl:Date.UTC(s,a,c)}function Pm(s){var a,c;if(s=oe(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?Ql:Zl,s){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Br(a+(this._isUTC?0:this.utcOffset()*Yr),ts);break;case"minute":a=this._d.valueOf(),a-=Br(a,Yr);break;case"second":a=this._d.valueOf(),a-=Br(a,es);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Rm(s){var a,c;if(s=oe(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?Ql:Zl,s){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=ts-Br(a+(this._isUTC?0:this.utcOffset()*Yr),ts)-1;break;case"minute":a=this._d.valueOf(),a+=Yr-Br(a,Yr)-1;break;case"second":a=this._d.valueOf(),a+=es-Br(a,es)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Dm(){return this._d.valueOf()-(this._offset||0)*6e4}function Tm(){return Math.floor(this.valueOf()/1e3)}function Nm(){return new Date(this.valueOf())}function km(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}function xm(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}function jm(){return this.isValid()?this.toISOString():null}function Lm(){return C(this)}function Fm(){return g({},I(this))}function qm(){return I(this).overflow}function Um(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}J("N",0,0,"eraAbbr"),J("NN",0,0,"eraAbbr"),J("NNN",0,0,"eraAbbr"),J("NNNN",0,0,"eraName"),J("NNNNN",0,0,"eraNarrow"),J("y",["y",1],"yo","eraYear"),J("y",["yy",2],0,"eraYear"),J("y",["yyy",3],0,"eraYear"),J("y",["yyyy",4],0,"eraYear"),G("N",Jo),G("NN",Jo),G("NNN",Jo),G("NNNN",Xm),G("NNNNN",Zm),me(["N","NN","NNN","NNNN","NNNNN"],function(s,a,c,d){var p=c._locale.erasParse(s,d,c._strict);p?I(c).era=p:I(c).invalidEra=s}),G("y",_r),G("yy",_r),G("yyy",_r),G("yyyy",_r),G("yo",Qm),me(["y","yy","yyy","yyyy"],We),me(["yo"],function(s,a,c,d){var p;c._locale._eraYearOrdinalRegex&&(p=s.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[We]=c._locale.eraYearOrdinalParse(s,p):a[We]=parseInt(s,10)});function Wm(s,a){var c,d,p,m=this._eras||Ft("en")._eras;for(c=0,d=m.length;c<d;++c){switch(typeof m[c].since){case"string":p=e(m[c].since).startOf("day"),m[c].since=p.valueOf();break}switch(typeof m[c].until){case"undefined":m[c].until=1/0;break;case"string":p=e(m[c].until).startOf("day").valueOf(),m[c].until=p.valueOf();break}}return m}function Vm(s,a,c){var d,p,m=this.eras(),A,z,ne;for(s=s.toUpperCase(),d=0,p=m.length;d<p;++d)if(A=m[d].name.toUpperCase(),z=m[d].abbr.toUpperCase(),ne=m[d].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(z===s)return m[d];break;case"NNNN":if(A===s)return m[d];break;case"NNNNN":if(ne===s)return m[d];break}else if([A,z,ne].indexOf(s)>=0)return m[d]}function Km(s,a){var c=s.since<=s.until?1:-1;return a===void 0?e(s.since).year():e(s.since).year()+(a-s.offset)*c}function Ym(){var s,a,c,d=this.localeData().eras();for(s=0,a=d.length;s<a;++s)if(c=this.clone().startOf("day").valueOf(),d[s].since<=c&&c<=d[s].until||d[s].until<=c&&c<=d[s].since)return d[s].name;return""}function Bm(){var s,a,c,d=this.localeData().eras();for(s=0,a=d.length;s<a;++s)if(c=this.clone().startOf("day").valueOf(),d[s].since<=c&&c<=d[s].until||d[s].until<=c&&c<=d[s].since)return d[s].narrow;return""}function Hm(){var s,a,c,d=this.localeData().eras();for(s=0,a=d.length;s<a;++s)if(c=this.clone().startOf("day").valueOf(),d[s].since<=c&&c<=d[s].until||d[s].until<=c&&c<=d[s].since)return d[s].abbr;return""}function Gm(){var s,a,c,d,p=this.localeData().eras();for(s=0,a=p.length;s<a;++s)if(c=p[s].since<=p[s].until?1:-1,d=this.clone().startOf("day").valueOf(),p[s].since<=d&&d<=p[s].until||p[s].until<=d&&d<=p[s].since)return(this.year()-e(p[s].since).year())*c+p[s].offset;return this.year()}function $m(s){return o(this,"_erasNameRegex")||zo.call(this),s?this._erasNameRegex:this._erasRegex}function Jm(s){return o(this,"_erasAbbrRegex")||zo.call(this),s?this._erasAbbrRegex:this._erasRegex}function zm(s){return o(this,"_erasNarrowRegex")||zo.call(this),s?this._erasNarrowRegex:this._erasRegex}function Jo(s,a){return a.erasAbbrRegex(s)}function Xm(s,a){return a.erasNameRegex(s)}function Zm(s,a){return a.erasNarrowRegex(s)}function Qm(s,a){return a._eraYearOrdinalRegex||_r}function zo(){var s=[],a=[],c=[],d=[],p,m,A=this.eras();for(p=0,m=A.length;p<m;++p)a.push(it(A[p].name)),s.push(it(A[p].abbr)),c.push(it(A[p].narrow)),d.push(it(A[p].name)),d.push(it(A[p].abbr)),d.push(it(A[p].narrow));this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}J(0,["gg",2],0,function(){return this.weekYear()%100}),J(0,["GG",2],0,function(){return this.isoWeekYear()%100});function rs(s,a){J(0,[s,s.length],0,a)}rs("gggg","weekYear"),rs("ggggg","weekYear"),rs("GGGG","isoWeekYear"),rs("GGGGG","isoWeekYear"),re("weekYear","gg"),re("isoWeekYear","GG"),de("weekYear",1),de("isoWeekYear",1),G("G",Rn),G("g",Rn),G("GG",O,R),G("gg",O,R),G("GGGG",xe,w),G("gggg",xe,w),G("GGGGG",lt,b),G("ggggg",lt,b),Tn(["gggg","ggggg","GGGG","GGGGG"],function(s,a,c,d){a[d.substr(0,2)]=ee(s)}),Tn(["gg","GG"],function(s,a,c,d){a[d]=e.parseTwoDigitYear(s)});function ey(s){return ed.call(this,s,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function ty(s){return ed.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}function ry(){return Lt(this.year(),1,4)}function ny(){return Lt(this.isoWeekYear(),1,4)}function iy(){var s=this.localeData()._week;return Lt(this.year(),s.dow,s.doy)}function sy(){var s=this.localeData()._week;return Lt(this.weekYear(),s.dow,s.doy)}function ed(s,a,c,d,p){var m;return s==null?xn(this,d,p).year:(m=Lt(s,d,p),a>m&&(a=m),oy.call(this,s,a,c,d,p))}function oy(s,a,c,d,p){var m=Dl(s,a,c,d,p),A=kn(m.year,0,m.dayOfYear);return this.year(A.getUTCFullYear()),this.month(A.getUTCMonth()),this.date(A.getUTCDate()),this}J("Q",0,"Qo","quarter"),re("quarter","Q"),de("quarter",7),G("Q",Pn),me("Q",function(s,a){a[xt]=(ee(s)-1)*3});function ay(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}J("D",["DD",2],"Do","date"),re("date","D"),de("date",9),G("D",O),G("DD",O,R),G("Do",function(s,a){return s?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),me(["D","DD"],yt),me("Do",function(s,a){a[yt]=ee(s.match(O)[0])});var td=kt("Date",!0);J("DDD",["DDDD",3],"DDDo","dayOfYear"),re("dayOfYear","DDD"),de("dayOfYear",4),G("DDD",he),G("DDDD",q),me(["DDD","DDDD"],function(s,a,c){c._dayOfYear=ee(s)});function uy(s){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?a:this.add(s-a,"d")}J("m",["mm",2],0,"minute"),re("minute","m"),de("minute",14),G("m",O),G("mm",O,R),me(["m","mm"],dt);var cy=kt("Minutes",!1);J("s",["ss",2],0,"second"),re("second","s"),de("second",15),G("s",O),G("ss",O,R),me(["s","ss"],jt);var ly=kt("Seconds",!1);J("S",0,0,function(){return~~(this.millisecond()/100)}),J(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,function(){return this.millisecond()*10}),J(0,["SSSSS",5],0,function(){return this.millisecond()*100}),J(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),J(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),J(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),J(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),re("millisecond","ms"),de("millisecond",16),G("S",he,Pn),G("SS",he,R),G("SSS",he,q);var Xt,rd;for(Xt="SSSS";Xt.length<=9;Xt+="S")G(Xt,_r);function dy(s,a){a[gr]=ee(("0."+s)*1e3)}for(Xt="S";Xt.length<=9;Xt+="S")me(Xt,dy);rd=kt("Milliseconds",!1),J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");function fy(){return this._isUTC?"UTC":""}function hy(){return this._isUTC?"Coordinated Universal Time":""}var j=Q.prototype;j.add=sm,j.calendar=fm,j.clone=hm,j.diff=bm,j.endOf=Rm,j.format=Om,j.from=Im,j.fromNow=Mm,j.to=Cm,j.toNow=Am,j.get=Yi,j.invalidAt=qm,j.isAfter=pm,j.isBefore=_m,j.isBetween=gm,j.isSame=vm,j.isSameOrAfter=mm,j.isSameOrBefore=ym,j.isValid=Lm,j.lang=Jl,j.locale=$l,j.localeData=zl,j.max=Lv,j.min=jv,j.parsingFlags=Fm,j.set=Bi,j.startOf=Pm,j.subtract=om,j.toArray=km,j.toObject=xm,j.toDate=Nm,j.toISOString=wm,j.inspect=Em,typeof Symbol!="undefined"&&Symbol.for!=null&&(j[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),j.toJSON=jm,j.toString=Sm,j.unix=Tm,j.valueOf=Dm,j.creationData=Um,j.eraName=Ym,j.eraNarrow=Bm,j.eraAbbr=Hm,j.eraYear=Gm,j.year=Rl,j.isLeapYear=xg,j.weekYear=ey,j.isoWeekYear=ty,j.quarter=j.quarters=ay,j.month=Al,j.daysInMonth=Tg,j.week=j.weeks=Wg,j.isoWeek=j.isoWeeks=Vg,j.weeksInYear=iy,j.weeksInWeekYear=sy,j.isoWeeksInYear=ry,j.isoWeeksInISOWeekYear=ny,j.date=td,j.day=j.days=tv,j.weekday=rv,j.isoWeekday=nv,j.dayOfYear=uy,j.hour=j.hours=lv,j.minute=j.minutes=cy,j.second=j.seconds=ly,j.millisecond=j.milliseconds=rd,j.utcOffset=Hv,j.utc=$v,j.local=Jv,j.parseZone=zv,j.hasAlignedHourOffset=Xv,j.isDST=Zv,j.isLocal=em,j.isUtcOffset=tm,j.isUtc=Kl,j.isUTC=Kl,j.zoneAbbr=fy,j.zoneName=hy,j.dates=L("dates accessor is deprecated. Use date instead.",td),j.months=L("months accessor is deprecated. Use month instead",Al),j.years=L("years accessor is deprecated. Use year instead",Rl),j.zone=L("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Gv),j.isDSTShifted=L("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Qv);function py(s){return Ee(s*1e3)}function _y(){return Ee.apply(null,arguments).parseZone()}function nd(s){return s}var pe=dr.prototype;pe.calendar=Wr,pe.longDateFormat=Ki,pe.invalidDate=y,pe.ordinal=B,pe.preparse=nd,pe.postformat=nd,pe.relativeTime=De,pe.pastFuture=fe,pe.set=Tt,pe.eras=Wm,pe.erasParse=Vm,pe.erasConvertYear=Km,pe.erasAbbrRegex=Jm,pe.erasNameRegex=$m,pe.erasNarrowRegex=zm,pe.months=Ag,pe.monthsShort=Pg,pe.monthsParse=Dg,pe.monthsRegex=kg,pe.monthsShortRegex=Ng,pe.week=Lg,pe.firstDayOfYear=Ug,pe.firstDayOfWeek=qg,pe.weekdays=zg,pe.weekdaysMin=Zg,pe.weekdaysShort=Xg,pe.weekdaysParse=ev,pe.weekdaysRegex=iv,pe.weekdaysShortRegex=sv,pe.weekdaysMinRegex=ov,pe.isPM=uv,pe.meridiem=dv;function ns(s,a,c,d){var p=Ft(),m=M().set(d,a);return p[c](m,s)}function id(s,a,c){if(f(s)&&(a=s,s=void 0),s=s||"",a!=null)return ns(s,a,c,"month");var d,p=[];for(d=0;d<12;d++)p[d]=ns(s,d,c,"month");return p}function Xo(s,a,c,d){typeof s=="boolean"?(f(a)&&(c=a,a=void 0),a=a||""):(a=s,c=a,s=!1,f(a)&&(c=a,a=void 0),a=a||"");var p=Ft(),m=s?p._week.dow:0,A,z=[];if(c!=null)return ns(a,(c+m)%7,d,"day");for(A=0;A<7;A++)z[A]=ns(a,(A+m)%7,d,"day");return z}function gy(s,a){return id(s,a,"months")}function vy(s,a){return id(s,a,"monthsShort")}function my(s,a,c){return Xo(s,a,c,"weekdays")}function yy(s,a,c){return Xo(s,a,c,"weekdaysShort")}function by(s,a,c){return Xo(s,a,c,"weekdaysMin")}zt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(s){var a=s%10,c=ee(s%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return s+c}}),e.lang=L("moment.lang is deprecated. Use moment.locale instead.",zt),e.langData=L("moment.langData is deprecated. Use moment.localeData instead.",Ft);var qt=Math.abs;function Sy(){var s=this._data;return this._milliseconds=qt(this._milliseconds),this._days=qt(this._days),this._months=qt(this._months),s.milliseconds=qt(s.milliseconds),s.seconds=qt(s.seconds),s.minutes=qt(s.minutes),s.hours=qt(s.hours),s.months=qt(s.months),s.years=qt(s.years),this}function sd(s,a,c,d){var p=ft(a,c);return s._milliseconds+=d*p._milliseconds,s._days+=d*p._days,s._months+=d*p._months,s._bubble()}function wy(s,a){return sd(this,s,a,1)}function Ey(s,a){return sd(this,s,a,-1)}function od(s){return s<0?Math.floor(s):Math.ceil(s)}function Oy(){var s=this._milliseconds,a=this._days,c=this._months,d=this._data,p,m,A,z,ne;return s>=0&&a>=0&&c>=0||s<=0&&a<=0&&c<=0||(s+=od(Zo(c)+a)*864e5,a=0,c=0),d.milliseconds=s%1e3,p=Ke(s/1e3),d.seconds=p%60,m=Ke(p/60),d.minutes=m%60,A=Ke(m/60),d.hours=A%24,a+=Ke(A/24),ne=Ke(ad(a)),c+=ne,a-=od(Zo(ne)),z=Ke(c/12),c%=12,d.days=a,d.months=c,d.years=z,this}function ad(s){return s*4800/146097}function Zo(s){return s*146097/4800}function Iy(s){if(!this.isValid())return NaN;var a,c,d=this._milliseconds;if(s=oe(s),s==="month"||s==="quarter"||s==="year")switch(a=this._days+d/864e5,c=this._months+ad(a),s){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Zo(this._months)),s){case"week":return a/7+d/6048e5;case"day":return a+d/864e5;case"hour":return a*24+d/36e5;case"minute":return a*1440+d/6e4;case"second":return a*86400+d/1e3;case"millisecond":return Math.floor(a*864e5)+d;default:throw new Error("Unknown unit "+s)}}function My(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ee(this._months/12)*31536e6:NaN}function Ut(s){return function(){return this.as(s)}}var Cy=Ut("ms"),Ay=Ut("s"),Py=Ut("m"),Ry=Ut("h"),Dy=Ut("d"),Ty=Ut("w"),Ny=Ut("M"),ky=Ut("Q"),xy=Ut("y");function jy(){return ft(this)}function Ly(s){return s=oe(s),this.isValid()?this[s+"s"]():NaN}function mr(s){return function(){return this.isValid()?this._data[s]:NaN}}var Fy=mr("milliseconds"),qy=mr("seconds"),Uy=mr("minutes"),Wy=mr("hours"),Vy=mr("days"),Ky=mr("months"),Yy=mr("years");function By(){return Ke(this.days()/7)}var Wt=Math.round,Hr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Hy(s,a,c,d,p){return p.relativeTime(a||1,!!c,s,d)}function Gy(s,a,c,d){var p=ft(s).abs(),m=Wt(p.as("s")),A=Wt(p.as("m")),z=Wt(p.as("h")),ne=Wt(p.as("d")),ye=Wt(p.as("M")),Ye=Wt(p.as("w")),Vt=Wt(p.as("y")),Zt=m<=c.ss&&["s",m]||m<c.s&&["ss",m]||A<=1&&["m"]||A<c.m&&["mm",A]||z<=1&&["h"]||z<c.h&&["hh",z]||ne<=1&&["d"]||ne<c.d&&["dd",ne];return c.w!=null&&(Zt=Zt||Ye<=1&&["w"]||Ye<c.w&&["ww",Ye]),Zt=Zt||ye<=1&&["M"]||ye<c.M&&["MM",ye]||Vt<=1&&["y"]||["yy",Vt],Zt[2]=a,Zt[3]=+s>0,Zt[4]=d,Hy.apply(null,Zt)}function $y(s){return s===void 0?Wt:typeof s=="function"?(Wt=s,!0):!1}function Jy(s,a){return Hr[s]===void 0?!1:a===void 0?Hr[s]:(Hr[s]=a,s==="s"&&(Hr.ss=a-1),!0)}function zy(s,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=Hr,p,m;return typeof s=="object"&&(a=s,s=!1),typeof s=="boolean"&&(c=s),typeof a=="object"&&(d=Object.assign({},Hr,a),a.s!=null&&a.ss==null&&(d.ss=a.s-1)),p=this.localeData(),m=Gy(this,!c,d,p),c&&(m=p.pastFuture(+this,m)),p.postformat(m)}var Qo=Math.abs;function Gr(s){return(s>0)-(s<0)||+s}function is(){if(!this.isValid())return this.localeData().invalidDate();var s=Qo(this._milliseconds)/1e3,a=Qo(this._days),c=Qo(this._months),d,p,m,A,z=this.asSeconds(),ne,ye,Ye,Vt;return z?(d=Ke(s/60),p=Ke(d/60),s%=60,d%=60,m=Ke(c/12),c%=12,A=s?s.toFixed(3).replace(/\.?0+$/,""):"",ne=z<0?"-":"",ye=Gr(this._months)!==Gr(z)?"-":"",Ye=Gr(this._days)!==Gr(z)?"-":"",Vt=Gr(this._milliseconds)!==Gr(z)?"-":"",ne+"P"+(m?ye+m+"Y":"")+(c?ye+c+"M":"")+(a?Ye+a+"D":"")+(p||d||s?"T":"")+(p?Vt+p+"H":"")+(d?Vt+d+"M":"")+(s?Vt+A+"S":"")):"P0D"}var ce=Xi.prototype;ce.isValid=Vv,ce.abs=Sy,ce.add=wy,ce.subtract=Ey,ce.as=Iy,ce.asMilliseconds=Cy,ce.asSeconds=Ay,ce.asMinutes=Py,ce.asHours=Ry,ce.asDays=Dy,ce.asWeeks=Ty,ce.asMonths=Ny,ce.asQuarters=ky,ce.asYears=xy,ce.valueOf=My,ce._bubble=Oy,ce.clone=jy,ce.get=Ly,ce.milliseconds=Fy,ce.seconds=qy,ce.minutes=Uy,ce.hours=Wy,ce.days=Vy,ce.weeks=By,ce.months=Ky,ce.years=Yy,ce.humanize=zy,ce.toISOString=is,ce.toString=is,ce.toJSON=is,ce.locale=$l,ce.localeData=zl,ce.toIsoString=L("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",is),ce.lang=Jl,J("X",0,0,"unix"),J("x",0,0,"valueOf"),G("x",Rn),G("X",mg),me("X",function(s,a,c){c._d=new Date(parseFloat(s)*1e3)}),me("x",function(s,a,c){c._d=new Date(ee(s))});return e.version="2.29.4",t(Ee),e.fn=j,e.min=Fv,e.max=qv,e.now=Uv,e.utc=M,e.unix=py,e.months=gy,e.isDate=_,e.locale=zt,e.invalid=P,e.duration=ft,e.isMoment=K,e.weekdays=my,e.parseZone=_y,e.localeData=Ft,e.isDuration=Zi,e.monthsShort=vy,e.weekdaysMin=by,e.defineLocale=Uo,e.updateLocale=_v,e.locales=gv,e.weekdaysShort=yy,e.normalizeUnits=oe,e.relativeTimeRounding=$y,e.relativeTimeThreshold=Jy,e.calendarFormat=dm,e.prototype=j,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var lp=S(Rr=>{"use strict";h();var sM=Rr&&Rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.Time=void 0;var Qu=sM(cp()),oM;(function(r){function e(n){Qu.default.locale(document.documentElement.lang);let i=Qu.default(n).fromNow();return i=i==="a few seconds ago"?"seconds ago":i,i}r.formatHuman=e;function t(n,i="YYYY-MM-DD HH:mm"){return Qu.default(n).format(i)}r.format=t})(oM=Rr.Time||(Rr.Time={}))});var tt=S(et=>{"use strict";h();var aM=et&&et.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ir=et&&et.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&aM(e,r,t)};Object.defineProperty(et,"__esModule",{value:!0});ir(jh(),et);ir(Fh(),et);ir(qh(),et);ir(op(),et);ir(ap(),et);ir(up(),et);ir(lp(),et);ir(Xu(),et)});var dp=S(Dr=>{"use strict";h();Object.defineProperty(Dr,"__esModule",{value:!0});Dr.ConfigWithDefaults=Dr.ConfigSection=void 0;var uM=tt(),bi=Ot(),cM="api/config",lM;(function(r){function e(t){let n=new ec(t);return n.load().then(()=>n)}r.create=e})(lM=Dr.ConfigSection||(Dr.ConfigSection={}));var ec=class{constructor(e){var t;this._url="unknown";let n=this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:bi.ServerConnection.makeSettings();this._url=uM.URLExt.join(n.baseUrl,cM,encodeURIComponent(e.name))}get data(){return this._data}async load(){let e=await bi.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(e.status!==200)throw await bi.ServerConnection.ResponseError.create(e);this._data=await e.json()}async update(e){this._data=Object.assign(Object.assign({},this._data),e);let t={method:"PATCH",body:JSON.stringify(e)},n=await bi.ServerConnection.makeRequest(this._url,t,this.serverSettings);if(n.status!==200)throw await bi.ServerConnection.ResponseError.create(n);return this._data=await n.json(),this._data}},tc=class{constructor(e){var t,n;this._className="",this._section=e.section,this._defaults=(t=e.defaults)!==null&&t!==void 0?t:{},this._className=(n=e.className)!==null&&n!==void 0?n:""}get(e){let t=this._classData();return e in t?t[e]:this._defaults[e]}set(e,t){let n={};if(n[e]=t,this._className){let i={};return i[this._className]=n,this._section.update(i)}else return this._section.update(n)}_classData(){let e=this._section.data;return this._className&&this._className in e?e[this._className]:e}};Dr.ConfigWithDefaults=tc});var Si=S(js=>{"use strict";h();Object.defineProperty(js,"__esModule",{value:!0});js.validateProperty=void 0;function dM(r,e,t,n=[]){if(!r.hasOwnProperty(e))throw Error(`Missing property '${e}'`);let i=r[e];if(t!==void 0){let o=!0;switch(t){case"array":o=Array.isArray(i);break;case"object":o=typeof i!="undefined";break;default:o=typeof i===t}if(!o)throw new Error(`Property '${e}' is not of type '${t}'`);if(n.length>0){let u=!0;switch(t){case"string":case"number":case"boolean":u=n.includes(i);break;default:u=n.findIndex(l=>l===i)>=0;break}if(!u)throw new Error(`Property '${e}' is not one of the valid values ${JSON.stringify(n)}`)}}}js.validateProperty=dM});var fp=S(un=>{"use strict";h();Object.defineProperty(un,"__esModule",{value:!0});un.validateCheckpointModel=un.validateContentsModel=void 0;var It=Si();function fM(r){It.validateProperty(r,"name","string"),It.validateProperty(r,"path","string"),It.validateProperty(r,"type","string"),It.validateProperty(r,"created","string"),It.validateProperty(r,"last_modified","string"),It.validateProperty(r,"mimetype","object"),It.validateProperty(r,"content","object"),It.validateProperty(r,"format","object")}un.validateContentsModel=fM;function hM(r){It.validateProperty(r,"id","string"),It.validateProperty(r,"last_modified","string")}un.validateCheckpointModel=hM});var ic=S(Ge=>{"use strict";h();var pM=Ge&&Ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_M=Ge&&Ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gM=Ge&&Ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&pM(e,r,t);return _M(e,r),e};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.Drive=Ge.ContentsManager=Ge.Contents=void 0;var st=tt(),vM=Cr(),Ls=je(),Ae=Ot(),Yt=gM(fp()),mM="api/contents",yM="files",bM;(function(r){function e(n){Yt.validateContentsModel(n)}r.validateContentsModel=e;function t(n){Yt.validateCheckpointModel(n)}r.validateCheckpointModel=t})(bM=Ge.Contents||(Ge.Contents={}));var rc=class{constructor(e={}){var t,n;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new Ls.Signal(this);let i=this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:Ae.ServerConnection.makeSettings();this._defaultDrive=(n=e.defaultDrive)!==null&&n!==void 0?n:new Fs({serverSettings:i}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Ls.Signal.clearData(this))}addDrive(e){this._additionalDrives.set(e.name,e),e.fileChanged.connect(this._onFileChanged,this)}getModelDBFactory(e){var t;let[n]=this._driveForPath(e);return(t=n==null?void 0:n.modelDBFactory)!==null&&t!==void 0?t:null}localPath(e){let t=e.split("/"),n=t[0].split(":");return n.length===1||!this._additionalDrives.has(n[0])?st.PathExt.removeSlash(e):st.PathExt.join(n.slice(1).join(":"),...t.slice(1))}normalize(e){let t=e.split(":");return t.length===1?st.PathExt.normalize(e):`${t[0]}:${st.PathExt.normalize(t.slice(1).join(":"))}`}resolvePath(e,t){let n=this.driveName(e),i=this.localPath(e),o=st.PathExt.resolve("/",i,t);return n?`${n}:${o}`:o}driveName(e){let n=e.split("/")[0].split(":");return n.length===1?"":this._additionalDrives.has(n[0])?n[0]:""}get(e,t){let[n,i]=this._driveForPath(e);return n.get(i,t).then(o=>{let u=[];return o.type==="directory"&&o.content?(vM.each(o.content,l=>{u.push(Object.assign(Object.assign({},l),{path:this._toGlobalPath(n,l.path)}))}),Object.assign(Object.assign({},o),{path:this._toGlobalPath(n,i),content:u})):Object.assign(Object.assign({},o),{path:this._toGlobalPath(n,i)})})}getDownloadUrl(e){let[t,n]=this._driveForPath(e);return t.getDownloadUrl(n)}newUntitled(e={}){if(e.path){let t=this.normalize(e.path),[n,i]=this._driveForPath(t);return n.newUntitled(Object.assign(Object.assign({},e),{path:i})).then(o=>Object.assign(Object.assign({},o),{path:st.PathExt.join(t,o.name)}))}else return this._defaultDrive.newUntitled(e)}delete(e){let[t,n]=this._driveForPath(e);return t.delete(n)}rename(e,t){let[n,i]=this._driveForPath(e),[o,u]=this._driveForPath(t);if(n!==o)throw Error("ContentsManager: renaming files must occur within a Drive");return n.rename(i,u).then(l=>Object.assign(Object.assign({},l),{path:this._toGlobalPath(n,u)}))}save(e,t={}){let n=this.normalize(e),[i,o]=this._driveForPath(e);return i.save(o,Object.assign(Object.assign({},t),{path:o})).then(u=>Object.assign(Object.assign({},u),{path:n}))}copy(e,t){let[n,i]=this._driveForPath(e),[o,u]=this._driveForPath(t);if(n===o)return n.copy(i,u).then(l=>Object.assign(Object.assign({},l),{path:this._toGlobalPath(n,l.path)}));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(e){let[t,n]=this._driveForPath(e);return t.createCheckpoint(n)}listCheckpoints(e){let[t,n]=this._driveForPath(e);return t.listCheckpoints(n)}restoreCheckpoint(e,t){let[n,i]=this._driveForPath(e);return n.restoreCheckpoint(i,t)}deleteCheckpoint(e,t){let[n,i]=this._driveForPath(e);return n.deleteCheckpoint(i,t)}_toGlobalPath(e,t){return e===this._defaultDrive?st.PathExt.removeSlash(t):`${e.name}:${st.PathExt.removeSlash(t)}`}_driveForPath(e){let t=this.driveName(e),n=this.localPath(e);return t?[this._additionalDrives.get(t),n]:[this._defaultDrive,n]}_onFileChanged(e,t){var n,i;if(e===this._defaultDrive)this._fileChanged.emit(t);else{let o=null,u=null;!((n=t.newValue)===null||n===void 0)&&n.path&&(o=Object.assign(Object.assign({},t.newValue),{path:this._toGlobalPath(e,t.newValue.path)})),!((i=t.oldValue)===null||i===void 0)&&i.path&&(u=Object.assign(Object.assign({},t.oldValue),{path:this._toGlobalPath(e,t.oldValue.path)})),this._fileChanged.emit({type:t.type,newValue:o,oldValue:u})}}};Ge.ContentsManager=rc;var Fs=class{constructor(e={}){var t,n,i;this._isDisposed=!1,this._fileChanged=new Ls.Signal(this),this.name=(t=e.name)!==null&&t!==void 0?t:"Default",this._apiEndpoint=(n=e.apiEndpoint)!==null&&n!==void 0?n:mM,this.serverSettings=(i=e.serverSettings)!==null&&i!==void 0?i:Ae.ServerConnection.makeSettings()}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Ls.Signal.clearData(this))}async get(e,t){let n=this._getUrl(e);if(t){t.type==="notebook"&&delete t.format;let l=t.content?"1":"0",f=Object.assign(Object.assign({},t),{content:l});n+=st.URLExt.objectToQueryString(f)}let i=this.serverSettings,o=await Ae.ServerConnection.makeRequest(n,{},i);if(o.status!==200)throw await Ae.ServerConnection.ResponseError.create(o);let u=await o.json();return Yt.validateContentsModel(u),u}getDownloadUrl(e){let t=this.serverSettings.baseUrl,n=st.URLExt.join(t,yM,st.URLExt.encodeParts(e)),i=document.cookie.match("\\b_xsrf=([^;]*)\\b");if(i){let o=new URL(n);o.searchParams.append("_xsrf",i[1]),n=o.toString()}return Promise.resolve(n)}async newUntitled(e={}){var t;let n="{}";e&&(e.ext&&(e.ext=nc.normalizeExtension(e.ext)),n=JSON.stringify(e));let i=this.serverSettings,o=this._getUrl((t=e.path)!==null&&t!==void 0?t:""),u={method:"POST",body:n},l=await Ae.ServerConnection.makeRequest(o,u,i);if(l.status!==201)throw await Ae.ServerConnection.ResponseError.create(l);let f=await l.json();return Yt.validateContentsModel(f),this._fileChanged.emit({type:"new",oldValue:null,newValue:f}),f}async delete(e){let t=this._getUrl(e),n=this.serverSettings,i={method:"DELETE"},o=await Ae.ServerConnection.makeRequest(t,i,n);if(o.status!==204)throw await Ae.ServerConnection.ResponseError.create(o);this._fileChanged.emit({type:"delete",oldValue:{path:e},newValue:null})}async rename(e,t){let n=this.serverSettings,i=this._getUrl(e),o={method:"PATCH",body:JSON.stringify({path:t})},u=await Ae.ServerConnection.makeRequest(i,o,n);if(u.status!==200)throw await Ae.ServerConnection.ResponseError.create(u);let l=await u.json();return Yt.validateContentsModel(l),this._fileChanged.emit({type:"rename",oldValue:{path:e},newValue:l}),l}async save(e,t={}){let n=this.serverSettings,i=this._getUrl(e),o={method:"PUT",body:JSON.stringify(t)},u=await Ae.ServerConnection.makeRequest(i,o,n);if(u.status!==200&&u.status!==201)throw await Ae.ServerConnection.ResponseError.create(u);let l=await u.json();return Yt.validateContentsModel(l),this._fileChanged.emit({type:"save",oldValue:null,newValue:l}),l}async copy(e,t){let n=this.serverSettings,i=this._getUrl(t),o={method:"POST",body:JSON.stringify({copy_from:e})},u=await Ae.ServerConnection.makeRequest(i,o,n);if(u.status!==201)throw await Ae.ServerConnection.ResponseError.create(u);let l=await u.json();return Yt.validateContentsModel(l),this._fileChanged.emit({type:"new",oldValue:null,newValue:l}),l}async createCheckpoint(e){let t=this._getUrl(e,"checkpoints"),n={method:"POST"},i=await Ae.ServerConnection.makeRequest(t,n,this.serverSettings);if(i.status!==201)throw await Ae.ServerConnection.ResponseError.create(i);let o=await i.json();return Yt.validateCheckpointModel(o),o}async listCheckpoints(e){let t=this._getUrl(e,"checkpoints"),n=await Ae.ServerConnection.makeRequest(t,{},this.serverSettings);if(n.status!==200)throw await Ae.ServerConnection.ResponseError.create(n);let i=await n.json();if(!Array.isArray(i))throw new Error("Invalid Checkpoint list");for(let o=0;o<i.length;o++)Yt.validateCheckpointModel(i[o]);return i}async restoreCheckpoint(e,t){let n=this._getUrl(e,"checkpoints",t),i={method:"POST"},o=await Ae.ServerConnection.makeRequest(n,i,this.serverSettings);if(o.status!==204)throw await Ae.ServerConnection.ResponseError.create(o)}async deleteCheckpoint(e,t){let n=this._getUrl(e,"checkpoints",t),i={method:"DELETE"},o=await Ae.ServerConnection.makeRequest(n,i,this.serverSettings);if(o.status!==204)throw await Ae.ServerConnection.ResponseError.create(o)}_getUrl(...e){let t=e.map(i=>st.URLExt.encodeParts(i)),n=this.serverSettings.baseUrl;return st.URLExt.join(n,this._apiEndpoint,...t)}};Ge.Drive=Fs;var nc;(function(r){function e(t){return t.length>0&&t.indexOf(".")!==0&&(t=`.${t}`),t}r.normalizeExtension=e})(nc||(nc={}))});var pp=S(hp=>{"use strict";h();Object.defineProperty(hp,"__esModule",{value:!0})});var wi=S(ie=>{"use strict";h();Object.defineProperty(ie,"__esModule",{value:!0});ie.isInputReplyMsg=ie.isInputRequestMsg=ie.isDebugReplyMsg=ie.isDebugRequestMsg=ie.isExecuteReplyMsg=ie.isInfoRequestMsg=ie.isCommMsgMsg=ie.isCommCloseMsg=ie.isCommOpenMsg=ie.isDebugEventMsg=ie.isClearOutputMsg=ie.isStatusMsg=ie.isErrorMsg=ie.isExecuteResultMsg=ie.isExecuteInputMsg=ie.isUpdateDisplayDataMsg=ie.isDisplayDataMsg=ie.isStreamMsg=ie.createMessage=void 0;var SM=ht();function wM(r){var e,t,n,i,o;return{buffers:(e=r.buffers)!==null&&e!==void 0?e:[],channel:r.channel,content:r.content,header:{date:new Date().toISOString(),msg_id:(t=r.msgId)!==null&&t!==void 0?t:SM.UUID.uuid4(),msg_type:r.msgType,session:r.session,username:(n=r.username)!==null&&n!==void 0?n:"",version:"5.2"},metadata:(i=r.metadata)!==null&&i!==void 0?i:{},parent_header:(o=r.parentHeader)!==null&&o!==void 0?o:{}}}ie.createMessage=wM;function EM(r){return r.header.msg_type==="stream"}ie.isStreamMsg=EM;function OM(r){return r.header.msg_type==="display_data"}ie.isDisplayDataMsg=OM;function IM(r){return r.header.msg_type==="update_display_data"}ie.isUpdateDisplayDataMsg=IM;function MM(r){return r.header.msg_type==="execute_input"}ie.isExecuteInputMsg=MM;function CM(r){return r.header.msg_type==="execute_result"}ie.isExecuteResultMsg=CM;function AM(r){return r.header.msg_type==="error"}ie.isErrorMsg=AM;function PM(r){return r.header.msg_type==="status"}ie.isStatusMsg=PM;function RM(r){return r.header.msg_type==="clear_output"}ie.isClearOutputMsg=RM;function DM(r){return r.header.msg_type==="debug_event"}ie.isDebugEventMsg=DM;function TM(r){return r.header.msg_type==="comm_open"}ie.isCommOpenMsg=TM;function NM(r){return r.header.msg_type==="comm_close"}ie.isCommCloseMsg=NM;function kM(r){return r.header.msg_type==="comm_msg"}ie.isCommMsgMsg=kM;function xM(r){return r.header.msg_type==="kernel_info_request"}ie.isInfoRequestMsg=xM;function jM(r){return r.header.msg_type==="execute_reply"}ie.isExecuteReplyMsg=jM;function LM(r){return r.header.msg_type==="debug_request"}ie.isDebugRequestMsg=LM;function FM(r){return r.header.msg_type==="debug_reply"}ie.isDebugReplyMsg=FM;function qM(r){return r.header.msg_type==="input_request"}ie.isInputRequestMsg=qM;function UM(r){return r.header.msg_type==="input_reply"}ie.isInputReplyMsg=UM});var _p=S(()=>{h()});var gp=S(sc=>{"use strict";h();Object.defineProperty(sc,"__esModule",{value:!0});sc.default=WebSocket});var ot=S(sr=>{"use strict";h();var oc,ac,uc;Object.defineProperty(sr,"__esModule",{value:!0});sr.ServerConnection=void 0;var Tr=tt(),cc,lc,dc,fc;if(typeof window=="undefined"){let r=_p();cc=(oc=sr.fetch)!==null&&oc!==void 0?oc:r,dc=(ac=sr.Request)!==null&&ac!==void 0?ac:r.Request,lc=(uc=sr.Headers)!==null&&uc!==void 0?uc:r.Headers,fc=gp()}else cc=fetch,dc=Request,lc=Headers,fc=WebSocket;var vp;(function(r){function e(o){return qs.makeSettings(o)}r.makeSettings=e;function t(o,u,l){return qs.handleRequest(o,u,l)}r.makeRequest=t;class n extends Error{constructor(u,l=`Invalid response: ${u.status} ${u.statusText}`,f=""){super(l),this.response=u,this.traceback=f}static async create(u){try{let l=await u.json();return l.traceback&&console.error(l.traceback),l.message?new n(u,l.message):new n(u)}catch(l){return console.debug(l),new n(u)}}}r.ResponseError=n;class i extends TypeError{constructor(u){super(u.message),this.stack=u.stack}}r.NetworkError=i})(vp=sr.ServerConnection||(sr.ServerConnection={}));var qs;(function(r){function e(i={}){let o=Tr.PageConfig.getBaseUrl(),u=Tr.PageConfig.getWsUrl(),l=Tr.URLExt.normalize(i.baseUrl)||o,f=i.wsUrl;return!f&&l===o&&(f=u),!f&&l.indexOf("http")===0&&(f="ws"+l.slice(4)),f=f!=null?f:u,Object.assign(Object.assign({init:{cache:"no-store",credentials:"same-origin"},fetch:cc,Headers:lc,Request:dc,WebSocket:fc,token:Tr.PageConfig.getToken(),appUrl:Tr.PageConfig.getOption("appUrl"),appendToken:typeof window=="undefined"||process.env.JEST_WORKER_ID!==void 0||Tr.URLExt.getHostName(o)!==Tr.URLExt.getHostName(f)},i),{baseUrl:l,wsUrl:f})}r.makeSettings=e;function t(i,o,u){var l;if(i.indexOf(u.baseUrl)!==0)throw new Error("Can only be used for notebook server requests");((l=o.cache)!==null&&l!==void 0?l:u.init.cache)==="no-store"&&(i+=(/\?/.test(i)?"&":"?")+new Date().getTime());let _=new u.Request(i,Object.assign(Object.assign({},u.init),o)),v=!1;if(u.token&&(v=!0,_.headers.append("Authorization",`token ${u.token}`)),typeof document!="undefined"&&(document!=null&&document.cookie)){let g=n("_xsrf");g!==void 0&&(v=!0,_.headers.append("X-XSRFToken",g))}return!_.headers.has("Content-Type")&&v&&_.headers.set("Content-Type","application/json"),u.fetch.call(null,_).catch(g=>{throw new vp.NetworkError(g)})}r.handleRequest=t;function n(i){let o=document.cookie.match("\\b"+i+"=([^;]*)\\b");return o==null?void 0:o[1]}})(qs||(qs={}))});var Us=S(or=>{"use strict";h();Object.defineProperty(or,"__esModule",{value:!0});or.validateModels=or.validateModel=or.validateMessage=void 0;var Nr=Si(),mp=["username","version","session","msg_id","msg_type"],WM={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function VM(r){for(let e=0;e<mp.length;e++)Nr.validateProperty(r,mp[e],"string")}function KM(r){Nr.validateProperty(r,"metadata","object"),Nr.validateProperty(r,"content","object"),Nr.validateProperty(r,"channel","string"),VM(r.header),r.channel==="iopub"&&YM(r)}or.validateMessage=KM;function YM(r){if(r.channel==="iopub"){let e=WM[r.header.msg_type];if(e===void 0)return;let t=Object.keys(e),n=r.content;for(let i=0;i<t.length;i++){let o=e[t[i]];Array.isArray(o)||(o=[o]),Nr.validateProperty(n,t[i],...o)}}}function yp(r){Nr.validateProperty(r,"name","string"),Nr.validateProperty(r,"id","string")}or.validateModel=yp;function BM(r){if(!Array.isArray(r))throw new Error("Invalid kernel list");r.forEach(e=>yp(e))}or.validateModels=BM});var Vs=S(Pe=>{"use strict";h();Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getKernelModel=Pe.shutdownKernel=Pe.interruptKernel=Pe.restartKernel=Pe.startNew=Pe.listRunning=Pe.KERNEL_SERVICE_URL=void 0;var ke=ot(),cn=tt(),Ws=Us();Pe.KERNEL_SERVICE_URL="api/kernels";async function HM(r=ke.ServerConnection.makeSettings()){let e=cn.URLExt.join(r.baseUrl,Pe.KERNEL_SERVICE_URL),t=await ke.ServerConnection.makeRequest(e,{},r);if(t.status!==200)throw await ke.ServerConnection.ResponseError.create(t);let n=await t.json();return Ws.validateModels(n),n}Pe.listRunning=HM;async function GM(r={},e=ke.ServerConnection.makeSettings()){let t=cn.URLExt.join(e.baseUrl,Pe.KERNEL_SERVICE_URL),n={method:"POST",body:JSON.stringify(r)},i=await ke.ServerConnection.makeRequest(t,n,e);if(i.status!==201)throw await ke.ServerConnection.ResponseError.create(i);let o=await i.json();return Ws.validateModel(o),o}Pe.startNew=GM;async function $M(r,e=ke.ServerConnection.makeSettings()){let t=cn.URLExt.join(e.baseUrl,Pe.KERNEL_SERVICE_URL,encodeURIComponent(r),"restart"),n={method:"POST"},i=await ke.ServerConnection.makeRequest(t,n,e);if(i.status!==200)throw await ke.ServerConnection.ResponseError.create(i);let o=await i.json();Ws.validateModel(o)}Pe.restartKernel=$M;async function JM(r,e=ke.ServerConnection.makeSettings()){let t=cn.URLExt.join(e.baseUrl,Pe.KERNEL_SERVICE_URL,encodeURIComponent(r),"interrupt"),n={method:"POST"},i=await ke.ServerConnection.makeRequest(t,n,e);if(i.status!==204)throw await ke.ServerConnection.ResponseError.create(i)}Pe.interruptKernel=JM;async function zM(r,e=ke.ServerConnection.makeSettings()){let t=cn.URLExt.join(e.baseUrl,Pe.KERNEL_SERVICE_URL,encodeURIComponent(r)),n={method:"DELETE"},i=await ke.ServerConnection.makeRequest(t,n,e);if(i.status===404){let o=`The kernel "${r}" does not exist on the server`;console.warn(o)}else if(i.status!==204)throw await ke.ServerConnection.ResponseError.create(i)}Pe.shutdownKernel=zM;async function XM(r,e=ke.ServerConnection.makeSettings()){let t=cn.URLExt.join(e.baseUrl,Pe.KERNEL_SERVICE_URL,encodeURIComponent(r)),n=await ke.ServerConnection.makeRequest(t,{},e);if(n.status===404)return;if(n.status!==200)throw await ke.ServerConnection.ResponseError.create(n);let i=await n.json();return Ws.validateModel(i),i}Pe.getKernelModel=XM});var Ei=S((Ks,bp)=>{h();(function(r,e){typeof Ks=="object"&&typeof bp!="undefined"?e(Ks,ht(),je()):typeof define=="function"&&define.amd?define(["exports","@lumino/coreutils","@lumino/signaling"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.lumino_polling={},r.lumino_coreutils,r.lumino_signaling))})(Ks,function(r,e,t){"use strict";var n=function(I,x){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,P){C.__proto__=P}||function(C,P){for(var k in P)Object.prototype.hasOwnProperty.call(P,k)&&(C[k]=P[k])},n(I,x)};function i(I,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");n(I,x);function C(){this.constructor=I}I.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)}var o=function(){return o=Object.assign||function(x){for(var C,P=1,k=arguments.length;P<k;P++){C=arguments[P];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(x[T]=C[T])}return x},o.apply(this,arguments)};function u(I,x,C,P){function k(T){return T instanceof C?T:new C(function(Y){Y(T)})}return new(C||(C=Promise))(function(T,Y){function Q(L){try{N(P.next(L))}catch(Z){Y(Z)}}function K(L){try{N(P.throw(L))}catch(Z){Y(Z)}}function N(L){L.done?T(L.value):k(L.value).then(Q,K)}N((P=P.apply(I,x||[])).next())})}function l(I,x){var C={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},P,k,T,Y;return Y={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Q(N){return function(L){return K([N,L])}}function K(N){if(P)throw new TypeError("Generator is already executing.");for(;C;)try{if(P=1,k&&(T=N[0]&2?k.return:N[0]?k.throw||((T=k.return)&&T.call(k),0):k.next)&&!(T=T.call(k,N[1])).done)return T;switch(k=0,T&&(N=[N[0]&2,T.value]),N[0]){case 0:case 1:T=N;break;case 4:return C.label++,{value:N[1],done:!1};case 5:C.label++,k=N[1],N=[0];continue;case 7:N=C.ops.pop(),C.trys.pop();continue;default:if(T=C.trys,!(T=T.length>0&&T[T.length-1])&&(N[0]===6||N[0]===2)){C=0;continue}if(N[0]===3&&(!T||N[1]>T[0]&&N[1]<T[3])){C.label=N[1];break}if(N[0]===6&&C.label<T[1]){C.label=T[1],T=N;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(N);break}T[2]&&C.ops.pop(),C.trys.pop();continue}N=x.call(I,C)}catch(L){N=[6,L],k=0}finally{P=T=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}}var f=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate,_=typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearImmediate;r.Poll=function(){function I(x){var C=this;this._disposed=new t.Signal(this),this._tick=new e.PromiseDelegate,this._ticked=new t.Signal(this),this._timeout=-1,this._factory=x.factory,this._standby=x.standby||v.DEFAULT_STANDBY,this._state=o(o({},v.DEFAULT_STATE),{timestamp:new Date().getTime()});var P=x.frequency||{},k=Math.max(P.interval||0,P.max||0,v.DEFAULT_FREQUENCY.max);this.frequency=o(o(o({},v.DEFAULT_FREQUENCY),P),{max:k}),this.name=x.name||v.DEFAULT_NAME,(!("auto"in x)||x.auto)&&f(function(){return void C.start()})}return Object.defineProperty(I.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"frequency",{get:function(){return this._frequency},set:function(x){if(!(this.isDisposed||e.JSONExt.deepEqual(x,this.frequency||{}))){var C=x.backoff,P=x.interval,k=x.max;if(P=Math.round(P),k=Math.round(k),typeof C=="number"&&C<1)throw new Error("Poll backoff growth factor must be at least 1");if((P<0||P>k)&&P!==I.NEVER)throw new Error("Poll interval must be between 0 and max");if(k>I.MAX_INTERVAL&&k!==I.NEVER)throw new Error("Max interval must be less than "+I.MAX_INTERVAL);this._frequency={backoff:C,interval:P,max:k}}},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isDisposed",{get:function(){return this.state.phase==="disposed"},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"standby",{get:function(){return this._standby},set:function(x){this.isDisposed||this.standby===x||(this._standby=x)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"tick",{get:function(){return this._tick.promise},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"ticked",{get:function(){return this._ticked},enumerable:!0,configurable:!0}),I.prototype.dispose=function(){this.isDisposed||(this._state=o(o({},v.DISPOSED_STATE),{timestamp:new Date().getTime()}),this._tick.promise.catch(function(x){}),this._tick.reject(new Error("Poll ("+this.name+") is disposed.")),this._disposed.emit(void 0),t.Signal.clearData(this))},I.prototype.refresh=function(){return this.schedule({cancel:function(x){var C=x.phase;return C==="refreshed"},interval:I.IMMEDIATE,phase:"refreshed"})},I.prototype.schedule=function(x){return x===void 0&&(x={}),u(this,void 0,void 0,function(){var C,P,k,T,Y,Q=this;return l(this,function(K){switch(K.label){case 0:return this.isDisposed?[2]:x.cancel&&x.cancel(this.state)?[2]:(C=this.state,P=this._tick,k=new e.PromiseDelegate,T=o({interval:this.frequency.interval,payload:null,phase:"standby",timestamp:new Date().getTime()},x),this._state=T,this._tick=k,C.interval===I.IMMEDIATE?_(this._timeout):clearTimeout(this._timeout),this._ticked.emit(this.state),P.resolve(this),[4,P.promise]);case 1:return K.sent(),Y=function(){Q.isDisposed||Q.tick!==k.promise||Q._execute()},this._timeout=T.interval===I.IMMEDIATE?f(Y):T.interval===I.NEVER?-1:setTimeout(Y,T.interval),[2]}})})},I.prototype.start=function(){return this.schedule({cancel:function(x){var C=x.phase;return C!=="constructed"&&C!=="standby"&&C!=="stopped"},interval:I.IMMEDIATE,phase:"started"})},I.prototype.stop=function(){return this.schedule({cancel:function(x){var C=x.phase;return C==="stopped"},interval:I.NEVER,phase:"stopped"})},I.prototype._execute=function(){var x=this,C=typeof this.standby=="function"?this.standby():this.standby;if(C=C==="never"?!1:C==="when-hidden"?!!(typeof document!="undefined"&&document&&document.hidden):C,C){this.schedule();return}var P=this.tick;this._factory(this.state).then(function(k){x.isDisposed||x.tick!==P||x.schedule({payload:k,phase:x.state.phase==="rejected"?"reconnected":"resolved"})}).catch(function(k){x.isDisposed||x.tick!==P||x.schedule({interval:v.sleep(x.frequency,x.state),payload:k,phase:"rejected"})})},I}(),function(I){I.IMMEDIATE=0,I.MAX_INTERVAL=2147483647,I.NEVER=1/0}(r.Poll||(r.Poll={}));var v;(function(I){I.DEFAULT_BACKOFF=3,I.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:30*1e3},I.DEFAULT_NAME="unknown",I.DEFAULT_STANDBY="when-hidden",I.DEFAULT_STATE={interval:r.Poll.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},I.DISPOSED_STATE={interval:r.Poll.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()};function x(P,k){return P=Math.ceil(P),k=Math.floor(k),Math.floor(Math.random()*(k-P+1))+P}function C(P,k){var T=P.backoff,Y=P.interval,Q=P.max;if(Y===r.Poll.NEVER)return Y;var K=T===!0?I.DEFAULT_BACKOFF:T===!1?1:T,N=x(Y,k.interval*K);return Math.min(Q,N)}I.sleep=C})(v||(v={}));var g=function(){function I(x,C){var P=this;C===void 0&&(C=500),this.payload=null,this.limit=C,this.poll=new r.Poll({auto:!1,factory:function(){return u(P,void 0,void 0,function(){return l(this,function(k){switch(k.label){case 0:return[4,x()];case 1:return[2,k.sent()]}})})},frequency:{backoff:!1,interval:r.Poll.NEVER,max:r.Poll.NEVER},standby:"never"}),this.payload=new e.PromiseDelegate,this.poll.ticked.connect(function(k,T){var Y=P.payload;if(T.phase==="resolved"){P.payload=new e.PromiseDelegate,Y.resolve(T.payload);return}if(T.phase==="rejected"||T.phase==="stopped"){P.payload=new e.PromiseDelegate,Y.promise.catch(function(Q){}),Y.reject(T.payload);return}},this)}return Object.defineProperty(I.prototype,"isDisposed",{get:function(){return this.payload===null},enumerable:!0,configurable:!0}),I.prototype.dispose=function(){this.isDisposed||(this.payload=null,this.poll.dispose())},I.prototype.stop=function(){return u(this,void 0,void 0,function(){return l(this,function(x){return[2,this.poll.stop()]})})},I}(),M=function(I){i(x,I);function x(){return I!==null&&I.apply(this,arguments)||this}return x.prototype.invoke=function(){return this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise},x}(g),W=function(I){i(x,I);function x(C,P){var k=I.call(this,C,typeof P=="number"?P:P&&P.limit)||this,T="leading";return typeof P!="number"&&(P=P||{},T="edge"in P?P.edge:T),k._interval=T==="trailing"?k.limit:r.Poll.IMMEDIATE,k}return x.prototype.invoke=function(){return this.poll.state.phase!=="invoked"&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise},x}(g);r.Debouncer=M,r.RateLimiter=g,r.Throttler=W,Object.defineProperty(r,"__esModule",{value:!0})})});var Oi=S(Ys=>{"use strict";h();Object.defineProperty(Ys,"__esModule",{value:!0});Ys.BaseManager=void 0;var Sp=je(),ZM=ot(),hc=class{constructor(e){var t;this._isDisposed=!1,this._disposed=new Sp.Signal(this),this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:ZM.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._disposed.emit(void 0),Sp.Signal.clearData(this))}};Ys.BaseManager=hc});var pc=S((Bs,wp)=>{h();(function(r,e){typeof Bs=="object"&&typeof wp!="undefined"?e(Bs,Cr(),je()):typeof define=="function"&&define.amd?define(["exports","@lumino/algorithm","@lumino/signaling"],e):(r=typeof globalThis!="undefined"?globalThis:r||self,e(r.lumino_disposable={},r.lumino_algorithm,r.lumino_signaling))})(Bs,function(r,e,t){"use strict";var n=function(l,f){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,v){_.__proto__=v}||function(_,v){for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(_[g]=v[g])},n(l,f)};function i(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");n(l,f);function _(){this.constructor=l}l.prototype=f===null?Object.create(f):(_.prototype=f.prototype,new _)}var o=function(){function l(f){this._fn=f}return Object.defineProperty(l.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),l.prototype.dispose=function(){if(this._fn){var f=this._fn;this._fn=null,f()}},l}(),u=function(l){i(f,l);function f(){var _=l!==null&&l.apply(this,arguments)||this;return _._disposed=new t.Signal(_),_}return Object.defineProperty(f.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),f.prototype.dispose=function(){this.isDisposed||(l.prototype.dispose.call(this),this._disposed.emit(void 0),t.Signal.clearData(this))},f}(o);r.DisposableSet=function(){function l(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(l.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),l.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(f){f.dispose()}),this._items.clear())},l.prototype.contains=function(f){return this._items.has(f)},l.prototype.add=function(f){this._items.add(f)},l.prototype.remove=function(f){this._items.delete(f)},l.prototype.clear=function(){this._items.clear()},l}(),function(l){function f(_){var v=new l;return e.each(_,function(g){v.add(g)}),v}l.from=f}(r.DisposableSet||(r.DisposableSet={})),r.ObservableDisposableSet=function(l){i(f,l);function f(){var _=l!==null&&l.apply(this,arguments)||this;return _._disposed=new t.Signal(_),_}return Object.defineProperty(f.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),f.prototype.dispose=function(){this.isDisposed||(l.prototype.dispose.call(this),this._disposed.emit(void 0),t.Signal.clearData(this))},f}(r.DisposableSet),function(l){function f(_){var v=new l;return e.each(_,function(g){v.add(g)}),v}l.from=f}(r.ObservableDisposableSet||(r.ObservableDisposableSet={})),r.DisposableDelegate=o,r.ObservableDisposableDelegate=u,Object.defineProperty(r,"__esModule",{value:!0})})});var Ep=S(Mt=>{"use strict";h();var QM=Mt&&Mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),eC=Mt&&Mt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tC=Mt&&Mt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&QM(e,r,t);return eC(e,r),e};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.CommHandler=void 0;var rC=pc(),Hs=tC(wi()),_c=class extends rC.DisposableDelegate{constructor(e,t,n,i){super(i),this._target="",this._id="",this._id=t,this._target=e,this._kernel=n}get commId(){return this._id}get targetName(){return this._target}get onClose(){return this._onClose}set onClose(e){this._onClose=e}get onMsg(){return this._onMsg}set onMsg(e){this._onMsg=e}open(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");let i=Hs.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,target_name:this._target,data:e!=null?e:{}},metadata:t,buffers:n});return this._kernel.sendShellMessage(i,!1,!0)}send(e,t,n=[],i=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");let o=Hs.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e},metadata:t,buffers:n});return this._kernel.sendShellMessage(o,!1,i)}close(e,t,n=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");let i=Hs.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e!=null?e:{}},metadata:t,buffers:n}),o=this._kernel.sendShellMessage(i,!1,!0),u=this._onClose;if(u){let l=Hs.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,content:{comm_id:this._id,data:e!=null?e:{}},metadata:t,buffers:n});u(l)}return this.dispose(),o}};Mt.CommHandler=_c});var Ip=S(rt=>{"use strict";h();var nC=rt&&rt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iC=rt&&rt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sC=rt&&rt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&nC(e,r,t);return iC(e,r),e};Object.defineProperty(rt,"__esModule",{value:!0});rt.KernelShellFutureHandler=rt.KernelControlFutureHandler=rt.KernelFutureHandler=void 0;var Op=ht(),oC=pc(),aC=sC(wi()),Ii=class extends oC.DisposableDelegate{constructor(e,t,n,i,o){super(e),this._status=0,this._stdin=Le.noOp,this._iopub=Le.noOp,this._reply=Le.noOp,this._done=new Op.PromiseDelegate,this._hooks=new Le.HookList,this._disposeOnDone=!0,this._msg=t,n||this._setFlag(Le.KernelFutureFlag.GotReply),this._disposeOnDone=i,this._kernel=o}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(e){this._reply=e}get onIOPub(){return this._iopub}set onIOPub(e){this._iopub=e}get onStdin(){return this._stdin}set onStdin(e){this._stdin=e}registerMessageHook(e){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(e)}removeMessageHook(e){this.isDisposed||this._hooks.remove(e)}sendInputReply(e){this._kernel.sendInputReply(e)}dispose(){this._stdin=Le.noOp,this._iopub=Le.noOp,this._reply=Le.noOp,this._hooks=null,this._testFlag(Le.KernelFutureFlag.IsDone)||(this._done.promise.catch(()=>{}),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(e){switch(e.channel){case"control":case"shell":e.channel===this.msg.channel&&e.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(e);break;case"stdin":await this._handleStdin(e);break;case"iopub":await this._handleIOPub(e);break;default:break}}async _handleReply(e){let t=this._reply;t&&await t(e),this._replyMsg=e,this._setFlag(Le.KernelFutureFlag.GotReply),this._testFlag(Le.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(e){let t=this._stdin;t&&await t(e)}async _handleIOPub(e){let t=await this._hooks.process(e),n=this._iopub;t&&n&&await n(e),aC.isStatusMsg(e)&&e.content.execution_state==="idle"&&(this._setFlag(Le.KernelFutureFlag.GotIdle),this._testFlag(Le.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(Le.KernelFutureFlag.IsDone)||(this._setFlag(Le.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(e){return(this._status&e)!==0}_setFlag(e){this._status|=e}};rt.KernelFutureHandler=Ii;var gc=class extends Ii{};rt.KernelControlFutureHandler=gc;var vc=class extends Ii{};rt.KernelShellFutureHandler=vc;var Le;(function(r){r.noOp=()=>{};let e=(()=>typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate)();class t{constructor(){this._hooks=[]}add(o){this.remove(o),this._hooks.push(o)}remove(o){let u=this._hooks.indexOf(o);u>=0&&(this._hooks[u]=null,this._scheduleCompact())}async process(o){await this._processing;let u=new Op.PromiseDelegate;this._processing=u.promise;let l;for(let f=this._hooks.length-1;f>=0;f--){let _=this._hooks[f];if(_!==null){try{l=await _(o)}catch(v){l=!0,console.error(v)}if(l===!1)return u.resolve(void 0),!1}}return u.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,e(()=>{this._processing=this._processing.then(()=>{this._compactScheduled=!1,this._compact()})}))}_compact(){let o=0;for(let u=0,l=this._hooks.length;u<l;u++){let f=this._hooks[u];this._hooks[u]===null?o++:this._hooks[u-o]=f}this._hooks.length-=o}}r.HookList=t;let n;(function(i){i[i.GotReply=1]="GotReply",i[i.GotIdle=2]="GotIdle",i[i.IsDone=4]="IsDone",i[i.DisposeOnDone=8]="DisposeOnDone"})(n=r.KernelFutureFlag||(r.KernelFutureFlag={}))})(Le||(Le={}))});var Mp=S(ln=>{"use strict";h();Object.defineProperty(ln,"__esModule",{value:!0});ln.serialize=ln.deserialize=void 0;function uC(r){let e;return typeof r=="string"?e=JSON.parse(r):e=lC(r),e}ln.deserialize=uC;function cC(r){var e;let t;return!((e=r.buffers)===null||e===void 0)&&e.length?t=dC(r):t=JSON.stringify(r),t}ln.serialize=cC;function lC(r){let e=new DataView(r),t=e.getUint32(0),n=[];if(t<2)throw new Error("Invalid incoming Kernel Message");for(let u=1;u<=t;u++)n.push(e.getUint32(u*4));let i=new Uint8Array(r.slice(n[0],n[1])),o=JSON.parse(new TextDecoder("utf8").decode(i));o.buffers=[];for(let u=1;u<t;u++){let l=n[u],f=n[u+1]||r.byteLength;o.buffers.push(new DataView(r.slice(l,f)))}return o}function dC(r){let e=[],t=[],n=new TextEncoder,i=[];r.buffers!==void 0&&(i=r.buffers,delete r.buffers);let o=n.encode(JSON.stringify(r));t.push(o.buffer);for(let _=0;_<i.length;_++){let v=i[_];t.push(ArrayBuffer.isView(v)?v.buffer:v)}let u=t.length;e.push(4*(u+1));for(let _=0;_+1<t.length;_++)e.push(e[e.length-1]+t[_].byteLength);let l=new Uint8Array(e[e.length-1]+t[t.length-1].byteLength),f=new DataView(l.buffer);f.setUint32(0,u);for(let _=0;_<e.length;_++)f.setUint32(4*(_+1),e[_]);for(let _=0;_<t.length;_++)l.set(new Uint8Array(t[_]),e[_]);return l.buffer}});var Ap=S(Cp=>{"use strict";h();Object.defineProperty(Cp,"__esModule",{value:!0})});var Rp=S(dn=>{"use strict";h();Object.defineProperty(dn,"__esModule",{value:!0});dn.validateSpecModels=dn.validateSpecModel=void 0;var kr=Si();function Pp(r){let e=r.spec;if(!e)throw new Error("Invalid kernel spec");kr.validateProperty(r,"name","string"),kr.validateProperty(r,"resources","object"),kr.validateProperty(e,"language","string"),kr.validateProperty(e,"display_name","string"),kr.validateProperty(e,"argv","array");let t=null;e.hasOwnProperty("metadata")&&(kr.validateProperty(e,"metadata","object"),t=e.metadata);let n=null;return e.hasOwnProperty("env")&&(kr.validateProperty(e,"env","object"),n=e.env),{name:r.name,resources:r.resources,language:e.language,display_name:e.display_name,argv:e.argv,metadata:t,env:n}}dn.validateSpecModel=Pp;function fC(r){if(!r.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let e=Object.keys(r.kernelspecs),t=Object.create(null),n=r.default;for(let i=0;i<e.length;i++){let o=r.kernelspecs[e[i]];try{t[e[i]]=Pp(o)}catch(u){console.warn(`Removing errant kernel spec: ${e[i]}`)}}if(e=Object.keys(t),!e.length)throw new Error("No valid kernelspecs found");return(!n||typeof n!="string"||!(n in t))&&(n=e[0],console.warn(`Default kernel not found, using '${e[0]}'`)),{default:n,kernelspecs:t}}dn.validateSpecModels=fC});var yc=S(Gs=>{"use strict";h();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.getSpecs=void 0;var mc=ot(),hC=Rp(),pC=tt(),_C="api/kernelspecs";async function gC(r=mc.ServerConnection.makeSettings()){let e=pC.URLExt.join(r.baseUrl,_C),t=await mc.ServerConnection.makeRequest(e,{},r);if(t.status!==200)throw await mc.ServerConnection.ResponseError.create(t);let n=await t.json();return hC.validateSpecModels(n)}Gs.getSpecs=gC});var Tp=S(Ct=>{"use strict";h();var vC=Ct&&Ct.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mC=Ct&&Ct.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yC=Ct&&Ct.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&vC(e,r,t);return mC(e,r),e};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.KernelSpecManager=void 0;var bC=ht(),SC=Ei(),Dp=je(),wC=yC(yc()),EC=Oi(),bc=class extends EC.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._connectionFailure=new Dp.Signal(this),this._specs=null,this._specsChanged=new Dp.Signal(this),this._ready=Promise.all([this.requestSpecs()]).then(n=>{}).catch(n=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollSpecs=new SC.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelSpecManager#specs",standby:(t=e.standby)!==null&&t!==void 0?t:"when-hidden"}),this.ready.then(()=>{this._pollSpecs.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){let e=await wC.getSpecs(this.serverSettings);this.isDisposed||bC.JSONExt.deepEqual(e,this._specs)||(this._specs=e,this._specsChanged.emit(e))}};Ct.KernelSpecManager=bc});var $s=S($e=>{"use strict";h();var Np=$e&&$e.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),OC=$e&&$e.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kp=$e&&$e.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Np(e,r,t);return OC(e,r),e},IC=$e&&$e.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Np(e,r,t)};Object.defineProperty($e,"__esModule",{value:!0});$e.KernelSpecAPI=$e.KernelSpec=void 0;var MC=kp(Ap());$e.KernelSpec=MC;var CC=kp(yc());$e.KernelSpecAPI=CC;IC(Tp(),$e)});var Ec=S(At=>{"use strict";h();var AC=At&&At.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PC=At&&At.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zs=At&&At.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&AC(e,r,t);return PC(e,r),e};Object.defineProperty(At,"__esModule",{value:!0});At.KernelConnection=void 0;var xp=tt(),ar=ht(),xr=je(),RC=Ot(),jp=Ep(),at=zs(wi()),Lp=Ip(),Sc=zs(Mp()),DC=zs(Us()),TC=$s(),Js=zs(Vs()),NC=3e3,fn="_RESTARTING_",kC="",wc=class r{constructor(e){var t,n,i,o;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");let u=this.serverSettings,l=xp.URLExt.join(u.wsUrl,Js.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),f=l.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1"),_=xp.URLExt.join(l,"channels?session_id="+encodeURIComponent(this._clientId)),v=u.token;u.appendToken&&v!==""&&(_=_+`&token=${encodeURIComponent(v)}`),this._ws=new u.WebSocket(_),this._ws.binaryType="arraybuffer",this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSOpen=u=>{this._updateConnectionStatus("connected")},this._onWSMessage=u=>{let l;try{l=Sc.deserialize(u.data),DC.validateMessage(l)}catch(f){throw f.message=`Kernel message validation error: ${f.message}`,f}this._kernelSession=l.header.session,this._msgChain=this._msgChain.then(()=>this._handleMessage(l)).catch(f=>{f.message.startsWith("Canceled future for ")&&console.error(f)}),this._anyMessage.emit({msg:l,direction:"recv"})},this._onWSClose=u=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new ar.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new xr.Signal(this),this._connectionStatusChanged=new xr.Signal(this),this._disposed=new xr.Signal(this),this._iopubMessage=new xr.Signal(this),this._anyMessage=new xr.Signal(this),this._unhandledMessage=new xr.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._noOp=()=>{},this._name=e.model.name,this._id=e.model.id,this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:RC.ServerConnection.makeSettings(),this._clientId=(n=e.clientId)!==null&&n!==void 0?n:ar.UUID.uuid4(),this._username=(i=e.username)!==null&&i!==void 0?i:"",this.handleComms=(o=e.handleComms)!==null&&o!==void 0?o:!0,this._createSocket()}get disposed(){return this._disposed}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return{id:this.id,name:this.name}}get anyMessage(){return this._anyMessage}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise?this._specPromise:(this._specPromise=TC.KernelSpecAPI.getSpecs(this.serverSettings).then(e=>e.kernelspecs[this._name]),this._specPromise)}clone(e={}){return new r(Object.assign({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1},e))}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),xr.Signal.clearData(this))}sendShellMessage(e,t=!1,n=!0){return this._sendKernelShellControl(Lp.KernelShellFutureHandler,e,t,n)}sendControlMessage(e,t=!1,n=!0){return this._sendKernelShellControl(Lp.KernelControlFutureHandler,e,t,n)}_sendKernelShellControl(e,t,n=!1,i=!0){this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"});let o=new e(()=>{let u=t.header.msg_id;this._futures.delete(u);let l=this._msgIdToDisplayIds.get(u);l&&(l.forEach(f=>{let _=this._displayIdToParentIds.get(f);if(_){let v=_.indexOf(u);if(v===-1)return;_.length===1?this._displayIdToParentIds.delete(f):(_.splice(v,1),this._displayIdToParentIds.set(f,_))}}),this._msgIdToDisplayIds.delete(u))},t,n,i,this);return this._futures.set(t.header.msg_id,o),o}_sendMessage(e,t=!0){if(this.status==="dead")throw new Error("Kernel is dead");if((this._kernelSession===kC||this._kernelSession===fn)&&at.isInfoRequestMsg(e))if(this.connectionStatus==="connected"){this._ws.send(Sc.serialize(e));return}else throw new Error("Could not send message: status is not connected");if(t&&this._pendingMessages.length>0){this._pendingMessages.push(e);return}if(this.connectionStatus==="connected"&&this._kernelSession!==fn)this._ws.send(Sc.serialize(e));else if(t)this._pendingMessages.push(e);else throw new Error("Could not send message")}async interrupt(){if(this.status==="dead")throw new Error("Kernel is dead");return Js.interruptKernel(this.id,this.serverSettings)}async restart(){if(this.status==="dead")throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=fn,await Js.restartKernel(this.id,this.serverSettings),await this.reconnect()}reconnect(){this._errorIfDisposed();let e=new ar.PromiseDelegate,t=(n,i)=>{i==="connected"?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):i==="disconnected"&&(e.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}async shutdown(){this.status!=="dead"&&await Js.shutdownKernel(this.id,this.serverSettings),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){let e=at.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,content:{}}),t;try{t=await pt.handleShellMessage(this,e)}catch(n){if(this.isDisposed)return;throw n}if(this._errorIfDisposed(),!!t)return t.content.status===void 0&&(t.content.status="ok"),t.content.status!=="ok"?(this._info.reject("Kernel info reply errored"),t):(this._info.resolve(t.content),this._kernelSession=t.header.session,t)}requestComplete(e){let t=at.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return pt.handleShellMessage(this,t)}requestInspect(e){let t=at.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,content:e});return pt.handleShellMessage(this,t)}requestHistory(e){let t=at.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,content:e});return pt.handleShellMessage(this,t)}requestExecute(e,t=!0,n){let i={silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},o=at.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,content:Object.assign(Object.assign({},i),e),metadata:n});return this.sendShellMessage(o,!0,t)}requestDebug(e,t=!0){let n=at.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:e});return this.sendControlMessage(n,!0,t)}requestIsComplete(e){let t=at.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,content:e});return pt.handleShellMessage(this,t)}requestCommInfo(e){let t=at.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,content:e});return pt.handleShellMessage(this,t)}sendInputReply(e){let t=at.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:e});this._sendMessage(t),this._anyMessage.emit({msg:t,direction:"send"})}createComm(e,t=ar.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(t))throw new Error("Comm is already created");let n=new jp.CommHandler(e,t,this,()=>{this._unregisterComm(t)});return this._comms.set(t,n),n}hasComm(e){return this._comms.has(e)}registerCommTarget(e,t){this.handleComms&&(this._targetRegistry[e]=t)}removeCommTarget(e,t){this.handleComms&&!this.isDisposed&&this._targetRegistry[e]===t&&delete this._targetRegistry[e]}registerMessageHook(e,t){var n;let i=(n=this._futures)===null||n===void 0?void 0:n.get(e);i&&i.registerMessageHook(t)}removeMessageHook(e,t){var n;let i=(n=this._futures)===null||n===void 0?void 0:n.get(e);i&&i.removeMessageHook(t)}async _handleDisplayId(e,t){var n,i;let o=t.parent_header.msg_id,u=this._displayIdToParentIds.get(e);if(u){let f={header:ar.JSONExt.deepCopy(t.header),parent_header:ar.JSONExt.deepCopy(t.parent_header),metadata:ar.JSONExt.deepCopy(t.metadata),content:ar.JSONExt.deepCopy(t.content),channel:t.channel,buffers:t.buffers?t.buffers.slice():[]};f.header.msg_type="update_display_data",await Promise.all(u.map(async _=>{let v=this._futures&&this._futures.get(_);v&&await v.handleMsg(f)}))}if(t.header.msg_type==="update_display_data")return!0;u=(n=this._displayIdToParentIds.get(e))!==null&&n!==void 0?n:[],u.indexOf(o)===-1&&u.push(o),this._displayIdToParentIds.set(e,u);let l=(i=this._msgIdToDisplayIds.get(o))!==null&&i!==void 0?i:[];return l.indexOf(o)===-1&&l.push(o),this._msgIdToDisplayIds.set(o,l),!1}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(e){this._status===e||this._status==="dead"||(this._status=e,pt.logKernelStatus(this),this._statusChanged.emit(e),e==="dead"&&this.dispose())}_sendPending(){for(;this.connectionStatus==="connected"&&this._kernelSession!==fn&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach(e=>{e.dispose()}),this._comms.forEach(e=>{e.dispose()}),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(e){if(this._errorIfDisposed(),e.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${e.header.msg_type}`)}async _handleCommOpen(e){this._assertCurrentMessage(e);let t=e.content,n=new jp.CommHandler(t.target_name,t.comm_id,this,()=>{this._unregisterComm(t.comm_id)});this._comms.set(t.comm_id,n);try{await(await pt.loadObject(t.target_name,t.target_module,this._targetRegistry))(n,e)}catch(i){throw n.close(),console.error("Exception opening new comm"),i}}async _handleCommClose(e){this._assertCurrentMessage(e);let t=e.content,n=this._comms.get(t.comm_id);if(!n){console.error("Comm not found for comm id "+t.comm_id);return}this._unregisterComm(n.commId);let i=n.onClose;i&&await i(e),n.dispose()}async _handleCommMsg(e){this._assertCurrentMessage(e);let t=e.content,n=this._comms.get(t.comm_id);if(!n)return;let i=n.onMsg;i&&await i(e)}_unregisterComm(e){this._comms.delete(e)}_updateConnectionStatus(e){if(this._connectionStatus!==e){if(this._connectionStatus=e,e!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),this.status!=="dead")if(e==="connected"){let t=this._kernelSession===fn,n=this.requestKernelInfo(),i=!1,o=()=>{i||(i=!0,t&&this._kernelSession===fn&&(this._kernelSession=""),clearTimeout(u),this._pendingMessages.length>0&&this._sendPending())};n.then(o);let u=setTimeout(o,NC)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(e)}}async _handleMessage(e){var t,n;let i=!1;if(e.parent_header&&e.channel==="iopub"&&(at.isDisplayDataMsg(e)||at.isUpdateDisplayDataMsg(e)||at.isExecuteResultMsg(e))){let u=((t=e.content.transient)!==null&&t!==void 0?t:{}).display_id;u&&(i=await this._handleDisplayId(u,e),this._assertCurrentMessage(e))}if(!i&&e.parent_header){let o=e.parent_header,u=(n=this._futures)===null||n===void 0?void 0:n.get(o.msg_id);if(u)await u.handleMsg(e),this._assertCurrentMessage(e);else{let l=o.session===this.clientId;e.channel!=="iopub"&&l&&this._unhandledMessage.emit(e)}}if(e.channel==="iopub"){switch(e.header.msg_type){case"status":{let o=e.content.execution_state;o==="restarting"&&Promise.resolve().then(async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()}),this._updateStatus(o);break}case"comm_open":this.handleComms&&await this._handleCommOpen(e);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(e);break;case"comm_close":this.handleComms&&await this._handleCommClose(e);break;default:break}this.isDisposed||(this._assertCurrentMessage(e),this._iopubMessage.emit(e))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");let e=pt.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}};At.KernelConnection=wc;var pt;(function(r){function e(o){switch(o.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${o.status} (${o.id})`);break}}r.logKernelStatus=e;async function t(o,u){return o.sendShellMessage(u,!0).done}r.handleShellMessage=t;function n(o,u,l){return new Promise((f,_)=>{if(u){if(typeof requirejs=="undefined")throw new Error("requirejs not found");requirejs([u],v=>{if(v[o]===void 0){let g=`Object '${o}' not found in module '${u}'`;_(new Error(g))}else f(v[o])},_)}else l!=null&&l[o]?f(l[o]):_(new Error(`Object '${o}' not found in registry`))})}r.loadObject=n;function i(o,u){return o=Math.ceil(o),u=Math.floor(u),Math.floor(Math.random()*(u-o+1))+o}r.getRandomIntInclusive=i})(pt||(pt={}))});var Up=S(Zs=>{"use strict";h();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.KernelManager=void 0;var Fp=Cr(),xC=Ei(),qp=je(),jC=Ot(),LC=Oi(),Xs=Vs(),FC=Ec(),Oc=class extends LC.BaseManager{constructor(e={}){var t;super(e),this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new qp.Signal(this),this._connectionFailure=new qp.Signal(this),this._pollModels=new xC.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelManager#models",standby:(t=e.standby)!==null&&t!==void 0?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach(e=>e.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(e){var t;let{id:n}=e.model,i=(t=e.handleComms)!==null&&t!==void 0?t:!0;if(e.handleComms===void 0){for(let u of this._kernelConnections)if(u.id===n&&u.handleComms){i=!1;break}}let o=new FC.KernelConnection(Object.assign(Object.assign({handleComms:i},e),{serverSettings:this.serverSettings}));return this._onStarted(o),this._models.has(n)||this.refreshRunning().catch(()=>{}),o}running(){return Fp.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e={},t={}){let n=await Xs.startNew(e,this.serverSettings);return this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await Xs.shutdownKernel(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(e=>Xs.shutdownKernel(e,this.serverSettings))),await this.refreshRunning()}async findById(e){return this._models.has(e)?this._models.get(e):(await this.refreshRunning(),this._models.get(e))}async requestRunning(){var e,t;let n;try{n=await Xs.listRunning(this.serverSettings)}catch(i){throw(i instanceof jC.ServerConnection.NetworkError||((e=i.response)===null||e===void 0?void 0:e.status)===503||((t=i.response)===null||t===void 0?void 0:t.status)===424)&&this._connectionFailure.emit(i),i}this.isDisposed||this._models.size===n.length&&Fp.every(n,i=>{let o=this._models.get(i.id);return o?o.name===i.name:!1})||(this._models=new Map(n.map(i=>[i.id,i])),this._kernelConnections.forEach(i=>{this._models.has(i.id)||i.handleShutdown()}),this._runningChanged.emit(n))}_onStarted(e){this._kernelConnections.add(e),e.statusChanged.connect(this._onStatusChanged,this),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._kernelConnections.delete(e),this.refreshRunning().catch(()=>{})}_onStatusChanged(e,t){t==="dead"&&this.refreshRunning().catch(()=>{})}};Zs.KernelManager=Oc});var Mc=S(Fe=>{"use strict";h();var Wp=Fe&&Fe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),qC=Fe&&Fe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ic=Fe&&Fe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Wp(e,r,t);return qC(e,r),e},UC=Fe&&Fe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Wp(e,r,t)};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.KernelAPI=Fe.KernelMessage=Fe.Kernel=void 0;var WC=Ic(pp());Fe.Kernel=WC;var VC=Ic(wi());Fe.KernelMessage=VC;var KC=Ic(Vs());Fe.KernelAPI=KC;UC(Up(),Fe)});var Vp=S(Qs=>{"use strict";h();Object.defineProperty(Qs,"__esModule",{value:!0});Qs.BuildManager=void 0;var Cc=tt(),ur=ot(),YC="api/build",Ac=class{constructor(e={}){var t;this._url="",this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:ur.ServerConnection.makeSettings();let{baseUrl:n,appUrl:i}=this.serverSettings;this._url=Cc.URLExt.join(n,i,YC)}get isAvailable(){return Cc.PageConfig.getOption("buildAvailable").toLowerCase()==="true"}get shouldCheck(){return Cc.PageConfig.getOption("buildCheck").toLowerCase()==="true"}getStatus(){let{_url:e,serverSettings:t}=this;return ur.ServerConnection.makeRequest(e,{},t).then(i=>{if(i.status!==200)throw new ur.ServerConnection.ResponseError(i);return i.json()}).then(i=>{if(typeof i.status!="string")throw new Error("Invalid data");if(typeof i.message!="string")throw new Error("Invalid data");return i})}build(){let{_url:e,serverSettings:t}=this,n={method:"POST"};return ur.ServerConnection.makeRequest(e,n,t).then(o=>{if(o.status===400)throw new ur.ServerConnection.ResponseError(o,"Build aborted");if(o.status!==200){let u=`Build failed with ${o.status}, please run 'jupyter lab build' on the server for full output`;throw new ur.ServerConnection.ResponseError(o,u)}})}cancel(){let{_url:e,serverSettings:t}=this,n={method:"DELETE"};return ur.ServerConnection.makeRequest(e,n,t).then(o=>{if(o.status!==204)throw new ur.ServerConnection.ResponseError(o)})}};Qs.BuildManager=Ac});var Dc=S(eo=>{"use strict";h();Object.defineProperty(eo,"__esModule",{value:!0});eo.NbConvertManager=void 0;var BC=tt(),Pc=ot(),HC="api/nbconvert",Rc=class{constructor(e={}){var t;this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:Pc.ServerConnection.makeSettings()}async getExportFormats(){let e=this.serverSettings.baseUrl,t=BC.URLExt.join(e,HC),{serverSettings:n}=this,i=await Pc.ServerConnection.makeRequest(t,{},n);if(i.status!==200)throw await Pc.ServerConnection.ResponseError.create(i);let o=await i.json(),u={};return Object.keys(o).forEach(function(f){let _=o[f].output_mimetype;u[f]={output_mimetype:_}}),u}};eo.NbConvertManager=Rc});var Yp=S(Kp=>{"use strict";h();Object.defineProperty(Kp,"__esModule",{value:!0})});var Hp=S(cr=>{"use strict";h();Object.defineProperty(cr,"__esModule",{value:!0});cr.validateModels=cr.updateLegacySessionModel=cr.validateModel=void 0;var GC=Us(),Mi=Si();function Bp(r){Mi.validateProperty(r,"id","string"),Mi.validateProperty(r,"type","string"),Mi.validateProperty(r,"name","string"),Mi.validateProperty(r,"path","string"),Mi.validateProperty(r,"kernel","object"),GC.validateModel(r.kernel)}cr.validateModel=Bp;function $C(r){r.path===void 0&&r.notebook!==void 0&&(r.path=r.notebook.path,r.type="notebook",r.name="")}cr.updateLegacySessionModel=$C;function JC(r){if(!Array.isArray(r))throw new Error("Invalid session list");r.forEach(e=>Bp(e))}cr.validateModels=JC});var ro=S(Ne=>{"use strict";h();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.updateSession=Ne.startSession=Ne.getSessionModel=Ne.shutdownSession=Ne.getSessionUrl=Ne.listRunning=Ne.SESSION_SERVICE_URL=void 0;var Ve=ot(),Tc=tt(),lr=Hp();Ne.SESSION_SERVICE_URL="api/sessions";async function zC(r=Ve.ServerConnection.makeSettings()){let e=Tc.URLExt.join(r.baseUrl,Ne.SESSION_SERVICE_URL),t=await Ve.ServerConnection.makeRequest(e,{},r);if(t.status!==200)throw await Ve.ServerConnection.ResponseError.create(t);let n=await t.json();if(!Array.isArray(n))throw new Error("Invalid Session list");return n.forEach(i=>{lr.updateLegacySessionModel(i),lr.validateModel(i)}),n}Ne.listRunning=zC;function to(r,e){return Tc.URLExt.join(r,Ne.SESSION_SERVICE_URL,e)}Ne.getSessionUrl=to;async function XC(r,e=Ve.ServerConnection.makeSettings()){var t;let n=to(e.baseUrl,r),i={method:"DELETE"},o=await Ve.ServerConnection.makeRequest(n,i,e);if(o.status===404){let l=(t=(await o.json()).message)!==null&&t!==void 0?t:`The session "${r}"" does not exist on the server`;console.warn(l)}else{if(o.status===410)throw new Ve.ServerConnection.ResponseError(o,"The kernel was deleted but the session was not");if(o.status!==204)throw await Ve.ServerConnection.ResponseError.create(o)}}Ne.shutdownSession=XC;async function ZC(r,e=Ve.ServerConnection.makeSettings()){let t=to(e.baseUrl,r),n=await Ve.ServerConnection.makeRequest(t,{},e);if(n.status!==200)throw await Ve.ServerConnection.ResponseError.create(n);let i=await n.json();return lr.updateLegacySessionModel(i),lr.validateModel(i),i}Ne.getSessionModel=ZC;async function QC(r,e=Ve.ServerConnection.makeSettings()){let t=Tc.URLExt.join(e.baseUrl,Ne.SESSION_SERVICE_URL),n={method:"POST",body:JSON.stringify(r)},i=await Ve.ServerConnection.makeRequest(t,n,e);if(i.status!==201)throw await Ve.ServerConnection.ResponseError.create(i);let o=await i.json();return lr.updateLegacySessionModel(o),lr.validateModel(o),o}Ne.startSession=QC;async function eA(r,e=Ve.ServerConnection.makeSettings()){let t=to(e.baseUrl,r.id),n={method:"PATCH",body:JSON.stringify(r)},i=await Ve.ServerConnection.makeRequest(t,n,e);if(i.status!==200)throw await Ve.ServerConnection.ResponseError.create(i);let o=await i.json();return lr.updateLegacySessionModel(o),lr.validateModel(o),o}Ne.updateSession=eA});var $p=S(no=>{"use strict";h();Object.defineProperty(no,"__esModule",{value:!0});no.SessionConnection=void 0;var Bt=je(),tA=Ot(),Gp=ro(),rA=ht(),Nc=class{constructor(e){var t,n,i,o;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new Bt.Signal(this),this._kernelChanged=new Bt.Signal(this),this._statusChanged=new Bt.Signal(this),this._connectionStatusChanged=new Bt.Signal(this),this._iopubMessage=new Bt.Signal(this),this._unhandledMessage=new Bt.Signal(this),this._anyMessage=new Bt.Signal(this),this._propertyChanged=new Bt.Signal(this),this._id=e.model.id,this._name=e.model.name,this._path=e.model.path,this._type=e.model.type,this._username=(t=e.username)!==null&&t!==void 0?t:"",this._clientId=(n=e.clientId)!==null&&n!==void 0?n:rA.UUID.uuid4(),this._connectToKernel=e.connectToKernel,this._kernelConnectionOptions=(i=e.kernelConnectionOptions)!==null&&i!==void 0?i:{},this.serverSettings=(o=e.serverSettings)!==null&&o!==void 0?o:tA.ServerConnection.makeSettings(),this.setupKernel(e.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(e){let t=this.model;if(this._path=e.path,this._name=e.name,this._type=e.type,this._kernel===null&&e.kernel!==null||this._kernel!==null&&e.kernel===null||this._kernel!==null&&e.kernel!==null&&this._kernel.id!==e.kernel.id){this._kernel!==null&&this._kernel.dispose();let n=this._kernel||null;this.setupKernel(e.kernel);let i=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:n,newValue:i})}this._handleModelChange(t)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();let e=this._kernel;this._kernel=null;let t=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:t})}Bt.Signal.clearData(this)}}async setPath(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:e})}async setName(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:e})}async setType(e){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:e})}async changeKernel(e){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:e}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await Gp.shutdownSession(this.id,this.serverSettings),this.dispose()}setupKernel(e){if(e===null){this._kernel=null;return}let t=this._connectToKernel(Object.assign(Object.assign({},this._kernelConnectionOptions),{model:e,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings}));this._kernel=t,t.statusChanged.connect(this.onKernelStatus,this),t.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),t.unhandledMessage.connect(this.onUnhandledMessage,this),t.iopubMessage.connect(this.onIOPubMessage,this),t.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(e,t){this._statusChanged.emit(t)}onKernelConnectionStatus(e,t){this._connectionStatusChanged.emit(t)}onIOPubMessage(e,t){this._iopubMessage.emit(t)}onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}onAnyMessage(e,t){this._anyMessage.emit(t)}async _patch(e){let t=await Gp.updateSession(Object.assign(Object.assign({},e),{id:this._id}),this.serverSettings);return this.update(t),t}_handleModelChange(e){e.name!==this._name&&this._propertyChanged.emit("name"),e.type!==this._type&&this._propertyChanged.emit("type"),e.path!==this._path&&this._propertyChanged.emit("path")}};no.SessionConnection=Nc});var Xp=S(io=>{"use strict";h();Object.defineProperty(io,"__esModule",{value:!0});io.SessionManager=void 0;var Jp=Cr(),nA=Ei(),zp=je(),iA=ot(),sA=Oi(),oA=$p(),Ci=ro(),kc=class extends sA.BaseManager{constructor(e){var t;super(e),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new zp.Signal(this),this._connectionFailure=new zp.Signal(this),this._connectToKernel=n=>this._kernelManager.connectTo(n),this._kernelManager=e.kernelManager,this._pollModels=new nA.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:SessionManager#models",standby:(t=e.standby)!==null&&t!==void 0?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach(e=>e.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(e){let t=new oA.SessionConnection(Object.assign(Object.assign({},e),{connectToKernel:this._connectToKernel,serverSettings:this.serverSettings}));return this._onStarted(t),this._models.has(e.model.id)||this.refreshRunning().catch(()=>{}),t}running(){return Jp.iter([...this._models.values()])}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(e,t={}){let n=await Ci.startSession(e,this.serverSettings);return await this.refreshRunning(),this.connectTo(Object.assign(Object.assign({},t),{model:n}))}async shutdown(e){await Ci.shutdownSession(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(e=>Ci.shutdownSession(e,this.serverSettings))),await this.refreshRunning()}async stopIfNeeded(e){try{let n=(await Ci.listRunning(this.serverSettings)).filter(i=>i.path===e);if(n.length===1){let i=n[0].id;await this.shutdown(i)}}catch(t){}}async findById(e){return this._models.has(e)?this._models.get(e):(await this.refreshRunning(),this._models.get(e))}async findByPath(e){for(let t of this._models.values())if(t.path===e)return t;await this.refreshRunning();for(let t of this._models.values())if(t.path===e)return t}async requestRunning(){var e,t;let n;try{n=await Ci.listRunning(this.serverSettings)}catch(i){throw(i instanceof iA.ServerConnection.NetworkError||((e=i.response)===null||e===void 0?void 0:e.status)===503||((t=i.response)===null||t===void 0?void 0:t.status)===424)&&this._connectionFailure.emit(i),i}this.isDisposed||this._models.size===n.length&&Jp.every(n,i=>{var o,u,l,f;let _=this._models.get(i.id);return _?((o=_.kernel)===null||o===void 0?void 0:o.id)===((u=i.kernel)===null||u===void 0?void 0:u.id)&&((l=_.kernel)===null||l===void 0?void 0:l.name)===((f=i.kernel)===null||f===void 0?void 0:f.name)&&_.name===i.name&&_.path===i.path&&_.type===i.type:!1})||(this._models=new Map(n.map(i=>[i.id,i])),this._sessionConnections.forEach(i=>{this._models.has(i.id)?i.update(this._models.get(i.id)):i.dispose()}),this._runningChanged.emit(n))}_onStarted(e){this._sessionConnections.add(e),e.disposed.connect(this._onDisposed,this),e.propertyChanged.connect(this._onChanged,this),e.kernelChanged.connect(this._onChanged,this)}_onDisposed(e){this._sessionConnections.delete(e),this.refreshRunning().catch(()=>{})}_onChanged(){this.refreshRunning().catch(()=>{})}};io.SessionManager=kc});var xc=S(Je=>{"use strict";h();var Zp=Je&&Je.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aA=Je&&Je.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Qp=Je&&Je.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Zp(e,r,t);return aA(e,r),e},uA=Je&&Je.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zp(e,r,t)};Object.defineProperty(Je,"__esModule",{value:!0});Je.SessionAPI=Je.Session=void 0;var cA=Qp(Yp());Je.Session=cA;var lA=Qp(ro());Je.SessionAPI=lA;uA(Xp(),Je)});var e_=S(so=>{"use strict";h();Object.defineProperty(so,"__esModule",{value:!0});so.DataConnector=void 0;var jc=class{async list(e){throw new Error("DataConnector#list method has not been implemented.")}async remove(e){throw new Error("DataConnector#remove method has not been implemented.")}async save(e,t){throw new Error("DataConnector#save method has not been implemented.")}};so.DataConnector=jc});var r_=S(t_=>{"use strict";h();Object.defineProperty(t_,"__esModule",{value:!0})});var i_=S(ao=>{"use strict";h();Object.defineProperty(ao,"__esModule",{value:!0});ao.RestorablePool=void 0;var dA=ht(),n_=Bu(),oo=je(),Lc=class{constructor(e){this._added=new oo.Signal(this),this._current=null,this._currentChanged=new oo.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new dA.PromiseDelegate,this._updated=new oo.Signal(this),this.namespace=e.namespace}get added(){return this._added}get current(){return this._current}set current(e){this._current!==e&&e!==null&&this._objects.has(e)&&(this._current=e,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(e){var t,n;if(e.isDisposed){let i="A disposed object cannot be added.";throw console.warn(i,e),new Error(i)}if(this._objects.has(e)){let i="This object already exists in the pool.";throw console.warn(i,e),new Error(i)}if(this._objects.add(e),e.disposed.connect(this._onInstanceDisposed,this),!Pt.injectedProperty.get(e)){if(this._restore){let{connector:i}=this._restore,o=this._restore.name(e);if(o){let u=`${this.namespace}:${o}`,l=(n=(t=this._restore).args)===null||n===void 0?void 0:n.call(t,e);Pt.nameProperty.set(e,u),await i.save(u,{data:l})}}this._added.emit(e)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),oo.Signal.clearData(this))}find(e){let t=this._objects.values();for(let n of t)if(e(n))return n}forEach(e){this._objects.forEach(e)}filter(e){let t=[];return this.forEach(n=>{e(n)&&t.push(n)}),t}inject(e){return Pt.injectedProperty.set(e,!0),this.add(e)}has(e){return this._objects.has(e)}async restore(e){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;let{command:t,connector:n,registry:i,when:o}=e,u=this.namespace,l=o?[n.list(u)].concat(o):[n.list(u)];this._restore=e;let[f]=await Promise.all(l),_=await Promise.all(f.ids.map(async(v,g)=>{let M=f.values[g],W=M&&M.data;return W===void 0?n.remove(v):i.execute(t,W).catch(()=>n.remove(v))}));return this._restored.resolve(),_}async save(e){var t,n;let i=Pt.injectedProperty.get(e);if(!this._restore||!this.has(e)||i)return;let{connector:o}=this._restore,u=this._restore.name(e),l=Pt.nameProperty.get(e),f=u?`${this.namespace}:${u}`:"";if(l&&l!==f&&await o.remove(l),Pt.nameProperty.set(e,f),f){let _=(n=(t=this._restore).args)===null||n===void 0?void 0:n.call(t,e);await o.save(f,{data:_})}l!==f&&this._updated.emit(e)}_onInstanceDisposed(e){if(this._objects.delete(e),e===this._current&&(this._current=null,this._currentChanged.emit(this._current)),Pt.injectedProperty.get(e)||!this._restore)return;let{connector:t}=this._restore,n=Pt.nameProperty.get(e);n&&t.remove(n)}};ao.RestorablePool=Lc;var Pt;(function(r){r.injectedProperty=new n_.AttachedProperty({name:"injected",create:()=>!1}),r.nameProperty=new n_.AttachedProperty({name:"name",create:()=>""})})(Pt||(Pt={}))});var s_=S(hn=>{"use strict";h();Object.defineProperty(hn,"__esModule",{value:!0});hn.StateDB=void 0;var fA=je(),uo=class r{constructor(e={}){this._changed=new fA.Signal(this);let{connector:t,transform:n}=e;this._connector=t||new r.Connector,n?this._ready=n.then(i=>{let{contents:o,type:u}=i;switch(u){case"cancel":return;case"clear":return this._clear();case"merge":return this._merge(o||{});case"overwrite":return this._overwrite(o||{});default:return}}):this._ready=Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(e){return await this._ready,this._fetch(e)}async list(e){return await this._ready,this._list(e)}async remove(e){await this._ready,await this._remove(e),this._changed.emit({id:e,type:"remove"})}async save(e,t){await this._ready,await this._save(e,t),this._changed.emit({id:e,type:"save"})}async toJSON(){await this._ready;let{ids:e,values:t}=await this._list();return t.reduce((n,i,o)=>(n[e[o]]=i,n),{})}async _clear(){await Promise.all((await this._list()).ids.map(e=>this._remove(e)))}async _fetch(e){let t=await this._connector.fetch(e);if(t)return JSON.parse(t).v}async _list(e=""){let{ids:t,values:n}=await this._connector.list(e);return{ids:t,values:n.map(i=>JSON.parse(i).v)}}async _merge(e){await Promise.all(Object.keys(e).map(t=>e[t]&&this._save(t,e[t])))}async _overwrite(e){await this._clear(),await this._merge(e)}async _remove(e){return this._connector.remove(e)}async _save(e,t){return this._connector.save(e,JSON.stringify({v:t}))}};hn.StateDB=uo;(function(r){class e{constructor(){this._storage={}}async fetch(n){return this._storage[n]}async list(n=""){return Object.keys(this._storage).reduce((i,o)=>((n===""||n===o.split(":")[0])&&(i.ids.push(o),i.values.push(this._storage[o])),i),{ids:[],values:[]})}async remove(n){delete this._storage[n]}async save(n,i){this._storage[n]=i}}r.Connector=e})(uo=hn.StateDB||(hn.StateDB={}))});var o_=S(co=>{"use strict";h();Object.defineProperty(co,"__esModule",{value:!0});co.IStateDB=void 0;var hA=ht();co.IStateDB=new hA.Token("@jupyterlab/coreutils:IStateDB")});var Fc=S(_t=>{"use strict";h();var pA=_t&&_t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ai=_t&&_t.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&pA(e,r,t)};Object.defineProperty(_t,"__esModule",{value:!0});Ai(e_(),_t);Ai(r_(),_t);Ai(i_(),_t);Ai(s_(),_t);Ai(o_(),_t)});var Uc=S(fo=>{"use strict";h();Object.defineProperty(fo,"__esModule",{value:!0});fo.SettingManager=void 0;var _A=tt(),gA=Fc(),lo=ot(),vA="api/settings",qc=class extends gA.DataConnector{constructor(e={}){var t;super(),this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:lo.ServerConnection.makeSettings()}async fetch(e){if(!e)throw new Error("Plugin `id` parameter is required for settings fetch.");let{serverSettings:t}=this,{baseUrl:n,appUrl:i}=t,{makeRequest:o,ResponseError:u}=lo.ServerConnection,l=n+i,f=Pi.url(l,e),_=await o(f,{},t);if(_.status!==200)throw await u.create(_);return _.json()}async list(){var e,t;let{serverSettings:n}=this,{baseUrl:i,appUrl:o}=n,{makeRequest:u,ResponseError:l}=lo.ServerConnection,f=i+o,_=Pi.url(f,""),v=await u(_,{},n);if(v.status!==200)throw new l(v);let g=await v.json(),M=(t=(e=g==null?void 0:g.settings)===null||e===void 0?void 0:e.map(I=>(I.data={composite:{},user:{}},I)))!==null&&t!==void 0?t:[];return{ids:M.map(I=>I.id),values:M}}async save(e,t){let{serverSettings:n}=this,{baseUrl:i,appUrl:o}=n,{makeRequest:u,ResponseError:l}=lo.ServerConnection,f=i+o,_=Pi.url(f,e),v={body:JSON.stringify({raw:t}),method:"PUT"},g=await u(_,v,n);if(g.status!==204)throw new l(g)}};fo.SettingManager=qc;var Pi;(function(r){function e(t,n){return _A.URLExt.join(t,vA,n)}r.url=e})(Pi||(Pi={}))});var Di=S(ze=>{"use strict";h();Object.defineProperty(ze,"__esModule",{value:!0});ze.shutdownTerminal=ze.listRunning=ze.startNew=ze.isAvailable=ze.TERMINAL_SERVICE_URL=void 0;var ho=tt(),Ht=ot();ze.TERMINAL_SERVICE_URL="api/terminals";function a_(){return String(ho.PageConfig.getOption("terminalsAvailable")).toLowerCase()==="true"}ze.isAvailable=a_;async function mA(r=Ht.ServerConnection.makeSettings()){Ri.errorIfNotAvailable();let e=ho.URLExt.join(r.baseUrl,ze.TERMINAL_SERVICE_URL),t={method:"POST"},n=await Ht.ServerConnection.makeRequest(e,t,r);if(n.status!==200)throw await Ht.ServerConnection.ResponseError.create(n);return await n.json()}ze.startNew=mA;async function yA(r=Ht.ServerConnection.makeSettings()){Ri.errorIfNotAvailable();let e=ho.URLExt.join(r.baseUrl,ze.TERMINAL_SERVICE_URL),t=await Ht.ServerConnection.makeRequest(e,{},r);if(t.status!==200)throw await Ht.ServerConnection.ResponseError.create(t);let n=await t.json();if(!Array.isArray(n))throw new Error("Invalid terminal list");return n}ze.listRunning=yA;async function bA(r,e=Ht.ServerConnection.makeSettings()){var t;Ri.errorIfNotAvailable();let n=ho.URLExt.join(e.baseUrl,ze.TERMINAL_SERVICE_URL,r),i={method:"DELETE"},o=await Ht.ServerConnection.makeRequest(n,i,e);if(o.status===404){let l=(t=(await o.json()).message)!==null&&t!==void 0?t:`The terminal session "${r}"" does not exist on the server`;console.warn(l)}else if(o.status!==204)throw await Ht.ServerConnection.ResponseError.create(o)}ze.shutdownTerminal=bA;var Ri;(function(r){function e(){if(!a_())throw new Error("Terminals Unavailable")}r.errorIfNotAvailable=e})(Ri||(Ri={}))});var u_=S(po=>{"use strict";h();Object.defineProperty(po,"__esModule",{value:!0});po.isAvailable=void 0;var SA=Di();Object.defineProperty(po,"isAvailable",{enumerable:!0,get:function(){return SA.isAvailable}})});var d_=S(go=>{"use strict";h();Object.defineProperty(go,"__esModule",{value:!0});go.TerminalConnection=void 0;var c_=tt(),wA=ht(),_o=je(),EA=Ot(),l_=Di(),Wc=class r{constructor(e){var t;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");let n=this._name,i=this.serverSettings,o=c_.URLExt.join(i.wsUrl,"terminals","websocket",encodeURIComponent(n)),u=i.token;i.appendToken&&u!==""&&(o=o+`?token=${encodeURIComponent(u)}`),this._ws=new i.WebSocket(o),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=n=>{if(this._isDisposed)return;let i=JSON.parse(n.data);if(i[0]==="disconnect"&&this.dispose(),this._connectionStatus==="connecting"){i[0]==="setup"&&this._updateConnectionStatus("connected");return}this._messageReceived.emit({type:i[0],content:i.slice(1)})},this._onWSClose=n=>{console.warn(`Terminal websocket closed: ${n.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new _o.Signal(this),this._isDisposed=!1,this._disposed=new _o.Signal(this),this._messageReceived=new _o.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=e.model.name,this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:EA.ServerConnection.makeSettings(),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),_o.Signal.clearData(this))}send(e){this._sendMessage(e)}_sendMessage(e,t=!0){if(!(this._isDisposed||!e.content))if(this.connectionStatus==="connected"&&this._ws){let n=[e.type,...e.content];this._ws.send(JSON.stringify(n))}else if(t)this._pendingMessages.push(e);else throw new Error(`Could not send message: ${JSON.stringify(e)}`)}_sendPending(){for(;this.connectionStatus==="connected"&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();let e=new wA.PromiseDelegate,t=(n,i)=>{i==="connected"?(e.resolve(),this.connectionStatusChanged.disconnect(t,this)):i==="disconnected"&&(e.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(t,this))};return this.connectionStatusChanged.connect(t,this),this._reconnectAttempt=0,this._reconnect(),e.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");let e=Vc.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(e/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,e),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await l_.shutdownTerminal(this.name,this.serverSettings),this.dispose()}clone(){return new r(this)}_updateConnectionStatus(e){this._connectionStatus!==e&&(this._connectionStatus=e,e!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),e==="connected"&&this._sendPending(),this._connectionStatusChanged.emit(e))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}};go.TerminalConnection=Wc;var Vc;(function(r){function e(n,i){return c_.URLExt.join(n,l_.TERMINAL_SERVICE_URL,encodeURIComponent(i))}r.getTermUrl=e;function t(n,i){return n=Math.ceil(n),i=Math.floor(i),Math.floor(Math.random()*(i-n+1))+n}r.getRandomIntInclusive=t})(Vc||(Vc={}))});var h_=S(vo=>{"use strict";h();Object.defineProperty(vo,"__esModule",{value:!0});vo.TerminalManager=void 0;var OA=Cr(),IA=Ei(),f_=je(),MA=Ot(),CA=Oi(),Ti=Di(),AA=d_(),Kc=class extends CA.BaseManager{constructor(e={}){var t;if(super(e),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new f_.Signal(this),this._connectionFailure=new f_.Signal(this),!this.isAvailable()){this._ready=Promise.reject("Terminals unavailable"),this._ready.catch(n=>{});return}this._pollModels=new IA.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:TerminalManager#models",standby:(t=e.standby)!==null&&t!==void 0?t:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._names.length=0,this._terminalConnections.forEach(e=>e.dispose()),this._pollModels.dispose(),super.dispose())}isAvailable(){return Ti.isAvailable()}connectTo(e){let t=new AA.TerminalConnection(Object.assign(Object.assign({},e),{serverSettings:this.serverSettings}));return this._onStarted(t),this._names.includes(e.model.name)||this.refreshRunning().catch(()=>{}),t}running(){return OA.iter(this._models)}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(){let e=await Ti.startNew(this.serverSettings);return await this.refreshRunning(),this.connectTo({model:e})}async shutdown(e){await Ti.shutdownTerminal(e,this.serverSettings),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map(e=>Ti.shutdownTerminal(e,this.serverSettings))),await this.refreshRunning()}async requestRunning(){var e,t;let n;try{n=await Ti.listRunning(this.serverSettings)}catch(o){throw(o instanceof MA.ServerConnection.NetworkError||((e=o.response)===null||e===void 0?void 0:e.status)===503||((t=o.response)===null||t===void 0?void 0:t.status)===424)&&this._connectionFailure.emit(o),o}if(this.isDisposed)return;let i=n.map(({name:o})=>o).sort();i!==this._names&&(this._names=i,this._terminalConnections.forEach(o=>{i.includes(o.name)||o.dispose()}),this._runningChanged.emit(this._models))}_onStarted(e){this._terminalConnections.add(e),e.disposed.connect(this._onDisposed,this)}_onDisposed(e){this._terminalConnections.delete(e),this.refreshRunning().catch(()=>{})}get _models(){return this._names.map(e=>({name:e}))}};vo.TerminalManager=Kc});var Yc=S(Xe=>{"use strict";h();var p_=Xe&&Xe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PA=Xe&&Xe.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),__=Xe&&Xe.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&p_(e,r,t);return PA(e,r),e},RA=Xe&&Xe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&p_(e,r,t)};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.TerminalAPI=Xe.Terminal=void 0;var DA=__(u_());Xe.Terminal=DA;var TA=__(Di());Xe.TerminalAPI=TA;RA(h_(),Xe)});var Hc=S(mo=>{"use strict";h();Object.defineProperty(mo,"__esModule",{value:!0});mo.WorkspaceManager=void 0;var NA=tt(),kA=Fc(),Ni=ot(),xA="api/workspaces",Bc=class extends kA.DataConnector{constructor(e={}){var t;super(),this.serverSettings=(t=e.serverSettings)!==null&&t!==void 0?t:Ni.ServerConnection.makeSettings()}async fetch(e){let{serverSettings:t}=this,{baseUrl:n,appUrl:i}=t,{makeRequest:o,ResponseError:u}=Ni.ServerConnection,l=n+i,f=pn.url(l,e),_=await o(f,{},t);if(_.status!==200)throw await u.create(_);return _.json()}async list(){let{serverSettings:e}=this,{baseUrl:t,appUrl:n}=e,{makeRequest:i,ResponseError:o}=Ni.ServerConnection,u=t+n,l=pn.url(u,""),f=await i(l,{},e);if(f.status!==200)throw await o.create(f);return(await f.json()).workspaces}async remove(e){let{serverSettings:t}=this,{baseUrl:n,appUrl:i}=t,{makeRequest:o,ResponseError:u}=Ni.ServerConnection,l=n+i,f=pn.url(l,e),v=await o(f,{method:"DELETE"},t);if(v.status!==204)throw await u.create(v)}async save(e,t){let{serverSettings:n}=this,{baseUrl:i,appUrl:o}=n,{makeRequest:u,ResponseError:l}=Ni.ServerConnection,f=i+o,_=pn.url(f,e),v={body:JSON.stringify(t),method:"PUT"},g=await u(_,v,n);if(g.status!==204)throw await l.create(g)}};mo.WorkspaceManager=Bc;var pn;(function(r){function e(t,n){return NA.URLExt.join(t,xA,n)}r.url=e})(pn||(pn={}))});var v_=S(yo=>{"use strict";h();Object.defineProperty(yo,"__esModule",{value:!0});yo.ServiceManager=void 0;var g_=je(),jA=Vp(),LA=Dc(),FA=ic(),qA=$s(),UA=xc(),WA=Uc(),VA=Yc(),KA=ot(),YA=Hc(),BA=Mc(),Gc=class{constructor(e={}){var t,n;this._isDisposed=!1,this._connectionFailure=new g_.Signal(this),this._isReady=!1;let i=e.defaultDrive,o=(t=e.serverSettings)!==null&&t!==void 0?t:KA.ServerConnection.makeSettings(),u=(n=e.standby)!==null&&n!==void 0?n:"when-hidden",l={defaultDrive:i,serverSettings:o,standby:u},f=new BA.KernelManager(l);this.serverSettings=o,this.contents=new FA.ContentsManager(l),this.sessions=new UA.SessionManager(Object.assign(Object.assign({},l),{kernelManager:f})),this.settings=new WA.SettingManager(l),this.terminals=new VA.TerminalManager(l),this.builder=new jA.BuildManager(l),this.workspaces=new YA.WorkspaceManager(l),this.nbconvert=new LA.NbConvertManager(l),this.kernelspecs=new qA.KernelSpecManager(l),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);let _=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&_.push(this.terminals.ready),this._readyPromise=Promise.all(_).then(()=>{this._isReady=!0})}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,g_.Signal.clearData(this),this.contents.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(e,t){this._connectionFailure.emit(t)}};yo.ServiceManager=Gc});var Ot=S(qe=>{"use strict";h();var HA=qe&&qe.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gt=qe&&qe.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&HA(e,r,t)};Object.defineProperty(qe,"__esModule",{value:!0});gt(dp(),qe);gt(ic(),qe);gt(Mc(),qe);gt($s(),qe);gt(v_(),qe);gt(ot(),qe);gt(xc(),qe);gt(Uc(),qe);gt(Yc(),qe);gt(Hc(),qe);gt(Dc(),qe)});var W_=S((yj,Qc)=>{"use strict";h();var vn=typeof Reflect=="object"?Reflect:null,D_=vn&&typeof vn.apply=="function"?vn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},So;vn&&typeof vn.ownKeys=="function"?So=vn.ownKeys:Object.getOwnPropertySymbols?So=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:So=function(e){return Object.getOwnPropertyNames(e)};function JA(r){console&&console.warn&&console.warn(r)}var N_=Number.isNaN||function(e){return e!==e};function be(){be.init.call(this)}Qc.exports=be;Qc.exports.once=QA;be.EventEmitter=be;be.prototype._events=void 0;be.prototype._eventsCount=0;be.prototype._maxListeners=void 0;var T_=10;function wo(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(be,"defaultMaxListeners",{enumerable:!0,get:function(){return T_},set:function(r){if(typeof r!="number"||r<0||N_(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");T_=r}});be.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};be.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||N_(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function k_(r){return r._maxListeners===void 0?be.defaultMaxListeners:r._maxListeners}be.prototype.getMaxListeners=function(){return k_(this)};be.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var u;if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var l=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw l.context=u,l}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")D_(f,this,t);else for(var _=f.length,v=q_(f,_),n=0;n<_;++n)D_(v[n],this,t);return!0};function x_(r,e,t,n){var i,o,u;if(wo(t),o=r._events,o===void 0?(o=r._events=Object.create(null),r._eventsCount=0):(o.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),o=r._events),u=o[e]),u===void 0)u=o[e]=t,++r._eventsCount;else if(typeof u=="function"?u=o[e]=n?[t,u]:[u,t]:n?u.unshift(t):u.push(t),i=k_(r),i>0&&u.length>i&&!u.warned){u.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=r,l.type=e,l.count=u.length,JA(l)}return r}be.prototype.addListener=function(e,t){return x_(this,e,t,!1)};be.prototype.on=be.prototype.addListener;be.prototype.prependListener=function(e,t){return x_(this,e,t,!0)};function zA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function j_(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=zA.bind(n);return i.listener=t,n.wrapFn=i,i}be.prototype.once=function(e,t){return wo(t),this.on(e,j_(this,e,t)),this};be.prototype.prependOnceListener=function(e,t){return wo(t),this.prependListener(e,j_(this,e,t)),this};be.prototype.removeListener=function(e,t){var n,i,o,u,l;if(wo(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(o=-1,u=n.length-1;u>=0;u--)if(n[u]===t||n[u].listener===t){l=n[u].listener,o=u;break}if(o<0)return this;o===0?n.shift():XA(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||t)}return this};be.prototype.off=be.prototype.removeListener;be.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),u;for(i=0;i<o.length;++i)u=o[i],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function L_(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?ZA(i):q_(i,i.length)}be.prototype.listeners=function(e){return L_(this,e,!0)};be.prototype.rawListeners=function(e){return L_(this,e,!1)};be.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):F_.call(r,e)};be.prototype.listenerCount=F_;function F_(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}be.prototype.eventNames=function(){return this._eventsCount>0?So(this._events):[]};function q_(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function XA(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function ZA(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function QA(r,e){return new Promise(function(t,n){function i(u){r.removeListener(e,o),n(u)}function o(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}U_(r,e,o,{once:!0}),e!=="error"&&eP(r,i,{once:!0})})}function eP(r,e,t){typeof r.on=="function"&&U_(r,"error",e,t)}function U_(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(o){n.once&&r.removeEventListener(e,i),t(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var og=S((te,sg)=>{h();te=sg.exports=ue;var ve;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ve=function(){var r=Array.prototype.slice.call(arguments,0);r.unshift("SEMVER"),console.log.apply(console,r)}:ve=function(){};te.SEMVER_SPEC_VERSION="2.0.0";var xi=256,Eo=Number.MAX_SAFE_INTEGER||9007199254740991,rl=16,iP=xi-6,ji=te.re=[],Se=te.safeRe=[],D=te.src=[],ae=0,al="[a-zA-Z0-9-]",nl=[["\\s",1],["\\d",xi],[al,iP]];function Po(r){for(var e=0;e<nl.length;e++){var t=nl[e][0],n=nl[e][1];r=r.split(t+"*").join(t+"{0,"+n+"}").split(t+"+").join(t+"{1,"+n+"}")}return r}var mn=ae++;D[mn]="0|[1-9]\\d*";var yn=ae++;D[yn]="\\d+";var ul=ae++;D[ul]="\\d*[a-zA-Z-]"+al+"*";var B_=ae++;D[B_]="("+D[mn]+")\\.("+D[mn]+")\\.("+D[mn]+")";var H_=ae++;D[H_]="("+D[yn]+")\\.("+D[yn]+")\\.("+D[yn]+")";var il=ae++;D[il]="(?:"+D[mn]+"|"+D[ul]+")";var sl=ae++;D[sl]="(?:"+D[yn]+"|"+D[ul]+")";var cl=ae++;D[cl]="(?:-("+D[il]+"(?:\\."+D[il]+")*))";var ll=ae++;D[ll]="(?:-?("+D[sl]+"(?:\\."+D[sl]+")*))";var ol=ae++;D[ol]=al+"+";var Fi=ae++;D[Fi]="(?:\\+("+D[ol]+"(?:\\."+D[ol]+")*))";var dl=ae++,G_="v?"+D[B_]+D[cl]+"?"+D[Fi]+"?";D[dl]="^"+G_+"$";var fl="[v=\\s]*"+D[H_]+D[ll]+"?"+D[Fi]+"?",hl=ae++;D[hl]="^"+fl+"$";var On=ae++;D[On]="((?:<|>)?=?)";var Oo=ae++;D[Oo]=D[yn]+"|x|X|\\*";var Io=ae++;D[Io]=D[mn]+"|x|X|\\*";var jr=ae++;D[jr]="[v=\\s]*("+D[Io]+")(?:\\.("+D[Io]+")(?:\\.("+D[Io]+")(?:"+D[cl]+")?"+D[Fi]+"?)?)?";var Sn=ae++;D[Sn]="[v=\\s]*("+D[Oo]+")(?:\\.("+D[Oo]+")(?:\\.("+D[Oo]+")(?:"+D[ll]+")?"+D[Fi]+"?)?)?";var $_=ae++;D[$_]="^"+D[On]+"\\s*"+D[jr]+"$";var J_=ae++;D[J_]="^"+D[On]+"\\s*"+D[Sn]+"$";var z_=ae++;D[z_]="(?:^|[^\\d])(\\d{1,"+rl+"})(?:\\.(\\d{1,"+rl+"}))?(?:\\.(\\d{1,"+rl+"}))?(?:$|[^\\d])";var Ro=ae++;D[Ro]="(?:~>?)";var wn=ae++;D[wn]="(\\s*)"+D[Ro]+"\\s+";ji[wn]=new RegExp(D[wn],"g");Se[wn]=new RegExp(Po(D[wn]),"g");var sP="$1~",X_=ae++;D[X_]="^"+D[Ro]+D[jr]+"$";var Z_=ae++;D[Z_]="^"+D[Ro]+D[Sn]+"$";var Do=ae++;D[Do]="(?:\\^)";var En=ae++;D[En]="(\\s*)"+D[Do]+"\\s+";ji[En]=new RegExp(D[En],"g");Se[En]=new RegExp(Po(D[En]),"g");var oP="$1^",Q_=ae++;D[Q_]="^"+D[Do]+D[jr]+"$";var eg=ae++;D[eg]="^"+D[Do]+D[Sn]+"$";var pl=ae++;D[pl]="^"+D[On]+"\\s*("+fl+")$|^$";var _l=ae++;D[_l]="^"+D[On]+"\\s*("+G_+")$|^$";var Lr=ae++;D[Lr]="(\\s*)"+D[On]+"\\s*("+fl+"|"+D[jr]+")";ji[Lr]=new RegExp(D[Lr],"g");Se[Lr]=new RegExp(Po(D[Lr]),"g");var aP="$1$2$3",tg=ae++;D[tg]="^\\s*("+D[jr]+")\\s+-\\s+("+D[jr]+")\\s*$";var rg=ae++;D[rg]="^\\s*("+D[Sn]+")\\s+-\\s+("+D[Sn]+")\\s*$";var ng=ae++;D[ng]="(<|>)?=?\\s*\\*";for(Rt=0;Rt<ae;Rt++)ve(Rt,D[Rt]),ji[Rt]||(ji[Rt]=new RegExp(D[Rt]),Se[Rt]=new RegExp(Po(D[Rt])));var Rt;te.parse=Fr;function Fr(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof ue)return r;if(typeof r!="string"||r.length>xi)return null;var t=e.loose?Se[hl]:Se[dl];if(!t.test(r))return null;try{return new ue(r,e)}catch(n){return null}}te.valid=uP;function uP(r,e){var t=Fr(r,e);return t?t.version:null}te.clean=cP;function cP(r,e){var t=Fr(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null}te.SemVer=ue;function ue(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof ue){if(r.loose===e.loose)return r;r=r.version}else if(typeof r!="string")throw new TypeError("Invalid Version: "+r);if(r.length>xi)throw new TypeError("version is longer than "+xi+" characters");if(!(this instanceof ue))return new ue(r,e);ve("SemVer",r,e),this.options=e,this.loose=!!e.loose;var t=r.trim().match(e.loose?Se[hl]:Se[dl]);if(!t)throw new TypeError("Invalid Version: "+r);if(this.raw=r,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>Eo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Eo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Eo||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var i=+n;if(i>=0&&i<Eo)return i}return n}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}ue.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ue.prototype.toString=function(){return this.version};ue.prototype.compare=function(r){return ve("SemVer.compare",this.version,this.options,r),r instanceof ue||(r=new ue(r,this.options)),this.compareMain(r)||this.comparePre(r)};ue.prototype.compareMain=function(r){return r instanceof ue||(r=new ue(r,this.options)),bn(this.major,r.major)||bn(this.minor,r.minor)||bn(this.patch,r.patch)};ue.prototype.comparePre=function(r){if(r instanceof ue||(r=new ue(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;var e=0;do{var t=this.prerelease[e],n=r.prerelease[e];if(ve("prerelease compare",e,t,n),t===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(t===void 0)return-1;if(t===n)continue;return bn(t,n)}while(++e)};ue.prototype.inc=function(r,e){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)typeof this.prerelease[t]=="number"&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+r)}return this.format(),this.raw=this.version,this};te.inc=lP;function lP(r,e,t,n){typeof t=="string"&&(n=t,t=void 0);try{return new ue(r,t).inc(e,n).version}catch(i){return null}}te.diff=dP;function dP(r,e){if(gl(r,e))return null;var t=Fr(r),n=Fr(e),i="";if(t.prerelease.length||n.prerelease.length){i="pre";var o="prerelease"}for(var u in t)if((u==="major"||u==="minor"||u==="patch")&&t[u]!==n[u])return i+u;return o}te.compareIdentifiers=bn;var Y_=/^[0-9]+$/;function bn(r,e){var t=Y_.test(r),n=Y_.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1}te.rcompareIdentifiers=fP;function fP(r,e){return bn(e,r)}te.major=hP;function hP(r,e){return new ue(r,e).major}te.minor=pP;function pP(r,e){return new ue(r,e).minor}te.patch=_P;function _P(r,e){return new ue(r,e).patch}te.compare=Gt;function Gt(r,e,t){return new ue(r,t).compare(new ue(e,t))}te.compareLoose=gP;function gP(r,e){return Gt(r,e,!0)}te.rcompare=vP;function vP(r,e,t){return Gt(e,r,t)}te.sort=mP;function mP(r,e){return r.sort(function(t,n){return te.compare(t,n,e)})}te.rsort=yP;function yP(r,e){return r.sort(function(t,n){return te.rcompare(t,n,e)})}te.gt=Li;function Li(r,e,t){return Gt(r,e,t)>0}te.lt=Mo;function Mo(r,e,t){return Gt(r,e,t)<0}te.eq=gl;function gl(r,e,t){return Gt(r,e,t)===0}te.neq=ig;function ig(r,e,t){return Gt(r,e,t)!==0}te.gte=vl;function vl(r,e,t){return Gt(r,e,t)>=0}te.lte=ml;function ml(r,e,t){return Gt(r,e,t)<=0}te.cmp=Co;function Co(r,e,t,n){switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return gl(r,t,n);case"!=":return ig(r,t,n);case">":return Li(r,t,n);case">=":return vl(r,t,n);case"<":return Mo(r,t,n);case"<=":return ml(r,t,n);default:throw new TypeError("Invalid operator: "+e)}}te.Comparator=ct;function ct(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof ct){if(r.loose===!!e.loose)return r;r=r.value}if(!(this instanceof ct))return new ct(r,e);r=r.trim().split(/\s+/).join(" "),ve("comparator",r,e),this.options=e,this.loose=!!e.loose,this.parse(r),this.semver===qi?this.value="":this.value=this.operator+this.semver.version,ve("comp",this)}var qi={};ct.prototype.parse=function(r){var e=this.options.loose?Se[pl]:Se[_l],t=r.match(e);if(!t)throw new TypeError("Invalid comparator: "+r);this.operator=t[1],this.operator==="="&&(this.operator=""),t[2]?this.semver=new ue(t[2],this.options.loose):this.semver=qi};ct.prototype.toString=function(){return this.value};ct.prototype.test=function(r){return ve("Comparator.test",r,this.options.loose),this.semver===qi?!0:(typeof r=="string"&&(r=new ue(r,this.options)),Co(r,this.operator,this.semver,this.options))};ct.prototype.intersects=function(r,e){if(!(r instanceof ct))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var t;if(this.operator==="")return t=new Ce(r.value,e),Ao(this.value,t,e);if(r.operator==="")return t=new Ce(this.value,e),Ao(r.semver,t,e);var n=(this.operator===">="||this.operator===">")&&(r.operator===">="||r.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(r.operator==="<="||r.operator==="<"),o=this.semver.version===r.semver.version,u=(this.operator===">="||this.operator==="<=")&&(r.operator===">="||r.operator==="<="),l=Co(this.semver,"<",r.semver,e)&&(this.operator===">="||this.operator===">")&&(r.operator==="<="||r.operator==="<"),f=Co(this.semver,">",r.semver,e)&&(this.operator==="<="||this.operator==="<")&&(r.operator===">="||r.operator===">");return n||i||o&&u||l||f};te.Range=Ce;function Ce(r,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),r instanceof Ce)return r.loose===!!e.loose&&r.includePrerelease===!!e.includePrerelease?r:new Ce(r.raw,e);if(r instanceof ct)return new Ce(r.value,e);if(!(this instanceof Ce))return new Ce(r,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=r.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}Ce.prototype.format=function(){return this.range=this.set.map(function(r){return r.join(" ").trim()}).join("||").trim(),this.range};Ce.prototype.toString=function(){return this.range};Ce.prototype.parseRange=function(r){var e=this.options.loose,t=e?Se[rg]:Se[tg];r=r.replace(t,PP),ve("hyphen replace",r),r=r.replace(Se[Lr],aP),ve("comparator trim",r,Se[Lr]),r=r.replace(Se[wn],sP),r=r.replace(Se[En],oP);var n=e?Se[pl]:Se[_l],i=r.split(" ").map(function(o){return SP(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(n)})),i=i.map(function(o){return new ct(o,this.options)},this),i};Ce.prototype.intersects=function(r,e){if(!(r instanceof Ce))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(n){return r.set.some(function(i){return i.every(function(o){return n.intersects(o,e)})})})})};te.toComparators=bP;function bP(r,e){return new Ce(r,e).set.map(function(t){return t.map(function(n){return n.value}).join(" ").trim().split(" ")})}function SP(r,e){return ve("comp",r,e),r=OP(r,e),ve("caret",r),r=wP(r,e),ve("tildes",r),r=MP(r,e),ve("xrange",r),r=AP(r,e),ve("stars",r),r}function Ze(r){return!r||r.toLowerCase()==="x"||r==="*"}function wP(r,e){return r.trim().split(/\s+/).map(function(t){return EP(t,e)}).join(" ")}function EP(r,e){var t=e.loose?Se[Z_]:Se[X_];return r.replace(t,function(n,i,o,u,l){ve("tilde",r,n,i,o,u,l);var f;return Ze(i)?f="":Ze(o)?f=">="+i+".0.0 <"+(+i+1)+".0.0":Ze(u)?f=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":l?(ve("replaceTilde pr",l),f=">="+i+"."+o+"."+u+"-"+l+" <"+i+"."+(+o+1)+".0"):f=">="+i+"."+o+"."+u+" <"+i+"."+(+o+1)+".0",ve("tilde return",f),f})}function OP(r,e){return r.trim().split(/\s+/).map(function(t){return IP(t,e)}).join(" ")}function IP(r,e){ve("caret",r,e);var t=e.loose?Se[eg]:Se[Q_];return r.replace(t,function(n,i,o,u,l){ve("caret",r,n,i,o,u,l);var f;return Ze(i)?f="":Ze(o)?f=">="+i+".0.0 <"+(+i+1)+".0.0":Ze(u)?i==="0"?f=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":f=">="+i+"."+o+".0 <"+(+i+1)+".0.0":l?(ve("replaceCaret pr",l),i==="0"?o==="0"?f=">="+i+"."+o+"."+u+"-"+l+" <"+i+"."+o+"."+(+u+1):f=">="+i+"."+o+"."+u+"-"+l+" <"+i+"."+(+o+1)+".0":f=">="+i+"."+o+"."+u+"-"+l+" <"+(+i+1)+".0.0"):(ve("no pr"),i==="0"?o==="0"?f=">="+i+"."+o+"."+u+" <"+i+"."+o+"."+(+u+1):f=">="+i+"."+o+"."+u+" <"+i+"."+(+o+1)+".0":f=">="+i+"."+o+"."+u+" <"+(+i+1)+".0.0"),ve("caret return",f),f})}function MP(r,e){return ve("replaceXRanges",r,e),r.split(/\s+/).map(function(t){return CP(t,e)}).join(" ")}function CP(r,e){r=r.trim();var t=e.loose?Se[J_]:Se[$_];return r.replace(t,function(n,i,o,u,l,f){ve("xRange",r,n,i,o,u,l,f);var _=Ze(o),v=_||Ze(u),g=v||Ze(l),M=g;return i==="="&&M&&(i=""),_?i===">"||i==="<"?n="<0.0.0":n="*":i&&M?(v&&(u=0),l=0,i===">"?(i=">=",v?(o=+o+1,u=0,l=0):(u=+u+1,l=0)):i==="<="&&(i="<",v?o=+o+1:u=+u+1),n=i+o+"."+u+"."+l):v?n=">="+o+".0.0 <"+(+o+1)+".0.0":g&&(n=">="+o+"."+u+".0 <"+o+"."+(+u+1)+".0"),ve("xRange return",n),n})}function AP(r,e){return ve("replaceStars",r,e),r.trim().replace(Se[ng],"")}function PP(r,e,t,n,i,o,u,l,f,_,v,g,M){return Ze(t)?e="":Ze(n)?e=">="+t+".0.0":Ze(i)?e=">="+t+"."+n+".0":e=">="+e,Ze(f)?l="":Ze(_)?l="<"+(+f+1)+".0.0":Ze(v)?l="<"+f+"."+(+_+1)+".0":g?l="<="+f+"."+_+"."+v+"-"+g:l="<="+l,(e+" "+l).trim()}Ce.prototype.test=function(r){if(!r)return!1;typeof r=="string"&&(r=new ue(r,this.options));for(var e=0;e<this.set.length;e++)if(RP(this.set[e],r,this.options))return!0;return!1};function RP(r,e,t){for(var n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(n=0;n<r.length;n++)if(ve(r[n].semver),r[n].semver!==qi&&r[n].semver.prerelease.length>0){var i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}te.satisfies=Ao;function Ao(r,e,t){try{e=new Ce(e,t)}catch(n){return!1}return e.test(r)}te.maxSatisfying=DP;function DP(r,e,t){var n=null,i=null;try{var o=new Ce(e,t)}catch(u){return null}return r.forEach(function(u){o.test(u)&&(!n||i.compare(u)===-1)&&(n=u,i=new ue(n,t))}),n}te.minSatisfying=TP;function TP(r,e,t){var n=null,i=null;try{var o=new Ce(e,t)}catch(u){return null}return r.forEach(function(u){o.test(u)&&(!n||i.compare(u)===1)&&(n=u,i=new ue(n,t))}),n}te.minVersion=NP;function NP(r,e){r=new Ce(r,e);var t=new ue("0.0.0");if(r.test(t)||(t=new ue("0.0.0-0"),r.test(t)))return t;t=null;for(var n=0;n<r.set.length;++n){var i=r.set[n];i.forEach(function(o){var u=new ue(o.semver.version);switch(o.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!t||Li(t,u))&&(t=u);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return t&&r.test(t)?t:null}te.validRange=kP;function kP(r,e){try{return new Ce(r,e).range||"*"}catch(t){return null}}te.ltr=xP;function xP(r,e,t){return yl(r,e,"<",t)}te.gtr=jP;function jP(r,e,t){return yl(r,e,">",t)}te.outside=yl;function yl(r,e,t,n){r=new ue(r,n),e=new Ce(e,n);var i,o,u,l,f;switch(t){case">":i=Li,o=ml,u=Mo,l=">",f=">=";break;case"<":i=Mo,o=vl,u=Li,l="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ao(r,e,n))return!1;for(var _=0;_<e.set.length;++_){var v=e.set[_],g=null,M=null;if(v.forEach(function(W){W.semver===qi&&(W=new ct(">=0.0.0")),g=g||W,M=M||W,i(W.semver,g.semver,n)?g=W:u(W.semver,M.semver,n)&&(M=W)}),g.operator===l||g.operator===f||(!M.operator||M.operator===l)&&o(r,M.semver))return!1;if(M.operator===f&&u(r,M.semver))return!1}return!0}te.prerelease=LP;function LP(r,e){var t=Fr(r,e);return t&&t.prerelease.length?t.prerelease:null}te.intersects=FP;function FP(r,e,t){return r=new Ce(r,t),e=new Ce(e,t),r.intersects(e)}te.coerce=qP;function qP(r){if(r instanceof ue)return r;if(typeof r!="string")return null;var e=r.match(Se[z_]);return e==null?null:Fr(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});h();h();var Oh=Qt(wh());h();var gi;function ge(r){gi&&gi("verbose",r)}function bt(r){gi&&gi("error",r)}function Eh(r){gi=r}var Wu=class{constructor(){this.registered=!1;this.baseHandler=this.handleVSCodeApiMessages.bind(this)}register(e){if(this.messageCallback=e,!this.vscodeApi&&typeof acquireVsCodeApi!="undefined"?this.vscodeApi=acquireVsCodeApi():!this.vscodeApi&&typeof window.acquireVsCodeApi!="undefined"&&(this.vscodeApi=window.acquireVsCodeApi()),this.vscodeApi||console.error("The vscode api is not set"),!this.registered){this.registered=!0,window.addEventListener("message",this.baseHandler);try{let t=this.vscodeApi;t&&t.handleMessage&&t.handleMessage(this.handleVSCodeApiMessages.bind(this))}catch(t){}}}sendMessage(e,t){this.vscodeApi?this.vscodeApi.postMessage({type:e,payload:t}):e==="IPyWidgets_logMessage"?ge(`Logging message ${e}, ${t}`):ge(`No vscode API to post message ${e}`)}dispose(){this.registered&&(this.registered=!1,window.removeEventListener("message",this.baseHandler))}async handleVSCodeApiMessages(e){let t=e.data;t&&this.messageCallback&&await this.messageCallback(t)}},Vu=class{constructor(e){this.kernelMessagingApi=e||{onDidReceiveKernelMessage,postKernelMessage}}register(e){this.messageCallback=e,this.kernelHandler||(this.kernelHandler=this.kernelMessagingApi.onDidReceiveKernelMessage(this.handleKernelMessage.bind(this)))}sendMessage(e,t){this.kernelMessagingApi.postKernelMessage({type:e,payload:t})}dispose(){this.kernelHandler&&this.kernelHandler.dispose()}async handleKernelMessage(e){let t=e;t&&this.messageCallback&&await this.messageCallback(t)}},Cs=class{constructor(e){this.kernelMessagingApi=e;this.handlers=[];this.subject=new Oh.Subject;this.observable=this.subject.asObservable()}asObservable(){return this.observable}dispose(){this.messageApi&&this.messageApi.dispose()}sendMessage(e,t){return this.sendUnsafeMessage(e.toString(),t)}sendUnsafeMessage(e,t){this.messageApi?this.messageApi.sendMessage(e,t):e==="IPyWidgets_logMessage"?console.log("Message not sent",e,t):ge(`No message API to post message ${e}`)}addHandler(e){this.acquireApi(),this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e)}acquireApi(){this.messageApi||(this.useKernelMessageApi()?this.messageApi=new Vu(this.kernelMessagingApi):this.messageApi=new Wu,this.messageApi.register(this.handleMessage.bind(this)))}useKernelMessageApi(){return!!(this.kernelMessagingApi&&typeof this.kernelMessagingApi.postKernelMessage!="undefined"||typeof postKernelMessage!="undefined")}async handleMessage(e){this.handlers&&e&&(this.subject.next({type:e.type,payload:e.payload}),this.handlers.forEach(t=>{t&&t.handleMessage(e.type,e.payload)}))}};h();h();h();h();function Ih(r){if(typeof document!="undefined"){var e=document.createElement("style"),t=document.createTextNode(r);e.appendChild(t),document.head.appendChild(e)}}var Mh=`:root{--md-red-50: #FFEBEE;--md-red-100: #FFCDD2;--md-red-200: #EF9A9A;--md-red-300: #E57373;--md-red-400: #EF5350;--md-red-500: #F44336;--md-red-600: #E53935;--md-red-700: #D32F2F;--md-red-800: #C62828;--md-red-900: #B71C1C;--md-red-A100: #FF8A80;--md-red-A200: #FF5252;--md-red-A400: #FF1744;--md-red-A700: #D50000;--md-pink-50: #FCE4EC;--md-pink-100: #F8BBD0;--md-pink-200: #F48FB1;--md-pink-300: #F06292;--md-pink-400: #EC407A;--md-pink-500: #E91E63;--md-pink-600: #D81B60;--md-pink-700: #C2185B;--md-pink-800: #AD1457;--md-pink-900: #880E4F;--md-pink-A100: #FF80AB;--md-pink-A200: #FF4081;--md-pink-A400: #F50057;--md-pink-A700: #C51162;--md-purple-50: #F3E5F5;--md-purple-100: #E1BEE7;--md-purple-200: #CE93D8;--md-purple-300: #BA68C8;--md-purple-400: #AB47BC;--md-purple-500: #9C27B0;--md-purple-600: #8E24AA;--md-purple-700: #7B1FA2;--md-purple-800: #6A1B9A;--md-purple-900: #4A148C;--md-purple-A100: #EA80FC;--md-purple-A200: #E040FB;--md-purple-A400: #D500F9;--md-purple-A700: #AA00FF;--md-deep-purple-50: #EDE7F6;--md-deep-purple-100: #D1C4E9;--md-deep-purple-200: #B39DDB;--md-deep-purple-300: #9575CD;--md-deep-purple-400: #7E57C2;--md-deep-purple-500: #673AB7;--md-deep-purple-600: #5E35B1;--md-deep-purple-700: #512DA8;--md-deep-purple-800: #4527A0;--md-deep-purple-900: #311B92;--md-deep-purple-A100: #B388FF;--md-deep-purple-A200: #7C4DFF;--md-deep-purple-A400: #651FFF;--md-deep-purple-A700: #6200EA;--md-indigo-50: #E8EAF6;--md-indigo-100: #C5CAE9;--md-indigo-200: #9FA8DA;--md-indigo-300: #7986CB;--md-indigo-400: #5C6BC0;--md-indigo-500: #3F51B5;--md-indigo-600: #3949AB;--md-indigo-700: #303F9F;--md-indigo-800: #283593;--md-indigo-900: #1A237E;--md-indigo-A100: #8C9EFF;--md-indigo-A200: #536DFE;--md-indigo-A400: #3D5AFE;--md-indigo-A700: #304FFE;--md-blue-50: #E3F2FD;--md-blue-100: #BBDEFB;--md-blue-200: #90CAF9;--md-blue-300: #64B5F6;--md-blue-400: #42A5F5;--md-blue-500: #2196F3;--md-blue-600: #1E88E5;--md-blue-700: #1976D2;--md-blue-800: #1565C0;--md-blue-900: #0D47A1;--md-blue-A100: #82B1FF;--md-blue-A200: #448AFF;--md-blue-A400: #2979FF;--md-blue-A700: #2962FF;--md-light-blue-50: #E1F5FE;--md-light-blue-100: #B3E5FC;--md-light-blue-200: #81D4FA;--md-light-blue-300: #4FC3F7;--md-light-blue-400: #29B6F6;--md-light-blue-500: #03A9F4;--md-light-blue-600: #039BE5;--md-light-blue-700: #0288D1;--md-light-blue-800: #0277BD;--md-light-blue-900: #01579B;--md-light-blue-A100: #80D8FF;--md-light-blue-A200: #40C4FF;--md-light-blue-A400: #00B0FF;--md-light-blue-A700: #0091EA;--md-cyan-50: #E0F7FA;--md-cyan-100: #B2EBF2;--md-cyan-200: #80DEEA;--md-cyan-300: #4DD0E1;--md-cyan-400: #26C6DA;--md-cyan-500: #00BCD4;--md-cyan-600: #00ACC1;--md-cyan-700: #0097A7;--md-cyan-800: #00838F;--md-cyan-900: #006064;--md-cyan-A100: #84FFFF;--md-cyan-A200: #18FFFF;--md-cyan-A400: #00E5FF;--md-cyan-A700: #00B8D4;--md-teal-50: #E0F2F1;--md-teal-100: #B2DFDB;--md-teal-200: #80CBC4;--md-teal-300: #4DB6AC;--md-teal-400: #26A69A;--md-teal-500: #009688;--md-teal-600: #00897B;--md-teal-700: #00796B;--md-teal-800: #00695C;--md-teal-900: #004D40;--md-teal-A100: #A7FFEB;--md-teal-A200: #64FFDA;--md-teal-A400: #1DE9B6;--md-teal-A700: #00BFA5;--md-green-50: #E8F5E9;--md-green-100: #C8E6C9;--md-green-200: #A5D6A7;--md-green-300: #81C784;--md-green-400: #66BB6A;--md-green-500: #4CAF50;--md-green-600: #43A047;--md-green-700: #388E3C;--md-green-800: #2E7D32;--md-green-900: #1B5E20;--md-green-A100: #B9F6CA;--md-green-A200: #69F0AE;--md-green-A400: #00E676;--md-green-A700: #00C853;--md-light-green-50: #F1F8E9;--md-light-green-100: #DCEDC8;--md-light-green-200: #C5E1A5;--md-light-green-300: #AED581;--md-light-green-400: #9CCC65;--md-light-green-500: #8BC34A;--md-light-green-600: #7CB342;--md-light-green-700: #689F38;--md-light-green-800: #558B2F;--md-light-green-900: #33691E;--md-light-green-A100: #CCFF90;--md-light-green-A200: #B2FF59;--md-light-green-A400: #76FF03;--md-light-green-A700: #64DD17;--md-lime-50: #F9FBE7;--md-lime-100: #F0F4C3;--md-lime-200: #E6EE9C;--md-lime-300: #DCE775;--md-lime-400: #D4E157;--md-lime-500: #CDDC39;--md-lime-600: #C0CA33;--md-lime-700: #AFB42B;--md-lime-800: #9E9D24;--md-lime-900: #827717;--md-lime-A100: #F4FF81;--md-lime-A200: #EEFF41;--md-lime-A400: #C6FF00;--md-lime-A700: #AEEA00;--md-yellow-50: #FFFDE7;--md-yellow-100: #FFF9C4;--md-yellow-200: #FFF59D;--md-yellow-300: #FFF176;--md-yellow-400: #FFEE58;--md-yellow-500: #FFEB3B;--md-yellow-600: #FDD835;--md-yellow-700: #FBC02D;--md-yellow-800: #F9A825;--md-yellow-900: #F57F17;--md-yellow-A100: #FFFF8D;--md-yellow-A200: #FFFF00;--md-yellow-A400: #FFEA00;--md-yellow-A700: #FFD600;--md-amber-50: #FFF8E1;--md-amber-100: #FFECB3;--md-amber-200: #FFE082;--md-amber-300: #FFD54F;--md-amber-400: #FFCA28;--md-amber-500: #FFC107;--md-amber-600: #FFB300;--md-amber-700: #FFA000;--md-amber-800: #FF8F00;--md-amber-900: #FF6F00;--md-amber-A100: #FFE57F;--md-amber-A200: #FFD740;--md-amber-A400: #FFC400;--md-amber-A700: #FFAB00;--md-orange-50: #FFF3E0;--md-orange-100: #FFE0B2;--md-orange-200: #FFCC80;--md-orange-300: #FFB74D;--md-orange-400: #FFA726;--md-orange-500: #FF9800;--md-orange-600: #FB8C00;--md-orange-700: #F57C00;--md-orange-800: #EF6C00;--md-orange-900: #E65100;--md-orange-A100: #FFD180;--md-orange-A200: #FFAB40;--md-orange-A400: #FF9100;--md-orange-A700: #FF6D00;--md-deep-orange-50: #FBE9E7;--md-deep-orange-100: #FFCCBC;--md-deep-orange-200: #FFAB91;--md-deep-orange-300: #FF8A65;--md-deep-orange-400: #FF7043;--md-deep-orange-500: #FF5722;--md-deep-orange-600: #F4511E;--md-deep-orange-700: #E64A19;--md-deep-orange-800: #D84315;--md-deep-orange-900: #BF360C;--md-deep-orange-A100: #FF9E80;--md-deep-orange-A200: #FF6E40;--md-deep-orange-A400: #FF3D00;--md-deep-orange-A700: #DD2C00;--md-brown-50: #EFEBE9;--md-brown-100: #D7CCC8;--md-brown-200: #BCAAA4;--md-brown-300: #A1887F;--md-brown-400: #8D6E63;--md-brown-500: #795548;--md-brown-600: #6D4C41;--md-brown-700: #5D4037;--md-brown-800: #4E342E;--md-brown-900: #3E2723;--md-grey-50: #FAFAFA;--md-grey-100: #F5F5F5;--md-grey-200: #EEEEEE;--md-grey-300: #E0E0E0;--md-grey-400: #BDBDBD;--md-grey-500: #9E9E9E;--md-grey-600: #757575;--md-grey-700: #616161;--md-grey-800: #424242;--md-grey-900: #212121;--md-blue-grey-50: #ECEFF1;--md-blue-grey-100: #CFD8DC;--md-blue-grey-200: #B0BEC5;--md-blue-grey-300: #90A4AE;--md-blue-grey-400: #78909C;--md-blue-grey-500: #607D8B;--md-blue-grey-600: #546E7A;--md-blue-grey-700: #455A64;--md-blue-grey-800: #37474F;--md-blue-grey-900: #263238}:root{--jp-icon-search: none;--jp-ui-select-caret: none}:root{--jp-border-width: 1px;--jp-border-color0: var(--md-grey-700);--jp-border-color1: var(--md-grey-500);--jp-border-color2: var(--md-grey-300);--jp-border-color3: var(--md-grey-100);--jp-ui-icon-font-size: 14px;--jp-ui-font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;--jp-ui-font-color0: rgba(0,0,0,1);--jp-ui-font-color1: rgba(0,0,0,.8);--jp-ui-font-color2: rgba(0,0,0,.5);--jp-ui-font-color3: rgba(0,0,0,.3);--jp-ui-inverse-font-color0: rgba(255, 255, 255, 1);--jp-ui-inverse-font-color1: rgba(255, 255, 255, 1);--jp-ui-inverse-font-color2: rgba(255, 255, 255, .7);--jp-ui-inverse-font-color3: rgba(255, 255, 255, .5);--jp-inverse-ui-font-color0: rgba(255,255,255,1);--jp-inverse-ui-font-color1: rgba(255,255,255,1);--jp-inverse-ui-font-color2: rgba(255,255,255,.7);--jp-inverse-ui-font-color3: rgba(255,255,255,.5);--jp-content-font-size: 13px;--jp-content-line-height: 1.5;--jp-content-font-color0: black;--jp-content-font-color1: black;--jp-content-font-color2: var(--md-grey-700);--jp-content-font-color3: var(--md-grey-500);--jp-ui-font-scale-factor: 1.2;--jp-ui-font-size0: calc(var(--jp-ui-font-size1)/var(--jp-ui-font-scale-factor));--jp-ui-font-size1: 13px;--jp-ui-font-size2: calc(var(--jp-ui-font-size1)*var(--jp-ui-font-scale-factor));--jp-ui-font-size3: calc(var(--jp-ui-font-size2)*var(--jp-ui-font-scale-factor));--jp-code-font-size: 13px;--jp-code-line-height: 1.307;--jp-code-padding: 5px;--jp-code-font-family: monospace;--jp-layout-color0: white;--jp-layout-color1: white;--jp-layout-color2: var(--md-grey-200);--jp-layout-color3: var(--md-grey-400);--jp-brand-color0: var(--md-blue-700);--jp-brand-color1: var(--md-blue-500);--jp-brand-color2: var(--md-blue-300);--jp-brand-color3: var(--md-blue-100);--jp-accent-color0: var(--md-green-700);--jp-accent-color1: var(--md-green-500);--jp-accent-color2: var(--md-green-300);--jp-accent-color3: var(--md-green-100);--jp-warn-color0: var(--md-orange-700);--jp-warn-color1: var(--md-orange-500);--jp-warn-color2: var(--md-orange-300);--jp-warn-color3: var(--md-orange-100);--jp-error-color0: var(--md-red-700);--jp-error-color1: var(--md-red-500);--jp-error-color2: var(--md-red-300);--jp-error-color3: var(--md-red-100);--jp-success-color0: var(--md-green-700);--jp-success-color1: var(--md-green-500);--jp-success-color2: var(--md-green-300);--jp-success-color3: var(--md-green-100);--jp-info-color0: var(--md-cyan-700);--jp-info-color1: var(--md-cyan-500);--jp-info-color2: var(--md-cyan-300);--jp-info-color3: var(--md-cyan-100);--jp-cell-padding: 5px;--jp-cell-editor-background: #f7f7f7;--jp-cell-editor-border-color: #cfcfcf;--jp-cell-editor-background-edit: var(--jp-ui-layout-color1);--jp-cell-editor-border-color-edit: var(--jp-brand-color1);--jp-cell-prompt-width: 100px;--jp-cell-prompt-font-family: "Roboto Mono", monospace;--jp-cell-prompt-letter-spacing: 0px;--jp-cell-prompt-opacity: 1;--jp-cell-prompt-opacity-not-active: .4;--jp-cell-prompt-font-color-not-active: var(--md-grey-700);--jp-cell-inprompt-font-color: #307FC1;--jp-cell-outprompt-font-color: #BF5B3D;--jp-notebook-padding: 10px;--jp-notebook-scroll-padding: 100px;--jp-console-background: var(--md-grey-100);--jp-toolbar-border-color: var(--md-grey-400);--jp-toolbar-micro-height: 8px;--jp-toolbar-background: var(--jp-layout-color0);--jp-toolbar-box-shadow: 0px 0px 2px 0px rgba(0,0,0,.24);--jp-toolbar-header-margin: 4px 4px 0px 4px;--jp-toolbar-active-background: var(--md-grey-300)}
`;Ih(Mh);var P_=Qt(Ku()),R_=Qt(Dh());h();var b_=Qt(Ot()),S_=Qt(Ec());h();var $c=class{constructor(e=null){this.scope=e;this._resolved=!1;this._rejected=!1;this._promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}get value(){return this._value}resolve(e){this._value=e,this._resolve.apply(this.scope?this.scope:this,arguments),this._resolved=!0}reject(e){this._reject.apply(this.scope?this.scope:this,arguments),this._rejected=!0}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}};function vt(r=null){return new $c(r)}h();function m_(r){if(!r||!Array.isArray(r)||r.length===0)return;let e=[];for(let t=0;t<r.length;t+=1){let n=r[t];if("buffer"in n&&"byteOffset"in n){let i=Array.apply(null,new Uint8Array(n.buffer));e.push({...n,byteLength:n.byteLength,byteOffset:n.byteOffset,buffer:i})}else e.push([...new Uint8Array(n)])}return e}function y_(r){if(!Array.isArray(r)||r.length===0)return r;let e=[];for(let t=0;t<r.length;t+=1){let n=r[t];if("buffer"in n&&"byteOffset"in n){let i=new Uint8Array(n.buffer).buffer,o=new DataView(i,n.byteOffset,n.byteLength);e.push(o)}else{let i=new Uint8Array(n).buffer;e.push(i)}}return e}var Jc=class r{constructor(e,t){this.postOffice=t;this.hookResults=new Map;let n;class i{constructor(){this.sendEnabled=!0;n=this}close(f,_){}send(f){this.sendEnabled&&(typeof f=="string"?t.sendMessage("IPyWidgets_msg",f):t.sendMessage("IPyWidgets_binary_msg",m_([f])))}}let o=b_.ServerConnection.makeSettings({WebSocket:i,wsUrl:"BOGUS_PVSC"});this.awaitingExtensionMessage=new Map,this.realKernel=new S_.KernelConnection({serverSettings:o,clientId:e.clientId,handleComms:!0,username:e.userName,model:e.model});let u=je();this._ioPubMessageSignal=new u.Signal(this),this.realKernel.iopubMessage.connect(this.onIOPubMessage,this),this._options=e,t.addHandler(this),this.websocket=n,this.messageHook=this.messageHookInterceptor.bind(this),this.messageHooks=new Map,this.fakeOpenSocket()}get iopubMessage(){return this._ioPubMessageSignal}get statusChanged(){return this.realKernel.statusChanged}get connectionStatusChanged(){return this.realKernel.connectionStatusChanged}get unhandledMessage(){return this.realKernel.unhandledMessage}get anyMessage(){return this.realKernel.anyMessage}get serverSettings(){return this.realKernel.serverSettings}get id(){return this.realKernel.id}get name(){return this.realKernel.name}get model(){return this.realKernel.model}get username(){return this.realKernel.username}get clientId(){return this.realKernel.clientId}get status(){return this.realKernel.status}get handleComms(){return this.realKernel.handleComms}get isDisposed(){return this.realKernel.isDisposed}get connectionStatus(){return this.realKernel.connectionStatus}get spec(){return this.realKernel.spec}get info(){return this.realKernel.info}get hasComm(){return this.realKernel.hasComm}createComm(e,t){return this.realKernel.createComm(e,t)}get disposed(){return this.realKernel.disposed}clone(e){return new r({...this._options,clientId:(e==null?void 0:e.clientId)||this._options.clientId,userName:(e==null?void 0:e.username)||this._options.userName},this.postOffice)}shutdown(){return this.realKernel.shutdown()}sendShellMessage(e,t,n){return this.realKernel.sendShellMessage(e,t,n)}sendControlMessage(e,t,n){return this.realKernel.sendControlMessage(e,t,n)}reconnect(){return this.realKernel.reconnect()}interrupt(){return this.realKernel.interrupt()}restart(){return this.realKernel.restart()}requestKernelInfo(){return this.realKernel.requestKernelInfo()}requestComplete(e){return this.realKernel.requestComplete(e)}requestInspect(e){return this.realKernel.requestInspect(e)}requestHistory(e){return this.realKernel.requestHistory(e)}requestExecute(e,t,n){return this.realKernel.requestExecute(e,t,n)}requestDebug(e,t){return this.realKernel.requestDebug(e,t)}requestIsComplete(e){return this.realKernel.requestIsComplete(e)}requestCommInfo(e){return this.realKernel.requestCommInfo(e)}sendInputReply(e){return this.realKernel.sendInputReply(e)}registerCommTarget(e,t){return this.postOffice.sendMessage("IPyWidgets_registerCommTarget",e),this.realKernel.registerCommTarget(e,t)}removeCommTarget(e,t){return this.realKernel.removeCommTarget(e,t)}dispose(){return this.postOffice.removeHandler(this),this.realKernel.dispose()}handleMessage(e,t){switch(e){case"IPyWidgets_MessageHookCall":this.sendHookResult(t);break;case"IPyWidgets_msg":this.websocket&&this.websocket.onmessage&&this.websocket.onmessage({target:this.websocket,data:t.data,type:""}),this.sendResponse(t.id);break;case"IPyWidgets_binary_msg":if(this.websocket&&this.websocket.onmessage){let n=y_(t.data)[0];this.websocket.onmessage({target:this.websocket,data:n,type:""})}this.sendResponse(t.id);break;case"IPyWidgets_mirror_execute":this.handleMirrorExecute(t);break;case"IPyWidgets_ExtensionOperationHandled":this.extensionOperationFinished(t);break;default:break}return!0}registerMessageHook(e,t){let n=vt(),i=this.generateExtensionResponseKey(e,"IPyWidgets_RegisterMessageHook".toString());this.awaitingExtensionMessage.set(i,n),this.postOffice.sendMessage("IPyWidgets_RegisterMessageHook",e),this.messageHooks.set(e,t),this.realKernel.registerMessageHook(e,this.messageHook)}removeMessageHook(e,t){let n=vt(),i=this.generateExtensionResponseKey(e,"IPyWidgets_RemoveMessageHook".toString());this.awaitingExtensionMessage.set(i,n),this.postOffice.sendMessage("IPyWidgets_RemoveMessageHook",{hookMsgId:e,lastHookedMsgId:this.lastHookedMessageId}),this.messageHooks.delete(e),this.lastHookedMessageId=void 0,this.realKernel.removeMessageHook(e,this.messageHook)}extensionOperationFinished(e){let t=`${e.id}${e.type}`,n=this.awaitingExtensionMessage.get(t);n&&(n.resolve(),this.awaitingExtensionMessage.delete(t))}sendResponse(e){this.postOffice.sendMessage("IPyWidgets_msg_received",{id:e})}generateExtensionResponseKey(e,t){return`${e}${t}`}fakeOpenSocket(){let e=this.realKernel.requestKernelInfo.bind(this.realKernel);this.realKernel.requestKernelInfo=()=>(this.realKernel.requestKernelInfo=e,Promise.resolve()),this.websocket&&this.websocket.onopen({target:this.websocket}),this.realKernel.requestKernelInfo=e}messageHookInterceptor(e){try{this.lastHookedMessageId=e.header.msg_id;let t=this.messageHooks.get(e.parent_header.msg_id);if(t){let n=t(e);return this.hookResults.set(e.header.msg_id,n),n.then?n.then(i=>i):n}}catch(t){}return!1}sendHookResult(e){let t=this.hookResults.get(e.msg.header.msg_id);t!==void 0?(this.hookResults.delete(e.msg.header.msg_id),t.then?t.then(n=>{this.postOffice.sendMessage("IPyWidgets_MessageHookResult",{requestId:e.requestId,parentId:e.parentId,msgType:e.msg.header.msg_type,result:n})}):this.postOffice.sendMessage("IPyWidgets_MessageHookResult",{requestId:e.requestId,parentId:e.parentId,msgType:e.msg.header.msg_type,result:t===!0})):this.postOffice.sendMessage("IPyWidgets_MessageHookResult",{requestId:e.requestId,parentId:e.parentId,msgType:e.msg.header.msg_type,result:!0})}handleMirrorExecute(e){try{this.websocket.sendEnabled=!1,this.realKernel.sendShellMessage(e.msg,!1,e.msg.content.silent)}finally{this.websocket.sendEnabled=!0}this.sendResponse(e.id)}onIOPubMessage(e,t){if(this.awaitingExtensionMessage.size<=0)this.finishIOPubMessage(t);else{let n=Array.from(this.awaitingExtensionMessage.values()).map(i=>i.promise);Promise.all(n).then(()=>{this.finishIOPubMessage(t)}).catch(i=>{window.console.error("Failed to send iopub_msg_handled message",i)})}}finishIOPubMessage(e){this.postOffice.sendMessage("IPyWidgets_iopub_msg_handled",{id:e.header.msg_id}),this._ioPubMessageSignal.emit(e)}};function w_(r,e,t){let n=new Jc(r,e);return t.forEach(i=>n.handleMessage(i.message,i.payload)),n}h();h();var GA="ms-toolsai.jupyter";var E_;(t=>(t.PythonInteractiveHelpLink="https://aka.ms/pyaiinstall",t.JupyterDataRateHelpLink="https://aka.ms/AA5ggm0"))(E_||(E_={}));var O_;(v=>(v.JupyterServerLocalLaunch="local",v.JupyterServerRemoteLaunch="remote",v.JupyterServerUriList="jupyter.jupyterServer.uriList",v.JupyterServerRemoteLaunchUriListKey="remote-uri-list",v.JupyterServerRemoteLaunchUriSeparator="\r",v.JupyterServerRemoteLaunchNameSeparator=`
`,v.JupyterServerRemoteLaunchUriEqualsDisplayName="same",v.JupyterServerRemoteLaunchService=GA,v.JupyterServerUriListMax=10,v.IntellisenseTimeout=2e3))(O_||(O_={}));var _n;(C=>(C.GeneratedThemeName="ipython-theme",C.RawPurpose="raw",C.MatplotLibDefaultParams="_VSCode_defaultMatplotlib_Params",C.MatplotLibFigureFormats="_VSCode_matplotLib_FigureFormats",C.DefaultCodeCellMarker="# %%",C.DefaultCommTarget="jupyter.widget",C.ALL_VARIABLES="ALL_VARIABLES",C.KERNEL_VARIABLES="KERNEL_VARIABLES",C.DEBUGGER_VARIABLES="DEBUGGER_VARIABLES",C.PYTHON_VARIABLES_REQUESTER="PYTHON_VARIABLES_REQUESTER",C.MULTIPLEXING_DEBUGSERVICE="MULTIPLEXING_DEBUGSERVICE",C.RUN_BY_LINE_DEBUGSERVICE="RUN_BY_LINE_DEBUGSERVICE",C.REMOTE_URI="https://remote/",C.REMOTE_URI_ID_PARAM="id",C.REMOTE_URI_HANDLE_PARAM="uriHandle",C.REMOTE_URI_EXTENSION_ID_PARAM="extensionId"))(_n||(_n={}));var I_;(o=>(o.ImportIPython=`{0}
from IPython import get_ipython

{1}`,o.MatplotLibInit=`import matplotlib
%matplotlib inline
${_n.MatplotLibDefaultParams} = dict(matplotlib.rcParams)
`,o.AppendSVGFigureFormat=`import matplotlib_inline.backend_inline
${_n.MatplotLibFigureFormats} = matplotlib_inline.backend_inline.InlineBackend.instance().figure_formats
${_n.MatplotLibFigureFormats}.add('svg')
matplotlib_inline.backend_inline.set_matplotlib_formats(*${_n.MatplotLibFigureFormats})`,o.UpdateCWDAndPath=`import os as _VSCODE_os
import sys as _VSCODE_sys
%cd "{0}"
if _VSCODE_os.getcwd() not in _VSCODE_sys.path:
    _VSCODE_sys.path.insert(0, _VSCODE_os.getcwd())

del _VSCODE_sys
del _VSCODE_os`,o.DisableJedi="%config Completer.use_jedi = False"))(I_||(I_={}));var mt;(U=>(U.RunAllCells="jupyter.runallcells",U.RunAllCellsAbove="jupyter.runallcellsabove",U.RunCellAndAllBelow="jupyter.runcellandallbelow",U.RunAllCellsAbovePalette="jupyter.runallcellsabove.palette",U.RunCellAndAllBelowPalette="jupyter.runcurrentcellandallbelow.palette",U.RunToLine="jupyter.runtoline",U.RunFromLine="jupyter.runfromline",U.RunCell="jupyter.runcell",U.RunCurrentCell="jupyter.runcurrentcell",U.RunCurrentCellAdvance="jupyter.runcurrentcelladvance",U.CreateNewInteractive="jupyter.createnewinteractive",U.ImportNotebook="jupyter.importnotebook",U.ImportNotebookFile="jupyter.importnotebookfile",U.ExportFileAsNotebook="jupyter.exportfileasnotebook",U.ExportFileAndOutputAsNotebook="jupyter.exportfileandoutputasnotebook",U.InterruptKernel="jupyter.interruptkernel",U.RestartKernel="jupyter.restartkernel",U.RestartKernelAndRunAllCells="jupyter.restartkernelandrunallcells",U.RestartKernelAndRunUpToSelectedCell="jupyter.restartkernelandrunuptoselectedcell",U.NotebookEditorRemoveAllCells="jupyter.notebookeditor.removeallcells",U.NotebookEditorRunAllCells="jupyter.notebookeditor.runallcells",U.NotebookEditorRunSelectedCell="jupyter.notebookeditor.runselectedcell",U.NotebookEditorAddCellBelow="jupyter.notebookeditor.addcellbelow",U.ExpandAllCells="jupyter.expandallcells",U.CollapseAllCells="jupyter.collapseallcells",U.ExportOutputAsNotebook="jupyter.exportoutputasnotebook",U.ExecSelectionInInteractiveWindow="jupyter.execSelectionInteractive",U.RunFileInInteractiveWindows="jupyter.runFileInteractive",U.DebugFileInInteractiveWindows="jupyter.debugFileInteractive",U.AddCellBelow="jupyter.addcellbelow",U.DebugCurrentCellPalette="jupyter.debugcurrentcell.palette",U.DebugCell="jupyter.debugcell",U.DebugStepOver="jupyter.debugstepover",U.DebugContinue="jupyter.debugcontinue",U.DebugStop="jupyter.debugstop",U.RunCurrentCellAndAddBelow="jupyter.runcurrentcellandaddbelow",U.InsertCellBelowPosition="jupyter.insertCellBelowPosition",U.InsertCellBelow="jupyter.insertCellBelow",U.InsertCellAbove="jupyter.insertCellAbove",U.DeleteCells="jupyter.deleteCells",U.SelectCell="jupyter.selectCell",U.SelectCellContents="jupyter.selectCellContents",U.ExtendSelectionByCellAbove="jupyter.extendSelectionByCellAbove",U.ExtendSelectionByCellBelow="jupyter.extendSelectionByCellBelow",U.MoveCellsUp="jupyter.moveCellsUp",U.MoveCellsDown="jupyter.moveCellsDown",U.ChangeCellToMarkdown="jupyter.changeCellToMarkdown",U.ChangeCellToCode="jupyter.changeCellToCode",U.GotoNextCellInFile="jupyter.gotoNextCellInFile",U.GotoPrevCellInFile="jupyter.gotoPrevCellInFile",U.ScrollToCell="jupyter.scrolltocell",U.CreateNewNotebook="jupyter.createnewnotebook",U.ViewJupyterOutput="jupyter.viewOutput",U.ExportAsPythonScript="jupyter.exportAsPythonScript",U.ExportToHTML="jupyter.exportToHTML",U.ExportToPDF="jupyter.exportToPDF",U.Export="jupyter.export",U.NativeNotebookExport="jupyter.notebookeditor.export",U.LatestExtension="jupyter.latestExtension",U.EnableLoadingWidgetsFrom3rdPartySource="jupyter.enableLoadingWidgetScriptsFromThirdPartySource",U.NotebookEditorExpandAllCells="jupyter.notebookeditor.expandallcells",U.NotebookEditorCollapseAllCells="jupyter.notebookeditor.collapseallcells",U.EnableDebugLogging="jupyter.enableDebugLogging",U.ResetLoggingLevel="jupyter.resetLoggingLevel",U.ShowDataViewer="jupyter.showDataViewer",U.RefreshDataViewer="jupyter.refreshDataViewer",U.ClearSavedJupyterUris="jupyter.clearSavedJupyterUris",U.OpenVariableView="jupyter.openVariableView",U.OpenOutlineView="jupyter.openOutlineView",U.InteractiveClearAll="jupyter.interactive.clearAllCells",U.InteractiveGoToCode="jupyter.interactive.goToCode",U.InteractiveCopyCell="jupyter.interactive.copyCell",U.InteractiveExportAsNotebook="jupyter.interactive.exportasnotebook",U.InteractiveExportAs="jupyter.interactive.exportas",U.RunByLine="jupyter.runByLine",U.RunAndDebugCell="jupyter.runAndDebugCell",U.RunByLineNext="jupyter.runByLineNext",U.RunByLineStop="jupyter.runByLineStop",U.ReplayPylanceLog="jupyter.replayPylanceLog",U.ReplayPylanceLogStep="jupyter.replayPylanceLogStep",U.InstallPythonExtensionViaKernelPicker="jupyter.installPythonExtensionViaKernelPicker",U.InstallPythonViaKernelPicker="jupyter.installPythonViaKernelPicker",U.ContinueEditSessionInCodespace="jupyter.continueEditSessionInCodespace"))(mt||(mt={}));var M_;(n=>(n.DefaultDesignLenses=[mt.RunCurrentCell,mt.RunAllCellsAbove,mt.DebugCell],n.DefaultDebuggingLenses=[mt.DebugContinue,mt.DebugStop,mt.DebugStepOver],n.DebuggerCommands=[mt.DebugContinue,mt.DebugStop,mt.DebugStepOver]))(M_||(M_={}));var C_;(L=>(L.HasCodeCells="jupyter.hascodecells",L.IsInteractiveActive="jupyter.isinteractiveactive",L.OwnsSelection="jupyter.ownsSelection",L.HaveNativeCells="jupyter.havenativecells",L.HaveNative="jupyter.havenative",L.IsNativeActive="jupyter.isnativeactive",L.IsInteractiveOrNativeActive="jupyter.isinteractiveornativeactive",L.IsPythonOrNativeActive="jupyter.ispythonornativeactive",L.IsPythonOrInteractiveActive="jupyter.ispythonorinteractiveeactive",L.IsPythonOrInteractiveOrNativeActive="jupyter.ispythonorinteractiveornativeeactive",L.CanRestartNotebookKernel="jupyter.notebookeditor.canrestartNotebookkernel",L.CanInterruptNotebookKernel="jupyter.notebookeditor.canInterruptNotebookKernel",L.CanRestartInteractiveWindowKernel="jupyter.interactive.canRestartNotebookKernel",L.CanInterruptInteractiveWindowKernel="jupyter.interactive.canInterruptNotebookKernel",L.RunByLineCells="jupyter.notebookeditor.runByLineCells",L.RunByLineDocuments="jupyter.notebookeditor.runByLineDocuments",L.DebugDocuments="jupyter.notebookeditor.debugDocuments",L.IsPythonNotebook="jupyter.ispythonnotebook",L.IsJupyterKernelSelected="jupyter.kernel.isjupyter",L.IsDataViewerActive="jupyter.dataViewerActive",L.HasNativeNotebookOrInteractiveWindowOpen="jupyter.hasNativeNotebookOrInteractiveWindowOpen",L.ZmqAvailable="jupyter.zmqavailable",L.ReplayLogLoaded="jupyter.replayLogLoaded",L.KernelSource="jupyter.kernelSource"))(C_||(C_={}));var A_;(f=>(f.PythonCellMarker=/^(#\s*%%|#\s*\<codecell\>|#\s*In\[\d*?\]|#\s*In\[ \])/,f.PythonMarkdownCellMarker=/^(#\s*%%\s*\[markdown\]|#\s*\<markdowncell\>)/,f.UrlPatternRegEx="(?<PREFIX>https?:\\/\\/)((\\(.+\\s+or\\s+(?<IP>.+)\\))|(?<LOCAL>[^\\s]+))(?<REST>:.+)",f.HttpPattern=/https?:\/\//,f.ShapeSplitterRegEx=/.*,\s*(\d+).*/,f.SvgHeightRegex=/(\<svg.*height=\")(.*?)\"/,f.SvgWidthRegex=/(\<svg.*width=\")(.*?)\"/,f.SvgSizeTagRegex=/\<svg.*tag=\"sizeTag=\{(.*),\s*(.*)\}\"/))(A_||(A_={}));var $x=Symbol("DataScienceStartupTime");var Xc="application/vnd.jupyter.widget-view+json",Zc="application/vnd.jupyter.widget-state+json";h();h();function bo(){}var gn=class gn{constructor(e,t,n,i,o){this.widgetContainer=e;this.postOffice=t;this.scriptLoader=n;this.JupyterLabWidgetManager=i;this.widgetState=o;this.pendingMessages=[];this.modelIdsToBeDisplayed=new Map;this.offlineModelIds=new Set;this.postOffice.addHandler(this),this.postOffice.sendMessage("IPyWidgets_Ready"),Eh((u,l)=>{this.postOffice.sendMessage("IPyWidgets_logMessage",{category:u,message:l}),u==="error"&&console.error(l)}),o&&this.initializeKernelAndWidgetManager({clientId:"",id:"",model:{id:"",name:""},userName:""},o)}static get instance(){return gn._instance}dispose(){var e;(e=this.proxyKernel)==null||e.dispose(),this.postOffice.removeHandler(this),this.clear().catch(bo)}async clear(){var e;await((e=this.manager)==null?void 0:e.clear_state())}handleMessage(e,t){var n,i;return e==="IPyWidgets_kernelOptions"?(ge("Received IPyWidgetMessages.IPyWidgets_kernelOptions"),this.initializeKernelAndWidgetManager(t)):e==="IPyWidgets_IsReadyRequest"?(ge("Received IPyWidgetMessages.IPyWidgets_IsReadyRequest"),this.postOffice.sendMessage("IPyWidgets_Ready")):e==="IPyWidgets_onRestartKernel"?(ge("Received IPyWidgetMessages.IPyWidgets_onRestartKernel"),(n=this.manager)==null||n.dispose(),this.manager=void 0,(i=this.proxyKernel)==null||i.dispose(),this.proxyKernel=void 0,gn._instance.next(void 0)):this.proxyKernel||(ge(`Received some pending message ${e}`),this.pendingMessages.push({message:e,payload:t})),!0}async restoreWidgets(e,t){if(!e||!(t!=null&&t.loadNotebook))return;if(!this.manager)throw new Error("DS IPyWidgetManager not initialized.");await this.manager.restoreWidgets(e,t);let n=e.metadata.get("widgets"),i=n&&n[Zc]?n[Zc]:void 0;if(i){let o=vt();o.resolve(),Object.keys(i.state).forEach(u=>{this.modelIdsToBeDisplayed.set(u,o),this.offlineModelIds.add(u)})}}async renderWidget(e,t){if(!e)throw new Error("application/vnd.jupyter.widget-view+json not in msg.content.data, as msg.content.data is 'undefined'.");if(!this.manager)throw new Error("DS IPyWidgetManager not initialized.");if(!e||e.version_major!==2){console.warn("Widget data not available to render an ipywidget");return}let n=e.model_id;this.modelIdsToBeDisplayed.has(n)||this.modelIdsToBeDisplayed.set(n,vt()),ge(`Waiting for model to be available before rendering it ${e.model_id}`),await this.modelIdsToBeDisplayed.get(n).promise;let i=this.manager.get_model(e.model_id);if(!i){console.warn("Widget model not available to render an ipywidget");return}let o=await i;this.widgetState&&this.offlineModelIds.has(n)&&(o.comm_live=!1);let u=await this.manager.create_view(o,{el:t});return this.widgetState&&u.initialize({model:o,el:t,options:{}}),this.manager.display_view(e,u,{node:t})}initializeKernelAndWidgetManager(e,t){var n,i;if(!(this.manager&&this.proxyKernel&&(0,P_.default)(e,this.options))){this.options=e,(n=this.proxyKernel)==null||n.dispose(),this.proxyKernel=w_(e,this.postOffice,this.pendingMessages),this.pendingMessages=[],(i=this.manager)==null||i.dispose();try{this.manager=new this.JupyterLabWidgetManager(this.proxyKernel,this.widgetContainer,this.scriptLoader,ge,t),this.proxyKernel.iopubMessage.connect(this.handleDisplayDataMessage.bind(this)),this.manager.onUnhandledIOPubMessage.connect(this.handleUnhandledIOPubMessage.bind(this)),gn._instance.next(this)}catch(o){console.error("Failed to initialize WidgetManager",o)}}}handleDisplayDataMessage(e,t){let n=Ot();if(!n.KernelMessage.isDisplayDataMsg(t)&&!n.KernelMessage.isExecuteResultMsg(t))return;let i=t;if(i.content&&i.content.data&&i.content.data[Xc]){let o=i.content.data[Xc],u=o.model_id;ge(`Received display data message ${u}`);let l=this.modelIdsToBeDisplayed.get(u);if(l||(l=vt(),this.modelIdsToBeDisplayed.set(u,l)),!this.manager)throw new Error("DS IPyWidgetManager not initialized");let f=this.manager.get_model(o.model_id);f?f.then(_=>l==null?void 0:l.resolve()).catch(_=>l==null?void 0:l.reject(_)):l.resolve()}}handleUnhandledIOPubMessage(e,t){this.postOffice.sendMessage("ipywidget_unhandled_kernel_message",t)}};gn._instance=new R_.ReplaySubject;var ki=gn;h();var dg=Qt(Ku()),fg=Qt(W_());h();var tP="https://unpkg.com/",rP="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/bin/r.min.js",nP=1e3,el=!1;async function tl(){if(el)return!0;let r=new AbortController,e,t=new Promise(n=>{e=setTimeout(()=>{n(!1),r.abort()},nP)});t.catch(()=>{});try{return el=await Promise.race([V_(tP,r.signal),V_(rP,r.signal),t]),el}finally{e&&clearInterval(e)}}async function V_(r,e){let t=1;try{for(t=0;t<=5;t++)if((await fetch(r,{signal:e})).ok)return!0;return!1}catch(n){return bt(`Failed to access CDN ${r} after ${t} attempt(s), ${(n||"").toString()}`),!1}}h();function K_(r=[]){for(;r.length;){let e=r.shift();if(e)try{e.dispose()}catch(t){}}}h();var To=Qt(og()),ag="1.1.1",UP="qgrid";function ug(r,e,t,n){if(r.source==="cdn"||!t||r.moduleName!==UP)return!1;try{if(!e.startsWith("^")&&To.compare(e,ag)<=0||e.startsWith("^")&&To.satisfies(ag,e))return!1}catch(i){return!1}n({moduleName:r.moduleName,moduleVersion:e})}h();var No=new Map;function WP(r){return r.filter(e=>!(No.has(e.moduleName)&&No.get(e.moduleName)===e.scriptUri))}function VP(r){return r.filter(e=>e.scriptUri?(ge(`Source for IPyWidget ${e.moduleName} found in ${e.source} @ ${e.scriptUri}.`),!0):(console.error(`Source for IPyWidget ${e.moduleName} not found.`),!1)).map(e=>e)}function Sl(){let r=window.requirejs;if(!r)throw window.console.error("Requirejs not found"),new Error("Requirejs not found");return r}function KP(r,e){let t=Sl(),n={paths:{}};r&&(n.baseUrl=r),bl(),e.forEach(i=>{ge(`Registering IPyWidget ${i.moduleName} found in ${i.scriptUri}.`),No.set(i.moduleName,i.scriptUri);let o=i.scriptUri.toLowerCase().endsWith(".js")?i.scriptUri.substring(0,i.scriptUri.length-3):i.scriptUri;n.paths[i.moduleName]=o}),t.config(n)}function cg(r){No.delete(r),Sl().undef(r)}function lg(r,e){let t=WP(e),n=VP(t);KP(r,n)}function bl(){bl.invoked||(bl.invoked=!0,Sl().config({map:{"*":{"jupyter-js-widgets":"@jupyter-widgets/base"}}}))}var ko=class extends fg.EventEmitter{constructor(t,n=tl()){super();this.postOffice=t;this.widgetsRegisteredInRequireJs=new Set;this.disposables=[];this.widgetSourceRequests=new Map;this.registeredWidgetSources=new Map;this.widgetModulesFailedToLoad=new Set;this.isOnline=vt();this.widgetsCanLoadFromCDN=!1;this.timeoutWaitingForScriptToLoad=6e4;this.isOnline.promise.catch(bo),n.then(i=>{this.isOnline.resolve(i),this.postOffice.sendMessage("IPyWidgets_IsOnline",{isOnline:i})}).catch(i=>bt(`Failed to check if online ${i.toString()}`)),t.addHandler({handleMessage:(i,o)=>{if(i==="update_settings"){let u=JSON.parse(o);this.widgetsCanLoadFromCDN=u.widgetScriptSources.length>0}else if(i==="IPyWidgets_WidgetScriptSource_Response")this.registerScriptSourceInRequirejs(o);else if(i==="IPyWidgets_AttemptToDownloadFailedWidgetsAgain")Array.from(this.widgetModulesFailedToLoad.values()).forEach(u=>{this.clearWidgetModuleScriptSource(u)}),this.widgetModulesFailedToLoad.clear();else if(i==="IPyWidgets_BaseUrl_Response"){let u=o;u&&(this.baseUrl=u,document.body.dataset.baseUrl=u.endsWith("/")?u:`${u}/`,ge(`data-base-url set to ${u}`))}else i==="IPyWidgets_kernelOptions"?(ge("Received IPyWidgets_kernelOptions in ScriptManager"),this.previousKernelOptions&&!(0,dg.default)(this.previousKernelOptions,o)&&(ge("Received IPyWidgets_kernelOptions in ScriptManager with new kernel options"),this.previousKernelOptions=o,this.clear())):i==="IPyWidgets_onKernelChanged"&&(ge("Received IPyWidgets_onKernelChanged in ScriptManager"),this.clear());return!0}})}dispose(){K_(this.disposables)}getScriptLoader(){return{widgetsRegisteredInRequireJs:this.widgetsRegisteredInRequireJs,errorHandler:(t,n,i,o)=>this.handleLoadError(t,n,i,o).catch(()=>{}),loadWidgetScript:(t,n)=>this.loadWidgetScript(t,n),successHandler:(t,n,i)=>this.handleLoadSuccess(t,n,i)}}onWidgetLoadSuccess(t){return this.on("onWidgetLoadSuccess",t)}onWidgetLoadError(t){return this.on("onWidgetLoadError",t)}onWidgetVersionNotSupported(t){return this.on("onWidgetVersionNotSupported",t)}async loadWidgetScript(t,n){ge(`Fetch IPyWidget source for ${t}`);let i=await this.isOnline.promise,o=this.widgetSourceRequests.get(t),u=`${t}:${n}:${Date.now().toString()}`;if(i&&o&&!o.explicitlyRequested&&o.source!=="cdn"&&(o=void 0),!o){o={deferred:vt(),timer:void 0,explicitlyRequested:!0,requestId:u};let l=this.timedoutWaitingForWidgetsToGetLoaded?5e3:this.timeoutWaitingForScriptToLoad;o.timer=setTimeout(()=>{o&&!o.deferred.resolved&&(console.error(`Timeout waiting to get widget source for ${t}, ${n}`),this.handleLoadError("<class>",t,n,new Error(`Timeout getting source for ${t}:${n}`),!0).catch(()=>{}),o.deferred.resolve(),this.timedoutWaitingForWidgetsToGetLoaded=!0)},l),this.disposables.push({dispose(){try{o!=null&&o.timer&&clearTimeout(o.timer)}catch(f){}}}),this.widgetSourceRequests.set(t,o)}this.postOffice.sendMessage("IPyWidgets_WidgetScriptSourceRequest",{moduleName:t,moduleVersion:n,requestId:u});try{await o.deferred.promise;let l=this.registeredWidgetSources.get(t);l&&ug(l,n,this.widgetsCanLoadFromCDN,f=>this.emit("onWidgetVersionNotSupported",{moduleName:f.moduleName,moduleVersion:f.moduleVersion}))}catch(l){console.error(`Failed to load Widget Script from Extension for ${t}, ${n}`,l)}}handleLoadSuccess(t,n,i){this.emit("onWidgetLoadSuccess",{className:t,moduleName:n,moduleVersion:i})}clearWidgetModuleScriptSource(t){this.widgetSourceRequests.delete(t),this.registeredWidgetSources.delete(t),this.widgetsRegisteredInRequireJs.delete(t),cg(t)}clear(){this.widgetSourceRequests.clear(),this.registeredWidgetSources.clear()}registerScriptSourcesInRequirejs(t){ge(`Received IPyWidget scripts ${JSON.stringify(t||[])}`),!(!Array.isArray(t)||t.length===0)&&t.forEach(n=>{let i=this.registeredWidgetSources.get(n.moduleName);(!i||i.source&&i.source!=="cdn")&&(lg(this.baseUrl,[n]),this.registeredWidgetSources.set(n.moduleName,n),this.widgetsRegisteredInRequireJs.add(n.moduleName));let o=this.widgetSourceRequests.get(n.moduleName);o||(o={deferred:vt(),timer:void 0,source:n.source,requestId:n.requestId||"",explicitlyRequested:!1},this.widgetSourceRequests.set(n.moduleName,o)),n.requestId&&n.requestId===o.requestId?(o.source=n.source,o.deferred.resolve()):n.requestId||(o.source=n.source,o.deferred.resolve()),o.deferred.completed&&o.timer!==void 0&&clearTimeout(o.timer)})}registerScriptSourceInRequirejs(t){if(!t){ge("No widget script source");return}this.registerScriptSourcesInRequirejs([t])}async handleLoadError(t,n,i,o,u=!1){this.widgetModulesFailedToLoad.add(n);let l=await tl();this.emit("onWidgetLoadError",{className:t,moduleName:n,moduleVersion:i,error:o,timedout:u,isOnline:l})}};var wl=class{constructor(e,t,n){this.postOffice=e;this.widgetsCanLoadFromCDN=!1;this.scriptManager=new ko(e),this.scriptManager.onWidgetLoadError(this.handleLoadError.bind(this)),this.scriptManager.onWidgetLoadSuccess(this.handleLoadSuccess.bind(this)),this.scriptManager.onWidgetVersionNotSupported(this.handleUnsupportedWidgetVersion.bind(this)),this.widgetManager=new ki(void 0,e,this.scriptManager.getScriptLoader(),t,n),e.addHandler({handleMessage:(i,o)=>{if(i==="update_settings"){let u=JSON.parse(o);this.widgetsCanLoadFromCDN=u.widgetScriptSources.length>0}return!0}})}dispose(){this.widgetManager.dispose()}async handleLoadError(e){this.postOffice.sendMessage("ipywidget_load_failure",{className:e.className,moduleName:e.moduleName,moduleVersion:e.moduleVersion,cdnsUsed:this.widgetsCanLoadFromCDN,isOnline:e.isOnline,timedout:e.timedout,error:JSON.stringify(e.error)}),console.error(`Failed to to Widget load class ${e.moduleName}${e.className}`,e)}handleUnsupportedWidgetVersion(e){this.postOffice.sendMessage("ipywidget_widget_version_not_supported",{moduleName:e.moduleName,moduleVersion:e.moduleVersion})}handleLoadSuccess(e){this.postOffice.sendMessage("ipywidget_load_success",{className:e.className,moduleName:e.moduleName,moduleVersion:e.moduleVersion})}},BP=new Map,Dt=new Map,xo=[];async function HP(r,e,t,n){try{xo.push({outputId:r.id,container:t}),$P(r.id,e,t,n)}catch(i){throw n(`Error: render output ${r.id} failed ${i.toString()}`,"error"),i}}function GP(r){r&&(xo=xo.filter(e=>!(r in e)))}function $P(r,e,t,n){var o,u,l,f;if(n(`Rendering IPyWidget ${r} with model ${e.model_id} in ${t.id}`),Dt.has(r)&&((o=Dt.get(r))==null?void 0:o.container)===t&&((u=Dt.get(r))==null?void 0:u.modelId)===e.model_id)return n("already rendering");let i=0;if(Dt.has(r)){i=100,n("Widget was already rendering for another container, dispose that widget so we can re-render it");try{(f=(l=Dt.get(r))==null?void 0:l.widget)==null||f.dispose()}catch(_){}}if(t.firstChild)try{t.removeChild(t.firstChild)}catch(_){}new Promise(_=>setTimeout(_,i)).then(()=>{let _=document.createElement("div");_.className="cell-output cell-output",typeof e._vsc_test_cellIndex=="number"&&(t.className+=` vsc-test-cell-index-${e._vsc_test_cellIndex}`);let v=document.createElement("div");v.className="cell-output-ipywidget-background",t.appendChild(v),v.appendChild(_),Dt.set(r,{container:t,modelId:e.model_id}),JP(e,v).then(g=>{var I;if(((I=Dt.get(r))==null?void 0:I.container)!==t){n("Widget container changed, hence disposing the widget"),g==null||g.dispose();return}Dt.has(r)&&(Dt.get(r).widget=g);let M={dispose:()=>{Dt.delete(r),g==null||g.dispose()}};BP.set(r,M);let W=xo.find(x=>x.outputId===r);W&&(W.success=!0)}).catch(g=>{n(`Error: Failed to render ${r}, ${g.toString()}`,"error")})}).catch(_=>{n(`Error: Failed to render ${r}, ${_.toString()}`,"error")})}var Ui;async function _g(){if(!Ui){let e=function(t){ki.instance.subscribe(n=>{if(n){let i=n.dispose.bind(n);n.dispose=()=>(Ui=void 0,i()),t&&(t(n),t=void 0),Ui=Promise.resolve(n)}})};var r=e;Ui=new Promise(t=>e(t))}return Ui}async function JP(r,e){try{let t=await _g();return await(t==null?void 0:t.renderWidget(r,e))}catch(t){bt(`Error: Failed to render widget ${r.model_id}, ${t.toString()}`)}}async function zP(r){await new Promise(e=>{let t=()=>{if(window.vscIPyWidgets)return e();setTimeout(t,1e3)};setTimeout(t,1e3)});try{vg(r);let e=await _g(),t={metadata:{get:n=>r}};return await(e==null?void 0:e.restoreWidgets(t,{loadKernel:!1,loadNotebook:!0}))}catch(e){bt(`Error: Failed to render widget state ${r}, ${e.toString()}`)}}var hg=!1;function XP(r,e,t){if(hg){bt("Error: WidgetManager already initialized");return}try{let n=new Cs(e),i=new wl(n,r,t);window._mgr=i,hg=!0}catch(n){bt(`Error: Exception initializing WidgetManager, ${n.toString()}`)}}var El;window.ipywidgetsKernel={renderOutput:HP,disposeOutput:GP,restoreWidgets:zP,initialize:()=>{gg(El)}};function gg(r){r.postKernelMessage({type:"IPyWidgets_Request_Widget_Version"})}function vg(r){ge("IPyWidget kernel initializing...");let e=window.vscIPyWidgets.WidgetManager;if(!e)throw new Error("JupyterLabWidgetManager not defined. Please include/check ipywidgets.js file");XP(e,El,r)}var pg=!1;function Xj(r){El=r,ge(`Attempt Initialize IpyWidgets kernel.js : ${JSON.stringify(r)}`),r.onDidReceiveKernelMessage(async e=>{if(typeof e=="object"&&e&&"type"in e&&e.type==="IPyWidgets_Reply_Widget_Version"&&"payload"in e&&typeof e.payload=="number"){if(pg)return;pg=!0;try{let t=e.payload;ge(`Loading IPyWidget Version ${t}`);let n=new Promise(l=>{let f=()=>{if(window.vscIPyWidgets7)return l();setTimeout(f,500)};setTimeout(f,500)}),i=new Promise(l=>{let f=()=>{if(window.vscIPyWidgets8)return l();setTimeout(f,500)};setTimeout(f,500)});await Promise.all([n,i]),t===7?((()=>{try{window.vscIPyWidgets8.unload()}catch(l){}})(),window.vscIPyWidgets7.load(),ge("Loaded IPYWidgets 7.x from Kernel")):t===8&&((()=>{try{window.vscIPyWidgets7.unload()}catch(l){}})(),window.vscIPyWidgets8.load(),ge("Loaded IPYWidgets 8.x from Kernel")),vg()}catch(t){bt(`Failed to load IPyWidget Version ${e.payload}, ${t}`)}}}),gg(r)}export{Xj as activate,GP as disposeOutput,HP as renderOutput};
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.29.4 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)

@lumino/polling/dist/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)

@lumino/disposable/dist/index.js:
  (*! *****************************************************************************
      Copyright (c) Microsoft Corporation.
  
      Permission to use, copy, modify, and/or distribute this software for any
      purpose with or without fee is hereby granted.
  
      THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
      REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
      AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
      INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
      LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
      OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
      PERFORMANCE OF THIS SOFTWARE.
      ***************************************************************************** *)
*/
